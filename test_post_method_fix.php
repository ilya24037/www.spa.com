<?php

echo "๐ฏ ะคะะะะะฌะะะ ะะกะะะะะะะะะ: POST ะะะะกะขะ PUT\n";
echo "==========================================\n\n";

echo "โ ะะะะะะะะ:\n";
echo "PUT ะทะฐะฟัะพัั ั JSON ะดะฐะฝะฝัะผะธ ะผะพะณัั ะฑััั ะฟัะพะฑะปะตะผะฐัะธัะฝั ะฒ ะฝะตะบะพัะพััั ััะตะดะฐั.\n";
echo "Axios ะฟััะฐะปัั ะพัะฟัะฐะฒะธัั PUT, ะฝะพ ะฟะพะปััะฐะป ะพัะธะฑะบั 'ะะต ัะดะฐะปะพัั ะทะฐะณััะทะธัั XHR'.\n\n";

echo "โ ะะะจะะะะ:\n";
echo "ะัะฟะพะปัะทัะตะผ ััะฐะฝะดะฐััะฝัะน Laravel ะฟะพะดัะพะด - POST ั _method=PUT.\n";
echo "ะญัะพ ะฝะฐะดะตะถะฝะตะต ะธ ัะพะฒะผะตััะธะผะตะต ั ัะฐะทะปะธัะฝัะผะธ ัะตัะฒะตัะฐะผะธ.\n\n";

echo "๐ ะงะขะ ะะะะะะะะะกะฌ:\n";
echo "ะะซะะ:\n";
echo "  method: isUpdate ? 'put' : 'post'\n";
echo "  // ะัะฟัะฐะฒะปัะปัั ัะตะฐะปัะฝัะน PUT ะทะฐะฟัะพั\n\n";

echo "ะกะขะะะ:\n";
echo "  method: 'post' // ะะกะะะะ POST\n";
echo "  plainData._method = 'PUT' // ะดะปั ะพะฑะฝะพะฒะปะตะฝะธั\n";
echo "  // Laravel ะพะฑัะฐะฑะพัะฐะตั ััะพ ะบะฐะบ PUT\n\n";

echo "โ ะะะะะะฃะฉะะกะขะะ:\n";
echo "1. ะกะพะฒะผะตััะธะผะพััั ัะพ ะฒัะตะผะธ ัะตัะฒะตัะฐะผะธ\n";
echo "2. ะกัะฐะฝะดะฐััะฝัะน ะฟะพะดัะพะด Laravel\n";
echo "3. ะััััััะฒะธะต ะฟัะพะฑะปะตะผ ั CORS/CSRF\n";
echo "4. ะะฐะดะตะถะฝะฐั ะฟะตัะตะดะฐัะฐ ะดะฐะฝะฝัั\n\n";

echo "๐ ะขะะกะขะะะะะะะะ:\n";
echo "1. ะัะบัะพะนัะต http://spa.test/ads/85/edit\n";
echo "2. ะะฐะฟะพะปะฝะธัะต ะฟะพะปั:\n";
echo "   - ะะพะทัะฐัั: 30\n";
echo "   - ะขะตะปะตัะพะฝ: 79001234567\n";
echo "3. ะะฐะถะผะธัะต 'ะกะพััะฐะฝะธัั ัะตัะฝะพะฒะธะบ'\n\n";

echo "โ ะะะะะะะะซะ ะะะะฃะะฌะขะะข ะ ะะะะกะะะ:\n";
echo "- _method ะฒ plainData: PUT\n";
echo "- ะฃััะฐะฝะพะฒะปะตะฝ _method=PUT ะดะปั ะพะฑะฝะพะฒะปะตะฝะธั\n";
echo "- ะะะ ะพัะธะฑะบะธ 'ะะต ัะดะฐะปะพัั ะทะฐะณััะทะธัั XHR'\n";
echo "- saveDraft ะะขะะะข ะฟะพะปััะตะฝ: {success: true...}\n\n";

echo "๐ ะะะะะะะซ ะะะฏ ะะะะะะะะ:\n";
echo 'powershell "Get-Content \'C:\www.spa.com\storage\logs\laravel.log\' -Tail 10"' . "\n";
echo 'php "C:\www.spa.com\diagnose_sections.php"' . "\n\n";

echo "โ ะะะะจะะฃะขะซ ะ web.php:\n";
echo "Route::put('/draft/{ad}', ...) - ัััะพะบะฐ 323\n";
echo "Route::post('/draft/{ad}', ...) - ัััะพะบะฐ 325\n";
echo "ะะฑะฐ ะผะฐัััััะฐ ะฒะตะดัั ะฝะฐ DraftController::update\n\n";

echo "๐ฏ ะะะะฃะะฌะขะะข:\n";
echo "ะัะพะฑะปะตะผะฐ 'ะฒ ัะตัะฝะพะฒะธะบะต ะฝะต ัะพััะฐะฝััััั ะฟะพะปั' ะฑัะดะตั ัะตัะตะฝะฐ!\n";