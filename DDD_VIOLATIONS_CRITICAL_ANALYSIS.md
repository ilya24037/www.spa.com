# üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –ê–ù–ê–õ–ò–ó: –ù–∞—Ä—É—à–µ–Ω–∏—è DDD –≤ User –¥–æ–º–µ–Ω–µ

## –û—Ü–µ–Ω–∫–∞ —Å–µ—Ä—å–µ–∑–Ω–æ—Å—Ç–∏: üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø (10/10)

### ‚ùå –û–ë–ù–ê–†–£–ñ–ï–ù–ù–´–ï –ù–ê–†–£–®–ï–ù–ò–Ø DDD:

#### üî• 1. –¶–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É –¥–æ–º–µ–Ω–∞–º–∏

```php
User Domain ‚Üí Booking Domain (—á–µ—Ä–µ–∑ HasBookings trait)
User Domain ‚Üí Master Domain (—á–µ—Ä–µ–∑ HasMasterProfile trait)

Booking Domain ‚Üí User Domain (—á–µ—Ä–µ–∑ Booking –º–æ–¥–µ–ª—å)
Master Domain ‚Üí User Domain (—á–µ—Ä–µ–∑ MasterProfile –º–æ–¥–µ–ª—å)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –¶–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–∞—Ä—É—à–∞—é—Ç –ø—Ä–∏–Ω—Ü–∏–ø –∏–∑–æ–ª—è—Ü–∏–∏ –¥–æ–º–µ–Ω–æ–≤!

#### üî• 2. –ü—Ä—è–º—ã–µ –∏–º–ø–æ—Ä—Ç—ã –º–æ–¥–µ–ª–µ–π –∏–∑ –¥—Ä—É–≥–∏—Ö –¥–æ–º–µ–Ω–æ–≤

```php
// HasBookings.php:
use App\Domain\Booking\Models\Booking;

// HasMasterProfile.php:
use App\Domain\Master\Models\MasterProfile;
```

**–ü—Ä–æ–±–ª–µ–º–∞:** User –¥–æ–º–µ–Ω –∑–Ω–∞–µ—Ç –æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –¥—Ä—É–≥–∏—Ö –¥–æ–º–µ–Ω–æ–≤

#### üî• 3. –ú–∞—Å—Å–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–µ–∂–¥–æ–º–µ–Ω–Ω—ã—Ö —Å–≤—è–∑–µ–π

**bookings() –º–µ—Ç–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ 12 —Ñ–∞–π–ª–∞—Ö:**
- UserService.php
- ProfileController.php
- MasterRepository.php
- FavoriteController.php
- –∏ –¥—Ä—É–≥–∏–µ...

**masterProfile/masterProfiles –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ 36 —Ñ–∞–π–ª–∞—Ö:**
- BookingService.php
- MasterService.php
- BookingController.php
- ProfileController.php
- –∏ –¥—Ä—É–≥–∏–µ...

### üìä –ú–ê–°–®–¢–ê–ë –ü–†–û–ë–õ–ï–ú–´:

| –ü–æ–∫–∞–∑–∞—Ç–µ–ª—å | –ó–Ω–∞—á–µ–Ω–∏–µ | –ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å |
|------------|----------|-------------|
| –ü—Ä—è–º—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π | 2 (Booking + Master) | üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è |
| –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ bookings() | 12 —Ñ–∞–π–ª–æ–≤ | üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è |
| –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ masterProfile | 36 —Ñ–∞–π–ª–æ–≤ | üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è |
| –ó–∞—Ç—Ä–æ–Ω—É—Ç—ã—Ö –¥–æ–º–µ–Ω–æ–≤ | 3 (User, Booking, Master) | üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è |

### üéØ –ü–†–ê–í–ò–õ–¨–ù–ê–Ø DDD –ê–†–•–ò–¢–ï–ö–¢–£–†–ê:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    Events/Listeners    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   User Domain   ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ Booking Domain  ‚îÇ
‚îÇ                 ‚îÇ                        ‚îÇ                 ‚îÇ
‚îÇ - User          ‚îÇ    Interface/DTO       ‚îÇ - Booking       ‚îÇ
‚îÇ - UserProfile   ‚îÇ                        ‚îÇ - BookingSlot   ‚îÇ
‚îÇ - UserSettings  ‚îÇ                        ‚îÇ                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚ñ≤                                           ‚ñ≤
         ‚îÇ                                           ‚îÇ
         ‚îÇ               Events/Listeners            ‚îÇ
         ‚îÇ          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê          ‚îÇ
         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ  Master Domain      ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    ‚îÇ                     ‚îÇ
                    ‚îÇ - MasterProfile     ‚îÇ
                    ‚îÇ - MasterMedia       ‚îÇ
                    ‚îÇ - MasterSchedule    ‚îÇ
                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### ‚úÖ –†–ï–ö–û–ú–ï–ù–î–£–ï–ú–´–ï –†–ï–®–ï–ù–ò–Ø:

#### üöÄ –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ (1-2 –Ω–µ–¥–µ–ª–∏):
1. **–°–æ–∑–¥–∞—Ç—å Events –¥–ª—è —Å–≤—è–∑–µ–π**:
   ```php
   // –í–º–µ—Å—Ç–æ –ø—Ä—è–º–æ–≥–æ –æ–±—Ä–∞—â–µ–Ω–∏—è:
   $user->bookings()->create($data);
   
   // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏—è:
   event(new BookingCreated($userId, $data));
   ```

2. **–°–æ–∑–¥–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è —Å–≤—è–∑–µ–π**:
   ```php
   interface BookingRepositoryInterface {
       public function getUserBookings(int $userId): Collection;
   }
   ```

#### üéØ –°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω—ã–µ (2-4 –Ω–µ–¥–µ–ª–∏):
3. **–°–æ–∑–¥–∞—Ç—å Integration Layer**:
   ```php
   app/Integration/
   ‚îú‚îÄ‚îÄ UserBookingIntegration.php
   ‚îú‚îÄ‚îÄ UserMasterIntegration.php
   ‚îî‚îÄ‚îÄ DTOs/
       ‚îú‚îÄ‚îÄ UserBookingDTO.php
       ‚îî‚îÄ‚îÄ UserMasterDTO.php
   ```

4. **–í—ã–Ω–µ—Å—Ç–∏ —Å–≤—è–∑–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã**:
   ```php
   app/Application/Services/
   ‚îú‚îÄ‚îÄ UserBookingService.php
   ‚îî‚îÄ‚îÄ UserMasterService.php
   ```

#### üèóÔ∏è –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ (1-2 –º–µ—Å—è—Ü–∞):
5. **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –≤—Å–µ—Ö –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤** –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤ –≤–º–µ—Å—Ç–æ –ø—Ä—è–º—ã—Ö —Å–≤—è–∑–µ–π
6. **–°–æ–∑–¥–∞–Ω–∏–µ CQRS –ø–∞—Ç—Ç–µ—Ä–Ω–∞** –¥–ª—è —á—Ç–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –¥–æ–º–µ–Ω–∞–º–∏
7. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Repository Pattern** —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏

### üö® –†–ò–°–ö–ò –¢–ï–ö–£–©–ï–ô –ê–†–•–ò–¢–ï–ö–¢–£–†–´:

1. **–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è –¥–æ–º–µ–Ω–æ–≤**
2. **–°–ª–æ–∂–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è** –∏–∑-–∑–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
3. **–í—ã—Å–æ–∫–∞—è —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å** - –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –æ–¥–Ω–æ–º –¥–æ–º–µ–Ω–µ –ª–æ–º–∞—é—Ç –¥—Ä—É–≥–∏–µ
4. **–ù–∞—Ä—É—à–µ–Ω–∏–µ Single Responsibility** - User –∑–Ω–∞–µ—Ç –æ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ –¥—Ä—É–≥–∏—Ö –¥–æ–º–µ–Ω–æ–≤

### üìã –ü–õ–ê–ù –ü–û–≠–¢–ê–ü–ù–û–ì–û –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø:

#### –ù–µ–¥–µ–ª—è 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞
- [ ] –°–æ–∑–¥–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤
- [ ] –°–æ–∑–¥–∞—Ç—å Events –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
- [ ] –ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è

#### –ù–µ–¥–µ–ª—è 2: Events
- [ ] –ó–∞–º–µ–Ω–∏—Ç—å –ø—Ä—è–º—ã–µ –≤—ã–∑–æ–≤—ã –Ω–∞ —Å–æ–±—ã—Ç–∏—è –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞—Ö
- [ ] –°–æ–∑–¥–∞—Ç—å Listeners –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏–π
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ

#### –ù–µ–¥–µ–ª—è 3-4: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Ç—Ä–µ–π—Ç–æ–≤
- [ ] –°–æ–∑–¥–∞—Ç—å UserBookingService –≤–º–µ—Å—Ç–æ HasBookings
- [ ] –°–æ–∑–¥–∞—Ç—å UserMasterService –≤–º–µ—Å—Ç–æ HasMasterProfile
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

#### –ù–µ–¥–µ–ª—è 5-6: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Å–ª–æ–π
- [ ] –°–æ–∑–¥–∞—Ç—å Integration Services
- [ ] –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –ª–æ–≥–∏–∫—É —Å–≤—è–∑–µ–π –∏–∑ —Ç—Ä–µ–π—Ç–æ–≤
- [ ] –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### üéØ –û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢:

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚úÖ –î–æ–º–µ–Ω—ã –±—É–¥—É—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º–∏
- ‚úÖ –£–ø—Ä–æ—Å—Ç–∏—Ç—Å—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –ü–æ–≤—ã—Å–∏—Ç—Å—è maintainability
- ‚úÖ –°–æ–±–ª—é–¥–µ–Ω–∏–µ DDD –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤

## üî¥ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï:

–¢–µ–∫—É—â–∏–µ –Ω–∞—Ä—É—à–µ–Ω–∏—è DDD —è–≤–ª—è—é—Ç—Å—è **–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ú–ò** –∏ —Ç—Ä–µ–±—É—é—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è. –ë–µ–∑ —ç—Ç–æ–≥–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –±—É–¥–µ—Ç –¥–µ–≥—Ä–∞–¥–∏—Ä–æ–≤–∞—Ç—å, –∞ —Ä–∞–∑–≤–∏—Ç–∏–µ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π —Å—Ç–∞–Ω–µ—Ç –∫—Ä–∞–π–Ω–µ —Å–ª–æ–∂–Ω—ã–º.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ù–∞—á–∞—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ, –Ω–∞—á–∏–Ω–∞—è —Å Events/Listeners –∫–∞–∫ –Ω–∞–∏–º–µ–Ω–µ–µ –∏–Ω–≤–∞–∑–∏–≤–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è.