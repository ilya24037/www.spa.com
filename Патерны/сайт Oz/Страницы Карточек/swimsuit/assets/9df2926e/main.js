(self.webpackChunkHost=self.webpackChunkHost||[]).push([["main"],{"85ca7":(e,t,r)=>{"use strict";r.r(t),r.d(t,{AbstractActionsService:()=>me,AbstractApiService:()=>Ee,AbstractAtomActionsDispatcher:()=>Ke,AbstractService:()=>ve,AbstractStoreService:()=>Re,ApiLoggerError:()=>m,CLICK_MIDDLE_MOUSE_BTN:()=>j,CLICK_RIGHT_MOUSE_BTN:()=>L,CustomError:()=>h,EAtomActionBehavior:()=>Je,ESWStatus:()=>te,EventBus:()=>ge,LoggerError:()=>v,PATH_DELIMITER:()=>de,PayloadError:()=>f,REL_NOOPENER:()=>N,ROUTER_METHODS:()=>k,TARGET_VARIANTS:()=>x,VkBridge:()=>De,WidgetError:()=>y,addPathDelimeter:()=>ue,addProtocol:()=>pe,addURLParameters:()=>fe,cacheCartPageSW:()=>ie,cacheHomePageSW:()=>ae,changeRoute:()=>P,createObservableStub:()=>Z,createVideoPrefetchUrl:()=>se,deepFreeze:()=>X,dictionary:()=>H,getBrowserApiUrl:()=>_,getCookie:()=>$,getHashAndOffset:()=>R,getHeadersByConvention:()=>G,getOrigin:()=>w,getVideoContentType:()=>ce,getVideoDuration:()=>ne,isEmpty:()=>K,isObject:()=>F,isObjectOrArray:()=>Y,isPWA:()=>A,isPlainObject:()=>J,isPromise:()=>ee,isServiceWorkerAvailable:()=>re,joinQueryParams:()=>le,parseCookie:()=>D,prepareCookiePayload:()=>W,preparePropsForRendering:()=>M,removeURLParameters:()=>he,scrollTo:()=>T,scrollToPosition:()=>O,sendMessageToSW:()=>oe,unsubscribableStub:()=>Q});var o=r("81906"),n=r.n(o),c=r("01873"),d=r("b517d"),l=r("d6455");class h{constructor(e){this.message=e,this.name="Error";var t=new Error;this.stack=t.stack||""}toString(){return this.message+this.stack}}class f extends h{constructor(){super(...arguments),this.payload={}}setPayloadValue(e,t){void 0!==t&&(this.payload[e]=t)}mergePayload(e){return Object.entries(e).forEach(([e,t])=>{this.setPayloadValue(e,t)}),this}getPayload(){return this.payload}toString(){return this.message+` with payload: ${JSON.stringify(this.getPayload())} `+this.stack}getDebugInfo(){return this.getPayload()}}class v extends f{constructor(e){super(e.value),this.type=e,this.zone=void 0,e.zone&&(this.zone=e.zone)}toLoggerMessage(){return{message:this.type,payload:this.getPayload()}}getType(){return this.type}}class m extends v{toLoggerMessage(){var e=this.getPayload();return{message:this.getType(),payload:{exception:e.exception,stack:e.stack,requestUrl:e.requestUrl,method:e.method,serviceName:e.serviceName,response:e.response,uuid:e.uuid,statusCode:e.statusCode,traceId:e.traceId}}}}class y extends v{toLoggerMessage(){var e=this.getPayload(),t=this.getNonallowedNames(e);return{message:this.getType(),payload:Object.assign(Object.assign({stack:e.stack,widget:e.widget,placeholderName:e.placeholderName},t),{component:e.component,stateId:e.stateId,vertical:e.vertical,version:e.version,error:e.error,layout:e.layout,layoutModal:e.layoutModal,layoutNotify:e.layoutNotify,requestedStateId:e.requestedStateId,triggerMutation:e.triggerMutation,response:e.response,invalidType:e.invalidType,invalidValue:e.invalidValue})}}getNonallowedNames(e){return e.disallowNames?{disallowNames:e.disallowNames,disallowIds:e.disallowIds}:{nonexistNames:e.nonexistNames,nonexistIds:e.nonexistIds}}}function w(){return window.location.origin||function(){var{protocol:e,hostname:t,port:r}=window.location;return`${e}//${t}${r?":"+r:""}`}()}function _(e="api"){return`${w()}/${e}/`}var S=e=>e===window,E=(e,t)=>S(e)?{x:(e.scrollX||e.pageXOffset||0)+t.x,y:(e.scrollY||e.pageYOffset||0)+t.y}:{x:(e.scrollLeft||0)+t.x,y:(e.scrollTop||0)+t.y},O=(e,t,r)=>{if("undefined"!=typeof window){var o=performance.now(),n=r||{},c=n.container?document.querySelector(n.container):window,d=(e=>S(e)?{x:0,y:0}:{x:e.offsetLeft-(window.scrollX||window.pageXOffset),y:e.offsetTop-(window.scrollY||window.pageYOffset)})(c),l=E(c,d),h={x:e.x||0,y:e.y||0},f=((e,t)=>({x:e.x<t.x?1:-1,y:e.y<t.y?1:-1}))(l,h),v=0,animate=time=>{var r=time-o,m={x:0,y:0};if(r>0){var y=t-r,w=((e,t)=>e?t-e:t)(v,r),_=((e,t)=>({x:t.x-e.x,y:t.y-e.y}))(l,h);m=((e,t,r)=>({x:e*t.x/r,y:e*t.y/r}))(w,_,y),v=r}var S=((e,t)=>({x:e.x+t.x,y:e.y+t.y}))(l,m);((e,t,r,o,n)=>!(r<o)||1===n.x&&e.x>t.x||-1===n.x&&e.x<t.x||1===n.y&&e.y>t.y||-1===n.y&&e.y<t.y)(S,e,r,t,f)?(c.scrollTo(h.x-d.x,h.y-d.y),n.onAfter&&n.onAfter()):(c.scrollBy(m.x,m.y),l=E(c,d),requestAnimationFrame(animate))};requestAnimationFrame(animate)}},T=(e,t,r={})=>{if("undefined"!=typeof window){var o="string"==typeof e?document.querySelector(e):e;if(o){var n=((e,t,{offsetLeft:r=0,offsetTop:o=0}={})=>{if(t===window){var n=document.body.getBoundingClientRect(),c=e.getBoundingClientRect();return{x:c.left-n.left-r||0,y:c.top-n.top-o||0}}return{x:(e.offsetLeft||0)-(window.scrollX||window.pageXOffset)-r,y:(e.offsetTop||0)-(window.scrollY||window.pageYOffset)-o}})(o,r.container?document.querySelector(r.container):window,{offsetLeft:r.offsetLeft||0,offsetTop:r.offsetTop||0});O(n,t,r)}}};function R(e=""){var[,t=""]=e.split("#"),[r,o]=t.split("--offset-");return{hash:r,offsetTop:Number(o)}}var C,I,A=()=>n()(window,"navigator.standalone")||window.matchMedia("(display-mode: standalone)").matches||window.Telegram,x={UNSET:"",SELF:"_self",BLANK:"_blank",PARENT:"_parent",TOP:"_top"},k=["push","replace"],N="noopener",j=2,L=3,P=async(e,t,r,o)=>{if(!t||t.which!==L){var n=e.resolve("ComposerRouter"),c=()=>{"function"==typeof o&&o(t)};if(A()||!r.target&&r.href||!o){var d=((e,t)=>!(!e||!e.ctrlKey&&!e.metaKey&&e.which!==j&&(A()||t.target!==x.BLANK&&"auxclick"!==e.type)))(t,r);if(c(),!t.defaultPrevented)if(r.href&&"#"===r.href[0]){var{hash:l,offsetTop:h}=R(r.href);T(`#${l}`,300,h?{offsetTop:h}:void 0)}else t.preventDefault(),r.href&&r.href.startsWith("http")?n.redirect(r.href,d?"_blank":"_self"):r.href&&(d?n.redirect(r.href,"_blank"):r.method&&await n[r.method](r.href,{silent:r.silent,scroll:r.scroll}))}else c()}},M=(e,t)=>{var r=!(e.noBlank||A()||t.experimentsNoBlank||t.isAurora);return"home"===t.pageType&&r&&(e.target=x.BLANK),e.target===x.BLANK&&-1===(e.rel||"").indexOf(N)&&(e.rel=e.rel?`${e.rel} ${N}`:N),e},D=e=>{if("string"!=typeof e||!e)throw new TypeError('The argument "str" cannot be empty and must be of type "string"');var t={key:null,value:null,options:{}},r=e.split(";"),o=B(r[0]);if(!o.key)throw new TypeError("Empty cookie name");if(!o.value)throw new TypeError("Empty cookie value");t.key=o.key,t.value=o.value;for(var i=1;i<r.length;++i)o=B(r[i]),t.options[o.key]=o.value;return t},B=e=>{var t=e.split("=");return{key:decodeURIComponent(t[0]),value:t[1]?decodeURIComponent(t[1]):t[1]}},$=e=>{var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([.$?*|{}()\[\]\\\/+^])/g,"\\$1")+"=([^;]*)"));if(t)return decodeURIComponent(t[1])},W=e=>{var{key:t,value:r,options:o={}}=e,n="path=/;";for(var param in o)n+=`${param}=${o[param]};`;return{cookies:[{name:t,value:r,params:n}]}};function H(e,t){var r={};return Object.keys(t).forEach(o=>{r[o]={value:t[o],zone:e,errorCode:o}}),Object.freeze(r)}!function(e){e.mWebClient="mweb_client",e.dWebClient="dweb_client"}(C||(C={})),function(e){e.name="x-o3-app-name",e.version="x-o3-app-version",e.manifest="x-o3-manifest-version",e.requestId="x-o3-parent-requestid",e.pageViewId="x-page-view-id"}(I||(I={}));var U=(e="desktop")=>"desktop"===e?C.dWebClient:C.mWebClient,V=()=>{var e=[],t="release/osrch/20250806-0";return/release/.test(t)&&e.push("release"),/hotfix/.test(t)&&e.push("hotfix"),e.push("11-7-2025"),e.push("9df2926e"),e.join("_")},z=e=>{var t="frontend-ozon-ru",r="9df2926e3d79932d41f7b0811c755d43623568b8",o=new Map;return Object.values(e).forEach(({buildVersion:e,serviceName:r})=>{r&&e&&r!==t&&o.set(r,e)}),o.size?[`${t}:${r}`,...Array.from(o).map(([e,t])=>`${e}:${t}`)].join(","):r},G=(e,t="desktop",r="",o="")=>({[I.name]:U(t),[I.version]:V(),[I.manifest]:z(e),[I.requestId]:r,[I.pageViewId]:o}),F=e=>null!==e&&"object"==typeof e&&!1===Array.isArray(e),Y=e=>Array.isArray(e)||"object"==typeof e&&null!==e,J=e=>{if(!F(e)||"[object Object]"!==Object.prototype.toString.call(e))return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t},K=e=>{var t=typeof e;return"number"===t||"boolean"===t||null==e||("string"===t||Array.isArray(e)?!e.length:e instanceof Map||e instanceof Set?!e.size:"function"!=typeof e&&"object"!=typeof e||!Object.keys(e).length)},X=e=>(null!=e&&"object"==typeof e&&(Object.isFrozen(e)||Object.freeze(e),Object.getOwnPropertyNames(e).forEach(t=>{X(e[t])})),e),Q={unsubscribe(){}},Z=()=>({subscribe:()=>Q,pipe:()=>Z()});function ee(e){return!!e&&"function"==typeof e.then}var te,re="object"==typeof window&&window.navigator&&"serviceWorker"in window.navigator;function oe(e){re&&navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage&&navigator.serviceWorker.controller.postMessage(e)}function ie(e){var t=e.resolve("ComposerStore"),r=t.state._get("experimentsConfig.prerenderCartPageSW",!1),o=t.state._get("experimentsConfig.enableSWCaching",!1),n=t.state._get("layoutTrackingInfo.pageType");r||oe({action:"CLEAR_SW_CACHE",cacheNames:c.ECacheNames.CART}),"cart"!==n&&"checkout"!==n&&o&&r&&oe({action:"CACHE_CART_PAGE"})}function ae(e){var t=e.resolve("ComposerStore"),r=t.state._get("experimentsConfig.prerenderHomePageSW",!1),o=t.state._get("experimentsConfig.enableSWCaching",!1);r||oe({action:"CLEAR_SW_CACHE",cacheNames:c.ECacheNames.HOME_PAGE}),o&&r&&oe({action:"CACHE_HOME_PAGE"})}async function ne(e){return new Promise((t,r)=>{var video=document.createElement("video");video.preload="metadata",video.onloadedmetadata=function(){var e=video.duration;video.remove(),t(e)},video.onerror=function(){r(new Error("Не удалось загрузить метаданные видео."))},video.src=e})}function se(e){var t=new URL(e),r=t.pathname.replace(/^\/[^\/]+\//,"/sashimi/");return t.searchParams.set("sw-prefetch","true"),t.searchParams.set("fragmented","true"),t.pathname=r,t.toString()}async function ce(e){var t="",r=await fetch(e,{method:"HEAD"});if(r&&r.ok){var o=r.headers.get("content-type");o&&o.includes("codecs")&&(t=o)}return t}!function(e){e.ALIVE="ALIVE",e.REGISTER="REGISTER",e.UNREGISTER="UNREGISTER"}(te||(te={}));var de="/",le=e=>{if(!e||"object"!=typeof e)return"";var t=Object.keys(e);return 0===t.length?"":t.map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")},ue=(path,e=de)=>path.startsWith(e)?path:`${e}${path}`,pe=e=>e&&!e.startsWith("http")?`https:${ue(e,de.repeat(2))}`:e;function he(e,t){var[r,o]=e.split("?"),n=o?o.split(/[&]/g):[],c=[];return n.forEach(e=>{var r=e.indexOf("=");if(-1!==r){var o=e.substring(0,r);t.includes(o)||c.push(e)}}),c.length?`${r}?${c.join("&")}`:r}function fe(e,t){if("object"!=typeof t)return e;var r=Object.keys(t);if(!r.length)return e;e=he(e,r);var o=le(t),n=e.includes("?");return`${e}${n?"&":"?"}${o}`}class ve{constructor(e){this.__isService=!0,this.container=e.container}}class ge extends ve{get eventsSubject(){return this._eventsSubject||(this._eventsSubject=this._createSubject()),this._eventsSubject}get events$(){return this.eventsSubject.asObservable()}constructor(e){super(e),this._createSubject=()=>new d.Subject,this._eventsSubject=void 0,this._isDebugToolbarEnabled=!1,this._isDebugToolbarEnabled="true"===this.container.resolve("ComposerStore").state._get("o3Params.x-o3-debug-toolbar"),this._isDebugToolbarEnabled&&(window.$composerToolEvents=window.$composerToolEvents||[])}emit(...e){var t=e.length<2?{name:e[0]}:{name:e[0],payload:e[1]};if(this.eventsSubject.next(t),this._isDebugToolbarEnabled)try{var r=Object.assign({},t,{time:Date.now()}),o=window.$composerToolEvents;o&&o.push(r),document.dispatchEvent(new CustomEvent("event-bus-emitted",{detail:r}))}catch(e){(this.container.resolve("Logger")||console).error({exception:e,zone:"event-bus"})}return this}listen(e,t){var r=Array.isArray(e)?e:[e],o=this.eventsSubject.pipe((0,d.filter)(e=>r.includes(e.name))).subscribe({next:e=>{try{var r=t(e,o);r&&"object"==typeof r&&"function"==typeof r.catch&&r.catch(e=>{(this.container.resolve("Logger")||console).error({exception:e,zone:"event-bus"})})}catch(e){(this.container.resolve("Logger")||console).error({exception:e,zone:"event-bus"})}}});return o}}class me extends ge{constructor(e){super(e)}}class ye{constructor(e={},t){this.fetchImpl=t.fetchImpl,this.defaultConfig=Object.assign(Object.assign({},e),{headers:Object.assign({Accept:"application/json"},e.headers)})}request(e){var t={credentials:"include",body:e.data,method:e.method,headers:Object.assign(Object.assign({},this.defaultConfig.headers),e.headers)};return e=Object.assign(Object.assign({},e),{timeout:e.timeout||this.defaultConfig.timeout}),this.getFetchPromise(t,e)}getFetchPromise(e,t){var r=new AbortController;e.signal=r.signal;return new l.CancelablePromise(async(o,n,c)=>{var d;c(()=>{r.abort()});try{if((d=await this.fetchImpl(t.url,e)).ok&&"stream"===t.responseType)return o({data:d.body,headers:d.headers});if(d.ok&&"blob"===t.responseType)return o({data:await d.blob(),headers:d.headers});var l=d.headers.get("content-type"),h=!l||l.includes("application/json"),data=await d.text(),f=d.headers instanceof Headers?Object.fromEntries(Array.from(d.headers)):{},v={data,headers:d.headers,status:d.status,aborted:r.signal.aborted,headersObject:f};if(h&&data.length>0)try{v.data=JSON.parse(data),data=v.data}catch(e){return n({error:e,response:v})}return d.ok?o({data,headers:d.headers}):n({response:v})}catch(e){return n({error:e,response:d})}})}}var we=/\/_action(\/)?v2($|\?|\/)/,be=["post","put","delete"],_e=(e,path)=>t=>{var r=new m({zone:"core",errorCode:"ACTION_METHOD_FALL",value:"Action GET or POST fall with error"});if(r.setPayloadValue("method",e),r.setPayloadValue("requestUrl",path),!(t instanceof m))return Promise.reject(r);var{response:o}=t.getPayload();return o?Promise.reject(o):Promise.reject(r)},Se=(e,t)=>{for(var r="",i=0;i<e.length;i++){var code=e.charCodeAt(i)+t;code>255&&(code-=256),r+=String.fromCharCode(code)}return r};class Ee extends ve{get requestController(){if(!this._requestController){var e=this.container.resolve("ComposerStore"),t=e.state._get("client.platform"),r=e.state._get("requestID"),o=this.container.resolve("Tracker").getPageViewId();this._requestController=new ye({timeout:this.container.resolve("Config").get("defaultApiTimeout"),headers:G(e.verticalInfo,t,r,o)},{fetchImpl:window.fetch.bind(window)})}return this._requestController}constructor(e,{requestController:t}={}){super(e),this.serviceVersion=void 0,this._requestController=void 0,this.rejectWithResponse=_e,this._requestController=t}callApi(e,t){var r=e.overrideServicePath||this.servicePath,o=(e=>e?`/v${e}`:"")(this.serviceVersion),n=((e,t)=>{var r="";return e.startsWith("http")?r+=e:r+=pe(t)+ue(e,de),r})(r,e.fromRoot?w():_(this.container.resolve("Config").get("apiGateway"))),c=((e,t,r)=>(e+=ue(t),(e+=ue(r)).replace(/([^:])(\/{2,})/g,"$1/")))(n,o,e.path),d={url:c,method:e.method,widgetToken:e.widgetToken,serviceName:this.serviceName,headers:{}};if("undefined"!=typeof localStorage&&null!==localStorage){var l=localStorage.getItem("ozonid_auth_tokens");l&&(d.headers["ozonid-auth-tokens"]=l)}var h=new Error;h.stack&&(d.stackTrace=h.stack.split("\n").slice(3).join("\n")),void 0!==e.timeout&&(d.timeout=e.timeout),Y(t)||"text/plain"===e.contentType||(t={}),t instanceof FormData||(d.headers["Content-Type"]=void 0!==e.contentType?e.contentType:"application/json"),void 0!==e.responseType&&(d.responseType=e.responseType),be.includes(d.method.toLowerCase())?d.data=((data,e="")=>"application/x-www-form-urlencoded"===e.toLowerCase()&&data&&"object"==typeof data?le(data):data instanceof FormData?data:"object"==typeof data?JSON.stringify(data):String(data))(t,e.contentType):"object"==typeof t&&(d.url=fe(d.url,t));var f=this.container.resolve("ComposerStore").state._get("browser",{});f.forceDesktop?d.url=fe(d.url,{force_platform:"desktop"}):f.forceMobile&&(d.url=fe(d.url,{force_platform:"mobile_theme"}));var v=this.requestController.request(d);return v.then(async e=>{try{this.onRequestSuccess(e,d)}catch(e){this.container.resolve("Logger").error({message:"error with handled onRequestSuccess",exception:e,zone:"api"})}}).catch(async e=>{try{this.onRequestError(e,d)}catch(e){this.container.resolve("Logger").error({message:"error with handled onRequestError",exception:e,zone:"api"})}}),v}fetch(e,t){return this.callApi(e,t).then(({data})=>data).catch(t=>{var{error:r,response:o}=t,n={zone:"api",errorCode:"ERROR_CALL_API",value:`Error in callApi with ${e.path}`};o&&403===o.status&&(n.zone="api-403");var c=new m(n);throw c.setPayloadValue("exception",r),c.setPayloadValue("response",o),c})}async onRequestSuccess(e,t){var r=t.url.match(we);if(r){var o=e.data;e.data=o.data,e.originalData=o}var{data,headers:c}=e;if(n()(data,"browser.useSpa")){var d=n()(data,"pageInfo.url"),l=c.get("x-o3-trace-id");this.container.resolve("ComposerStore").setComposerDebug({pageUrl:d,traceId:l})}if(r&&"object"==typeof e.originalData){var h=n()(e.originalData,"trackingInfo"),f=n()(e.originalData,"pageToken"),v=n()(e.originalData,"userToken");if(e.originalData.error)this.container.resolve("Logger").error({message:e.originalData.error,zone:"api"});else if(h&&"object"==typeof h){var{widgetToken:m}=t;Object.keys(h).forEach(e=>{if(h[e].actionType){var t={widgetToken:m,pageToken:f,userToken:v},{actionType:r,sliceKey:o,key:n,nested:c=[]}=h[e],d=Object.assign({actionType:r,cellToken:n,nested:c},t);"string"==typeof o&&o&&(d.sliceToken=o),this.container.resolve("Tracker").sendTrinityEvent(d)}})}}}async onRequestError(e,t){var r,o,{response:c}=e,d={zone:"api",errorCode:"ERROR_GETTING_RESPONSE",value:"Error while getting response"};if(c)switch(o=Number(c.status),r=n()(c,"headersObject.x-o3-trace-id"),o){case 404:Object.assign(d,{errorCode:"REQUEST_FAIL_NOT_FOUND",value:"Request failed with 404"});break;case 403:Object.assign(d,{zone:"api-403",errorCode:"REQUEST_FAIL_ANTIBOT",value:"Request failed with 403 code"});break;case 401:Object.assign(d,{errorCode:"REQUEST_FAIL_AUTH_ERROR",value:"Request failed with auth error"});break;default:Object.assign(d,{errorCode:"REQUEST_FAIL",value:`Request failed with ${o} error`})}var l=new m(d);l.mergePayload({serviceName:t.serviceName,requestUrl:t.url,method:t.method,uuid:window.btoa(Se(encodeURIComponent(window.location.host),12)),traceId:r}),o&&l.setPayloadValue("statusCode",o),this.container.resolve("Logger").error(l)}}var Oe={_get(path,e){return n()(this,path,e)}},Te=e=>Object.assign(Object.create(Oe),e);class Re extends ve{get stateSubject(){return this._stateSubject||(this._stateSubject=new d.BehaviorSubject(this._getInitialState())),this._stateSubject}get state(){return Te(this.stateSubject.value)}constructor(e,t={}){super(e),this._stateSubject=void 0,this._noFreezeServerState=!1,this._serverInitialState=void 0,this._noFreezeServerState=t.noFreezeServerState}_getInitialState(){return Te(this.getInitialState()||{})}onNextState(e){return this.stateSubject.subscribe({next:t=>{try{var r=e(t);r&&"object"==typeof r&&"function"==typeof r.catch&&r.catch(e=>{this.container.resolve("Logger").error({exception:e,zone:"store"})})}catch(e){this.container.resolve("Logger").error({exception:e,zone:"store"})}}})}pushState(e){var t=this.state,r=!1,o=e(t,()=>{r=!0});r||(o=void 0===o?t:Te(o),this.stateSubject.next(o))}}function Ce(e,t,r){var o=function(e){var t={current:0,next(){return++this.current}},r={};return{add(o,n){var c=null!=n?n:`${t.next()}_${e}`;return r[c]=o,c},resolve(e,data,t){var o=r[e];o&&(t(data)?o.resolve(data):o.reject(data),r[e]=null)}}}(r);return t(e=>{if(e.detail&&e.detail.data&&"object"==typeof e.detail.data&&"request_id"in e.detail.data){var t=e.detail.data,{request_id:r}=t,data=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t}(t,["request_id"]);r&&o.resolve(r,data,data=>!("error_type"in data))}}),function(t,r={}){return new Promise((n,c)=>{var d=o.add({resolve:n,reject:c},r.request_id);e(t,Object.assign(Object.assign({},r),{request_id:d}))})}}"function"==typeof SuppressedError&&SuppressedError;var Ie="undefined"!=typeof window,Ae=Boolean(Ie&&window.AndroidBridge),xe=Boolean(Ie&&window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.VKWebAppClose),ke=Ie&&!Ae&&!xe,Ne=ke?"message":"VKWebAppEvent",je=Ie?window.AndroidBridge:void 0,Le=xe?window.webkit.messageHandlers:void 0,Pe=ke?parent:void 0;function Me(e){var t,r=[],o=Math.random().toString(36).substring(2,5);function c(e){r.push(e)}return"undefined"!=typeof window&&"addEventListener"in window&&window.addEventListener(Ne,function(e){if(xe||Ae)return[...r].map(t=>t(e));var o=n()(e,"data");if(ke&&o){var{type:c,data,frameId:d}=o;c&&("VKWebAppSettings"!==c?[...r].map(e=>e({detail:{type:c,data}})):t=d)}}),{send:Ce(function(r,o){je&&je[r]?je[r](JSON.stringify(o)):Le&&Le[r]&&"function"==typeof Le[r].postMessage?Le[r].postMessage(o):Pe&&"function"==typeof Pe.postMessage&&Pe.postMessage({handler:r,params:o,type:"vk-connect",webFrameId:t,connectVersion:e},"*")},c,o),subscribe:c}}class De{constructor(){return this.bridge=void 0,"object"==typeof De.instance?De.instance:(this.bridge=Me("2.14.1"),De.instance=this,this)}static isWebView(){return xe||Ae}}De.instance=void 0;var Be,$e,We,He,Ue,Ve,ze,Ge,Fe,Ye,qe,Je={Invalid:"BEHAVIOR_TYPE_INVALID",Redirect:"BEHAVIOR_TYPE_REDIRECT",Custom:"BEHAVIOR_TYPE_CUSTOM",NestedPage:"BEHAVIOR_TYPE_NESTED_PAGE",ComposerNestedPage:"BEHAVIOR_TYPE_COMPOSER_NESTED_PAGE",Dismiss:"BEHAVIOR_TYPE_DISMISS",DismissAndRefresh:"BEHAVIOR_TYPE_DISMISS_AND_REFRESH",DismissAndRedirect:"BEHAVIOR_TYPE_DISMISS_AND_REDIRECT",ScrollToWidget:"BEHAVIOR_TYPE_SCROLL_TO_WIDGET",ComposerAction:"BEHAVIOR_TYPE_COMPOSER_ACTION",ComposerActionAndRefresh:"BEHAVIOR_TYPE_COMPOSER_ACTION_AND_REFRESH",ComposerActionAndFetchState:"BEHAVIOR_TYPE_COMPOSER_ACTION_AND_FETCH_STATE",Refresh:"BEHAVIOR_TYPE_REFRESH"};class Ke extends ve{constructor(){super(...arguments),this[Be]=async(e,t,r)=>{var o=r.event||{},{params:n={}}=t,{postBody:c={}}=n,d=n.target;if((o.ctrlKey||o.metaKey||2===o.which)&&(d="_blank"),"string"==typeof c)try{c=JSON.parse(c)}catch(e){this.container.resolve("Logger").error({exception:e,zone:"common-action"})}if(d){if(De.isWebView()){try{var l=new De;await l.bridge.send("VKWebAppCustomMessage",{request_id:1,action:"force_external_redirect_ozon",payload:{url:t.link}})}catch(e){this.container.resolve("Logger").error({exception:e,zone:"common-action"})}return}return this.container.resolve("ComposerRouter").redirect(t.link,d)}return this.container.resolve("ComposerRouter").push(t.link,{postBody:c,force:!0})},this[$e]=async()=>{this.container.resolve("SingletonRegistry").useByName("ComposerActions").closeModal()},this[We]=async(e,t)=>{var{params:r={}}=t,{postBody:o={}}=r;if("string"==typeof o)try{o=JSON.parse(o)}catch(e){this.container.resolve("Logger").error({exception:e,zone:"common-action"})}var c=!("false"===r.scroll),d=!("false"===r.saveHistory);if("true"===r.onlyGetLayout&&window.location){var l=this.container.resolve("ComposerRouter").context;if("modal"===n()(l,"layoutManager.contextName")){var{options:h,current:f}=l;return await this.container.resolve("SingletonRegistry").useByName("ComposerActions").getLayout({routerMethod:"replace",replaceUrl:"false"!==r.replace,url:t.link||window.location.href}),void("true"===r.refreshModal?this.container.resolve("ComposerRouter").push(f,{contextOptions:h||{}}):h&&this.container.resolve("ComposerRouter").setContextOptions(h))}}t.link?await this.container.resolve("ComposerRouter").replace(t.link,{scroll:c,force:!0,postBody:o,saveHistory:d}):await this.container.resolve("ComposerRouter").refresh({scroll:c,postBody:o})},this[He]=async(e,t,r)=>(await this[Je.Dismiss](),this[Je.Redirect](e,t,r)),this[Ue]=async(e,t)=>{await this[Je.Dismiss](),this.container.resolve("ComposerRouter").setContext("page"),await this[Je.Refresh](e,t)},this[Ve]=async(e,t)=>{this.container.resolve("Logger").info({message:`NestedPage action is called with link: ${t.link}`,payload:t,zone:"common-action"},{forceMode:!0})},this[ze]=async(e,t)=>{if(t.link&&t.link.startsWith("/modal")){var r=t.params&&Object.assign({},t.params);return this.container.resolve("ComposerRouter").push(t.link,{contextOptions:r})}return this.container.resolve("SingletonRegistry").useByName("ComposerActions").getModal({url:t.link,options:t.params})},this[Ge]=(e,t)=>{var link=t.version?`/v${t.version}/${t.link}`:t.link,r=e.getWidgetTokenInjection||(()=>{}),o=e.widgetToken||r(),{params:n={}}=t,{postBody:c={}}=n;if("string"==typeof c)try{c=JSON.parse(c)}catch(e){this.container.resolve("Logger").error({exception:e,zone:"common-action"})}return t.params?this.container.resolve("SingletonRegistry").useByName("ComposerService").actionPost({name:link,data:Object.assign({},t.params),widgetToken:o}):this.container.resolve("SingletonRegistry").useByName("ComposerService").actionGet({name:link,widgetToken:o})},this[Fe]=(e,t)=>this[Je.ComposerAction](e,t).then(()=>this.container.resolve("ComposerRouter").refresh()),this[Ye]=(e,t)=>this[Je.ComposerAction](e,t).then(()=>{if(e.asyncHash&&"function"==typeof e.fetchAsyncState)return e.fetchAsyncState()}),this[qe]=async(e,t)=>{var r=document.querySelector(`#${t.link}`),o=parseInt(n()(t,"params.offsetTop")),c=Number.isInteger(o)?o:100;r?T(r,500,{offsetTop:c,onAfter:()=>{document.dispatchEvent(new CustomEvent("scroll-to-widget",{detail:{id:t.link}}))}}):function e(){var r=document.querySelector("[data-paginator-loader]");if(r)T(r,500,{offsetTop:c}),setTimeout(e,1200);else{var o=document.querySelector(`#${t.link}`);o&&T(o,500,{offsetTop:c})}}()}}sendCustomAnalyticsByKey(e,t={},r="click",o={}){var n=t&&t[r];n&&"function"==typeof e.trackerSend&&e.trackerSend(n,o)}findHandlerForBehaviorType(e){if(e){var t=this[e];if("function"==typeof t)return t.bind(this)}}handleAtomAction(e,t,r={}){return new l.CancelablePromise(async(o,c,d)=>{try{if(!t)return o(!1);try{var{behavior:l,link,id:h,params:f}=t,v=JSON.stringify({behavior:l,link,id:h,params:f});this.container.resolve("SingletonRegistry").useByName("ComposerActions").emit("ATOM_ACTION",v)}catch(e){}var{trackingInfo:m={},event:y={},silentCatch:w=!1,getCustomHandler:_,onBefore:S,onAfter:E,onError:O}=r,T={},R=t;if("function"==typeof this.beforeEach)try{var C=this.beforeEach(e,t);ee(C)&&await C}catch(e){}try{var I,A=this.shouldSendAnalyticsAfterAction(R.behavior);if("function"==typeof S){var x=S(t,m,y),k=ee(x)?await x:x;if(!1===k)return o({});R=k||t}if(A||this.sendCustomAnalyticsByKey(e,m),"function"==typeof _&&(I=_(R)),I||(I=this.findHandlerForBehaviorType(R.behavior)),"function"==typeof I){var N=I(e,R,{trackingInfo:m,event:y,silentCatch:w,getCustomHandler:_,onBefore:S,onAfter:E,onError:O});ee(N)?(d(()=>{"function"==typeof N.cancel&&N.cancel()}),T=await N):T=N}A&&(this.sendCustomAnalyticsByKey(e,m),t.behavior===Je.ComposerAction&&this.sendCustomAnalyticsByKey(e,m,"composerAction"));var j={res:T,action:R,trackingInfo:m,event:y};if("function"==typeof E){var L=E(j),P=ee(L)?await L:L;j.res=void 0!==P?P:T}if(function(e){return Boolean(e&&e.redirectLink)}(T)&&this.container.resolve("ComposerRouter").push(T.redirectLink),"composerActionWithAction"===t.id&&function(e){return Boolean(e&&e.action)}(T)){var M=this.handleAtomAction(e,T.action,{onBefore:S,onAfter:E,onError:O});d(()=>{M.cancel()});var D=await M;j.res=D||T}try{var B=this.afterEach(e,t,j,T);ee(B)&&await B}catch(e){}return o(j)}catch(t){var $=t,W={res:n()($,"data",{}),error:$,action:R,trackingInfo:m,event:y};if("function"==typeof O){var H=O(W);ee(H)&&await H}try{var U=this.catchEach(e,$,W,w);ee(U)&&await U}catch(e){}return this.container.resolve("Logger").error({exception:$,zone:"common-action"}),o(W)}}catch(e){c(e)}})}handleAtomNextAction(e,t,r={}){return new l.CancelablePromise(async(o,c,d)=>{try{var l=this.handleAtomAction(e,t,r);d(()=>{l.cancel()});var h=await l,f=n()(h,"res.nextAction",null);if(f){var v=this.handleAtomNextAction(e,f,Object.assign(Object.assign({},r),{trackingInfo:{}}));d(()=>{v.cancel()}),await v}o()}catch(e){c(e)}})}}Be=Je.Redirect,$e=Je.Dismiss,We=Je.Refresh,He=Je.DismissAndRedirect,Ue=Je.DismissAndRefresh,Ve=Je.NestedPage,ze=Je.ComposerNestedPage,Ge=Je.ComposerAction,Fe=Je.ComposerActionAndRefresh,Ye=Je.ComposerActionAndFetchState,qe=Je.ScrollToWidget},"2312d":(e,t,r)=>{"use strict";r.d(t,{P:()=>o,t:()=>n});var o={stateId:{type:String,default:""},vertical:{type:String,required:!0},componentName:{type:String,required:!0},version:{type:Number,default:null},root:{type:Boolean,default:!1},placeholders:{type:Array,default:()=>[]},widgetToken:{type:String,default:void 0}},n=Object.assign({},o,{trackingInfoProp:{type:[Object,String],default:()=>({})},trackingName:{type:String,default:""},widgetInitialState:{type:Object,default:()=>({})}})},"9df37":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>W});var o=r("87b54"),n=r.n(o),c=r("81906"),d=r.n(c),l=r("3e315"),h=r("204fc"),f=r("956f0"),v=r("f0245"),m=r("8d2e0"),y=r("2312d"),w=r("fedc2"),_=r("2b262"),S={name:"InViewportMixin",created(){this.widgetInViewport=!1,this.viewportEvents=[]},mounted(){this.intersectionObserver=new IntersectionObserver(e=>{var t=e[0];if(!t)return!1;this.viewportEvents=this.viewportEvents.filter(e=>e.params.sendAlways?(e.callback(t.isIntersecting),!0):!t.isIntersecting||(e.callback(!0),!(e.params.once&&!e.params.store)))}),this.reloadObserverSubscription=h.i.use(_.r).listen("GET_LAYOUT",()=>{this._reloadObserver()}),this.registerViewportEvent(e=>{this.widgetInViewport=e},{sendAlways:!0}),this._bindViewportEvents()},beforeDestroy(){this._unbindViewportEvents(),this.reloadObserverSubscription&&this.reloadObserverSubscription.unsubscribe()},methods:{registerViewportEvent(e,t={}){var r=((e,t={})=>({params:t,callback:e,viewed:!1}))(e,t);return this.viewportEvents.push(r),r},_reloadObserver(){this.$nextTick(()=>{this.$el instanceof HTMLElement&&(this.intersectionObserver.unobserve(this.$el),this.intersectionObserver.observe(this.$el))})},_bindViewportEvents(){this.$el instanceof HTMLElement&&this.intersectionObserver.observe(this.$el)},_unbindViewportEvents(){this.intersectionObserver.disconnect()}}},E=r("9b84d"),O=r("14747"),T=r("fa6ab"),R=r("1b5cb"),C={mixins:[{data:()=>({hooks:{}}),methods:{hook(e,t,r={}){this.hooks[e]=this.hooks[e]||[],this.hooks[e].push({callback:t,params:r})},async callHook(e,...t){if(this.hooks[e])for(var r=0;r<this.hooks[e].length;r++){var o=this.hooks[e][r];await o.callback.apply(this,t),o.params.once&&(this.hooks[e].splice(r,1),r--)}}},beforeDestroy(){this.hooks=[]}},S],data:()=>({isAsyncLoading:!1,isAsyncLoaded:!1,isAsyncDelay:!1,isAsyncFailed:!1,asyncLoadEvent:null}),props:{asyncType:{type:String,validator:e=>R.ASYNC_TYPES.indexOf(e)>=0||void 0===e},asyncHash:{type:String,default:""}},computed:{showAsyncLoader(){return this.asyncType&&!this.isAsyncLoaded}},created(){if(this.asyncType&&!this.asyncHash){var e=new E.WidgetError(O._.WIDGET_ASYNC_WITHOUT_HASH);return this.$logger.error(e),!1}this._tryToRegisterViewEvent()},async mounted(){this.checkWidgetStateSubscription=h.i.use(_.r).listen(["GET_LAYOUT","SET_COMPOSER_LAYOUT"],()=>{this.checkWidgetState()}),await this._tryToLoadOnMount()},beforeDestroy(){this.checkWidgetStateSubscription&&this.checkWidgetStateSubscription.unsubscribe()},methods:{preventAsyncFetch(){this.isAsyncDelay=!0},async checkWidgetState(){this.$nextTick(async()=>{this.widgetState&&Object.keys(this.widgetState).length||(this.isAsyncLoaded||this.isAsyncLoading)&&(this.isAsyncLoaded=this.isAsyncLoading=!1,this._tryToRegisterViewEvent(),await this._tryToLoadOnMount())})},fetchAsyncState(e=void 0,t=void 0){var{asyncHash:r,componentName:o,stateId:n}=this,c={asyncHash:r,componentName:o,stateId:n};return void 0!==e&&(c.extraBody=e),void 0!==t&&(c.url=t),this.isAsyncLoading=!0,h.i.use(T.ComposerService).widget(c).then(t=>{this._replaceAsyncState(t,e)}).catch(e=>{"asyncFailedHandler"in this&&this.asyncFailedHandler(e,t),this.isAsyncLoading=!1,this.isAsyncLoaded=!1,this.isAsyncFailed=!0;var r=new E.WidgetError(O.nd.FETCH_ASYNC_WIDGET_STATE_ERROR);throw r.setPayloadValue("response",e.response),r}).then(()=>{this.isAsyncLoading=!1,this.isAsyncLoaded=!0,this.isAsyncFailed=!1,this.callHook("async::loaded"),this.$emit("state::loaded")})},_replaceAsyncState(e,t=void 0){e.isSkip&&this.destroyWidget();var{asyncWidgetMapper:r,asyncSharedMapper:o,vertical:n}=this;if(!e||"object"!=typeof e)throw new E.LoggerError(O._.WIDGET_ASYNC_EMPTY_RESPONSE);var{state:c,verticalShared:d}=e;c&&Object.keys(c).length&&(r&&"function"==typeof r&&(c=r(c,t)),this.setWidgetState(c)),d&&Object.keys(d).length&&(o&&"function"==typeof o&&(d=o(d)),(0,m.useComposerStore)(this).replaceSharedStore({vertical:n,verticalShared:d}))},async _tryToLoadOnMount(){(this._isAsyncByType(R.EAsyncTypes.TYPE_ON_PAGE_LOAD)||this._isAsyncByType(R.EAsyncTypes.TYPE_ON_PREFETCH_PAGE_LOAD))&&await this.fetchAsyncState()},_tryToRegisterViewEvent(){this._isAsyncByType(R.EAsyncTypes.TYPE_ON_VIEWPORT)&&this.registerViewportEvent(this.fetchAsyncState,{once:!0})},_isAsyncByType(e){return this.asyncType===e&&this.asyncHash&&!this.isAsyncDelay}}},I=r("04304"),A=r("9d72d"),x=r("4a067"),k=r("5925e"),N={mixins:[C,S,(0,m.composerStateMixin)({pageToken:e=>e._get("pageToken",""),userToken:e=>e._get("userToken",""),noTracking:e=>e._get("experimentsConfig.noTracking",!1)})],provide(){return{getWidgetTokenInjection:this.getWidgetToken,trackerSend:this.trackerSend}},props:{trackingInfoProp:{type:[Object,String],default:()=>({})},isTrackingOn:{type:Boolean,default:!1},isTrackView:{type:Boolean,default:!1},root:{type:Boolean,default:!1},widgetsStatisticsTrackerMetrics:{type:[Object,String],default:()=>({})}},computed:{trackingInfo(){var e=this.trackingInfoProp;return"string"==typeof e?JSON.parse(e):e}},mounted(){var e=this.$el,t=(0,m.useComposerStore)(this),r=(t.state._get("o3Params.x-o3-tracker-manager")||"on"===(0,E.getCookie)("tracker_manager"))&&e instanceof HTMLElement,o=(t.state._get("o3Params.x-o3-tracker-metrics")||"on"===(0,E.getCookie)("tracker_metrics"))&&e instanceof HTMLElement,n=d()(this,"trackingInfo.id"),c=e.dataset;if(r&&n&&(c.trackWidgetName=d()(this,"trackingInfo.name"),c.version=d()(this,"version"),c.vertical=d()(this,"vertical"),c.widgetName=d()(this,"componentName"),c.widgetId=n,c.pageType=t.state._get("layoutTrackingInfo.pageType")),o&&r&&n&&(c.widgetsStatisticsTrackerMetrics=d()(this,"widgetsStatisticsTrackerMetrics")),this.isTrackView)return null==this.asyncType?this._registerSendViewEvent():void this.hook("async::loaded",this._delayRegisterViewEvent,{once:!0})},methods:{getWidgetToken(){return this.widgetToken},trackerSend(e,t,r){if(this.noTracking)return!1;if((0,x.k)())return!1;function o(){if(!(0,A.OC)(e)&&!(0,A.B_)(e))return this._logTrackerError(k.sR.ERROR_WHILE_USING_TRACKER_SEND),!1;if(this.stateId&&!this.isTrackingOn)return this._logTrackerError(k.sR.WIDGET_IS_MISSING_TRACKING_FLAG),!1;var o=(0,m.useComposerStore)(this).state._get(`trackingTokenAliases.${this.stateId}.data`),n=o&&Object.keys(o).length;if((0,A.B_)(e)){var c=Object.assign({},e),l=(0,A.KU)(t)?t:{};return n&&(0,A.L4)(c,o),this._sendTrinityWithTrackingInfo(c,l,r)}var h=(0,A.nF)(t)?Object.assign({},t):{trinityEvent:{}};if(this._logTrackerError((0,A._f)(h,this.widgetToken)),e===I.EActionTypes.WIDGET_VIEW_ACTION){var f=d()(this,"widgetState.widgetViewCellToken");f&&!h.trinityEvent.cellToken&&(h.trinityEvent.cellToken=f)}return n&&(0,A.L4)(h.trinityEvent,o),(0,E.isObject)(h.trinityEvent)?this.$tracker.send(e,h,r):(this._logTrackerError(k.sR.ERROR_WHILE_SENDING_EVENT),!1)}"undefined"!=typeof document&&document.hidden?document.addEventListener("visibilitychange",o.bind(this),{once:!0}):o.call(this)},_sendTrinityWithTrackingInfo(e,t,r){if(this.noTracking)return!1;var o=(0,A.NR)(e,t);if(this._logTrackerError((0,A._f)(o,this.widgetToken)),(0,E.isObject)(o.trinityEvent)){var{actionType:n,nested:c=[]}=e;if(this.$tracker.send(n,o,r),c&&Array.isArray(c)&&c.length)for(var i=0;i<c.length;i++)this._sendTrinityWithTrackingInfo(c[i],t,r);return!0}return!1},_delayRegisterViewEvent(){if(!this.noTracking)return this.widgetInViewport?this._sendViewEvent():void this._registerSendViewEvent()},_registerSendViewEvent(){this.noTracking||this.registerViewportEvent(this._sendViewEvent,{once:!0})},_sendViewEvent(){this.noTracking||this._sendAnalyticEvent(I.EActionTypes.WIDGET_VIEW_ACTION)},_sendAnalyticEvent(e){return!this.noTracking&&(!this.root&&this.trackerSend(e))},_logTrackerError(e){if(e){var t=new E.WidgetError(e);t.mergePayload({vertical:d()(this,"vertical"),component:d()(this,"componentName"),widget:d()(this,"widget"),stateId:d()(this,"stateId"),version:d()(this.trackingInfo,"version")||d()(this,"version"),originVertical:d()(this.trackingInfo,"originVertical"),originComponent:d()(this.trackingInfo,"originComponent"),originTrackingInfoName:d()(this.trackingInfo,"originName"),originVersion:d()(this.trackingInfo,"originVersion")}),this.$logger.error(t)}}}},j={props:{widgetsStatisticsTrackerMetrics:{type:[Object,String],default:()=>({})}},mounted(){var e=((0,m.useComposerStore)(this).state._get("o3Params.x-o3-tracker-metrics")||"on"===(0,E.getCookie)("tracker_metrics"))&&this.$el instanceof HTMLElement,t=d()(this,"trackingInfo.id");e&&t&&(this.$el.dataset.widgetId=t,this.$el.dataset.widgetsStatisticsTrackerMetrics=d()(this,"widgetsStatisticsTrackerMetrics"))}},L=r("5fa5d"),P={mixins:[(0,m.composerStateMixin)({toolbarFlag:e=>e._get(`o3Params.${L.TOOLBAR_FLAG_NAME}`),widgets:e=>e._get("debug.widgets"),widgetsRT:e=>e._get("debug.widgetsRT",{})})],computed:{_showWidgetInfo(){var e=(0,E.getCookie)("ozon_devtools");return(this.toolbarFlag||"on"===e)&&this.$el instanceof HTMLElement&&this._widgetId},_widgetId(){return d()(this.widgets,`${this.stateId}.id`)}},methods:{onNextPagination(){var e=document.querySelector("#ozon-devtools");e&&e.dispatchEvent(new CustomEvent("loadNextPage",{detail:{value:{updatedPaginatorName:this.stateId}}}))},collectPaginationInfo(data){if(this._showWidgetInfo&&window.$oz_devtools){window.$oz_devtools.paginations||(window.$oz_devtools.paginations={});var e=d()(window,`$oz_devtools.paginations[${this.stateId}]`,{pages:[],pagesDebugInfo:{}}),{pages:t=[],pagesDebugInfo:r={}}=e,{layoutTrackingInfo:o,pageUrl:n,childrenSelector:c}=data,l={};"string"==typeof o?l=JSON.parse(o):o&&"object"==typeof o&&(l=o);var{layoutId:h,layoutVersion:f,ruleId:v}=l,m=new URL(n,window.origin),y=Number(m.searchParams.get("layout_page_index"));t.push(y),r[`page-${y}`]={layoutId:h,layoutVersion:f,ruleId:v},window.$oz_devtools.paginations[this.stateId]={paginatorElem:this.$el,childrenSelector:c,currentPage:y,pages:t,pagesDebugInfo:r},this.onNextPagination()}}},mounted(){if(this._showWidgetInfo){if(this.$el.dataset.widgetId=this._widgetId,this.$el.dataset.stateId=this.stateId,this.$el.dataset.widgetName=d()(this,"componentName"),this.$el.dataset.vertical=d()(this,"vertical"),this.$el.dataset.version=d()(this,"version"),"paginator"===d()(this,"componentName")&&this.widgetInitialState.nextPage){var e=this.widgetInitialState.nextPage,t=new URL(e,"https://ozon.ru"),r=Number(t.searchParams.get("layout_page_index"));this.$el.dataset.currentPage=r}"megaPaginator"===d()(this,"componentName")&&this.currentPage&&(this.$el.dataset.currentPage=this.currentPage,this.$el.dataset.totalPages=this.totalPages)}if(this.toolbarFlag){var o=Object.assign({},this.widgetsRT[this.stateId]);document.addEventListener("get-widget-state",e=>{if(e.detail.id===this.stateId)try{var t=this.widgetState;document.dispatchEvent(new CustomEvent("send-widget-state",{detail:{state:t?JSON.stringify(t):"{}",widgetRT:this.widgetsRT[this.stateId]?this.widgetsRT[this.stateId]:o}}))}catch(e){this.$logger.error({exception:e,zone:"client-widget-states"})}})}}},M={beforeCreate(){var e=(0,m.useComposerStore)(this);if(e.state._get("o3Params.x-o3-sitespeed-enable")){var t=e.state._get("browser.isDesktop")?"desktop":"mobile",{vertical:r,componentName:o,version:n}=this.$options.propsData,c=[r,o,t,n].join("_").toUpperCase()||"widget";performance.mark(`BEFORE_CREATE:${c}`),this.$once("hook:mounted",()=>{performance.mark(`MOUNTED:${c}`),performance.measure(`MOUNT:${c}`,`BEFORE_CREATE:${c}`,`MOUNTED:${c}`)})}}},D=r("30e10"),B={props:{asyncType:{type:String,validator:e=>R.ASYNC_TYPES.indexOf(e)>=0||void 0===e},isRumTrackingOn:{type:Boolean,default:!1}},mounted(){this.isRumTrackingOn&&(this.asyncType?this.hook("async::loaded",()=>{(0,D.QN)(this.stateId,{isAsyncWidget:!!this.asyncType,isFirstMount:!0})}):(0,D.QN)(this.stateId,{isAsyncWidget:!!this.asyncType,isFirstMount:!0}))}},$={name:"BaseWidget",inheritAttrs:!1,data(){return{widgetState:this.widgetInitialState}},mixins:[S,N,C,j,w.default,M,P,B],props:y.t,inject:{$informPaginatorMounted:{default:null},$countPaginatorWidgets:{default:null},isMobile:{default:!1},isAccessibilityMode:{default:!1},useWidgetRender:{default:!1}},provide(){var{stateId:e}=this;return{stateId:e}},beforeMount(){this.$countPaginatorWidgets&&this.$countPaginatorWidgets(this.stateId)},mounted(){var e=this.$el;e&&"function"==typeof e.setAttribute&&e.setAttribute("data-widget",this.componentName),this.$nextTick(()=>{this.$informPaginatorMounted&&this.$informPaginatorMounted(this.stateId,this.$el)})},created(){var{widgetInitialState:e,stateId:t,asyncType:r}=this;e&&Object.keys(e).length&&h.i.use(f.ClientWidgetStates).next({[t]:e},{silent:!0}),this.stateSubscription=h.i.use(f.ClientWidgetStates).onNextState(e=>{null!==e&&null!=e[t]&&e[t]!==this.widgetState&&this.setWidgetState(e[t])});try{(0,l.zQ)(e,t,void 0!==r)}catch(e){this.logError(e)}},beforeDestroy(){this.stateSubscription&&this.stateSubscription.unsubscribe()},computed:{groupStatePath(){return[this.vertical,this.componentName].join(".")}},methods:{destroyWidget(){(0,m.useComposerStore)(this).removeWidgetByStateId({stateId:this.stateId})},setWidgetState(e){try{var t=(0,l.V0)(e);h.i.use(f.ClientWidgetStates).next({[this.stateId]:t},{silent:!0}),this.widgetState=t,void 0===this.asyncType&&this.$emit("state::loaded")}catch(e){this.logError(e)}},setWidgetStateValue(path,e){return h.i.use(f.ClientWidgetStates).next({[this.stateId]:this.widgetState},{silent:!0}),(0,v.vueSet)(this.widgetState,path,e)},async setWidgetPlaceholders(e,t){await(0,m.useComposerStore)(this).setWidgetPlaceholderByStateId({stateId:this.stateId,placeholder:{name:e,widgets:t}})},notEmptyPlaceholder(e){var t=(0,l.ph)(this.placeholders,e);return!!t&&Boolean(t.widgets.length)},getLoggerParams(){var{componentName:e,stateId:t,vertical:r,version:o}=this;return{widget:e,stateId:t,vertical:r,version:o,error:d()(this,"widgetState.error")}},logError(e){var t=this.getLoggerParams();e.mergePayload({widget:t.widget,stateId:t.stateId,error:t.error,vertical:t.vertical}),this.$logger.error(e)}}},W=n().extend($)},"47b09":(e,t,r)=>{"use strict";r.r(t),r.d(t,{getFirstBaseInstance:()=>n});var o=r("9df37");function n(e){return e instanceof o.default?e:null!=e.$parent?n(e.$parent):null}},"82cc7":(e,t,r)=>{"use strict";r.r(t);var o=r("01873"),n=r("8d2e0");t.default={name:"ComposerLoadingMixin",mixins:[(0,n.composerStateMixin)({loading:e=>e._get("shared.loading")})],data:()=>({isMounted:!1}),mounted(){this.isMounted=!0},computed:{isComposerLoading(){return this.loading===o.EComposerLoadingStatus.PENDING&&this.isMounted}}}},fedc2:(e,t,r)=>{"use strict";r.r(t);var o=r("e38e9");function n(e,t,r){if(r.once)this.composerRouter.once(e,t);else{var o=this.composerRouter.on(e,t);o&&this.unsubscribes.push(o)}}t.default={name:"ComposerRouterMixin",beforeCreate(){this.composerRouter=o.Router.getInstance(),this.unsubscribes=[]},computed:{routeLoading(){return this.composerRouter.loading},routeStatus(){return this.composerRouter.status},routeModalOptions(){return this.composerRouter.contextOptions}},methods:{beforeRouteLeave(e,t={once:!1}){n.call(this,o.EContextHook.BEFORE_ROUTE_LEAVE,e,t)},afterRouteEnter(e,t={once:!1}){n.call(this,o.EContextHook.AFTER_ROUTE_ENTER,e,t)},beforeUrlChange(e,t={once:!1}){n.call(this,o.EContextHook.BEFORE_URL_CHANGE,e,t)},afterUrlChange(e,t={once:!1}){n.call(this,o.EContextHook.AFTER_URL_CHANGE,e,t)},startRouteLoading(e,t={once:!1}){n.call(this,o.EContextHook.START_ROUTE_LOADING,e,t)},endRouteLoading(e,t={once:!1}){n.call(this,o.EContextHook.END_ROUTE_LOADING,e,t)}},beforeDestroy(){if(this.unsubscribes.length){for(var i=0;i<this.unsubscribes.length;i++){var e=this.unsubscribes[i];e&&e()}this.unsubscribes=[]}}}},24836:(e,t,r)=>{"use strict";function o(e=10){return{data:()=>({displayPriority:0}),mounted(){this.runDisplayPriority()},methods:{runDisplayPriority(){var t=()=>{requestAnimationFrame(()=>{this.displayPriority++,this.displayPriority<e&&t()})};t()},defer(e){return this.displayPriority>=e}}}}r.r(t),r.d(t,{Defer:()=>o})},99140:(e,t,r)=>{"use strict";r.r(t);var o=r("1b5cb");t.default={inheritAttrs:!1,computed:{showWidget(){return!this.hasWidgetError&&(Object.keys(this.widgetState).length||this.asyncType===o.EAsyncTypes.TYPE_ON_VIEWPORT)},hasWidgetError(){return this.widgetState.error}},inject:{$isMobile:{from:"isMobile",default:!1}}}},d5037:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>L});var o=r("9b84d"),n=r("14747"),c=r("47b09"),d={name:"ErrorCapture",props:{widget:{type:[Function,String],required:!0},widgetProps:{type:Object,default:()=>({})},platform:{type:String,default:""}},data:()=>({error:!1}),computed:{errorCheckWidget(){return this.error?"div":this.widget}},errorCaptured(e,t){var r=(0,c.getFirstBaseInstance)(t),d=null!==r&&"function"==typeof r.getLoggerParams,l=((e,t)=>{var r=n._.UNKNOWN_WIDGET_ERROR;return t||(r=n._.UNCORRECT_WIDGET),e&&e.message&&(r=n.X8.WIDGET_RENDER_ERROR),e&&e.zone?Object.assign(Object.assign({},r),{},{zone:e.zone}):r})(e,d),h=e instanceof o.WidgetError?e:new o.WidgetError(l);if(h.mergePayload({error:e.message,stack:e.stack,component:t.$options.name}),e instanceof o.PayloadError&&h.mergePayload(e.getPayload()),d){var f=r.getLoggerParams();h.mergePayload({widget:f.widget,stateId:f.stateId,vertical:f.vertical,version:f.version})}return this.$logger.error(h),this.error=!0,!1}},l=r("67719"),h=r.n(l),f=h()(d,function(){var e=this,t=e.$createElement;return(e._self._c||t)(e.errorCheckWidget,e._g(e._b({tag:"component"},"component",e.widgetProps,!1),e.$listeners))},[],!1,null,null,null).exports,v=r("3c860"),m=r("145a1"),y=(e,t,r,c,d,l,h=!1)=>{var f=e.resolve("ComposerStore"),w=(0,v.R)(r),_=(0,v.R)(c),S=t.content||{},content=S[w]?S[w][_]||"$missing_widget_marker$":void 0,component=content,E=f.state._get("experimentsConfig.enableVersionFallbackLogs"),O=f.state._get("experimentsConfig.disableVersionFallback"),T={payload:{name:c,vertical:r,version:d,platform:l},zone:"composer-components",forceMode:!0};if(!content&&!h&&(0,m.J5)(w,f)&&!(0,m.ds)(w))return function(...r){return(0,m.Kl)(w,f,t).then(()=>y(e,t,w,_,d,l,!0)(...r))};if("function"==typeof content)return content;if("object"!=typeof content){if((0,m.J5)(w,f)){var R=new o.WidgetError(n.jn.WIDGET_NOT_FOUND);throw R.setPayloadValue("disallowNames",[_]),R}throw new o.LoggerError(n._.WRONG_WIDGET_CONTENT)}if(content.desktop&&content.mobile&&(component=component[l]),"function"==typeof component)return component;if(!component.versions)throw E&&e.resolve("Logger").info(Object.assign({message:"there is no versions object in platform interface"},T)),new o.LoggerError(n._.WRONG_WIDGET_VERSION);var C=Object.keys(component.versions);if(C.length){if(!component.versions[d]){if(E&&e.resolve("Logger").info(Object.assign({message:"no such widget version in composer-components"},T)),C.includes("1")&&!O)return component.versions[1];throw new o.LoggerError(n._.WRONG_WIDGET_VERSION)}}else E&&e.resolve("Logger").info(Object.assign({message:"versions are not declared for the widget"},T));return component.versions[d]},w=r("81906"),_=r.n(w),S={};function E(e="",t=""){var r=(0,v.R)(e),o=(0,v.R)(t);return S[r]||(S[r]={}),S[r][o]||(S[r][o]=o),S[r][o]}var O=r("42c35"),T={};var R=r("956f0");function C(e,t){var r={};if(t.stateId){var c=document.getElementById(`state-${t.stateId}`),d=c&&c.getAttribute("data-state"),l=_()(e.resolve("SingletonRegistry").use(R.ClientWidgetStates),`value[${t.stateId}]`)||d;if("string"==typeof l)try{l=JSON.parse(l)}catch(t){var h=new o.WidgetError(n._.INVALID_WIDGET_INITIAL_STATE);h.setPayloadValue("invalidValue",String(l)),e.resolve("Logger").error({exception:h}),l={}}r=l||{}}return r}var I=r("3a425"),A=r("8d2e0"),x=r("24836"),k={name:"WidgetDisallowMixin",methods:{checkDisallow(e=[]){var t=this.$config.get("useDisallowWidgets");if(e.length&&t&&"true"!==(0,A.useComposerStore)(this).state._get("o3Params.x-o3-disable-placements")){var r=new o.WidgetError(n.kE.WIDGET_CANT_BE_RENDERED);this.$logger.error(this._enhanceError(r,e,"disallow"))}},checkNonexistent(e=[]){if(e.length){var t=new o.WidgetError(n.jn.WIDGET_NOT_FOUND);this.$logger.error(this._enhanceError(t,e,"nonexist"))}},_enhanceError(e,t,r){for(var o=[],n=[],i=0;i<t.length;i++){var c=t[i];o.push(c.name),n.push(c.id)}var component=_()(this.$parent,"$vnode.componentOptions.tag");return e.mergePayload({component,[`${r}Names`]:o,[`${r}Ids`]:n,placeholderName:this.placeholderName}),e}}},N={name:"PlaceholderRenderMixin",data:()=>({isServer:Boolean(!1)}),mixins:[(0,x.Defer)(),k,(0,A.composerStateMixin)({platform:e=>e._get("client.platform","undefined"),disableLayoutPath:e=>e._get("experimentsConfig.disableLayoutPath")})],inject:{isMobile:{default:!1},layoutPath:{default:""}},computed:{placeIndex(){var e=this.placeholders,t=this.place;if(!Array.isArray(e))return-1;for(var i=0;i<e.length;i++)if(e[i].name===t)return i;return-1},widgets(){for(var e=[],t=this.placeholders[this.placeIndex]||{},r=t.widgets&&t.widgets.length?t.widgets:[],o=0;o<r.length;o++)e.push(Object.assign({},r[o],{index:o}));return e},placeholderName(){return[this.type,this.place].join(".")},replaceLayoutPath(){if(this.disableLayoutPath)return this.placeholderName;var path=this.layoutPath,e=this.placeIndex;return e<0?path:path+`[${e}]`},renderingComponents(){var{allowed:e,disallowed:t,nonexistent:r}=function(e,t,r=[],o,n){for(var c={allowed:[],disallowed:[],nonexistent:[]},d=e.state._get("o3Params.x-o3-disable-placements"),i=0;i<r.length;i++){var component=Object.assign({},r[i]),l=(0,v.R)(component.vertical),h=E(l,component.component);if(component.name=h,component.index=i,T[h]||(T[h]={}),!T[h][t]&&n[l]){var f=n[l][h]||[];T[h][t]=f.indexOf(t)>-1||f[0]===O.V}var y=void 0;y=d||T[h][t]?"allowed":"disallowed",void 0===_()(o,`${l}.${h}`)&&(y=(0,m.J5)(l,e)&&!(0,m.ds)(l)?"allowed":"nonexistent"),c[y].push(component)}return c}((0,A.useComposerStore)(this),this.placeholderName,this.widgets,I.Z.content||{},I.Z.places||{});return this.checkDisallow(t),this.checkNonexistent(r),e}},methods:{createComponent(component){try{var e=this.isMobile?"mobile":"desktop",t=component.version&&component.version.toString()||"1";return y(this.$container,I.Z,component.vertical,component.name,t,e,!1)}catch(e){return this.$logger.error(e),"div"}},getWidgetProps(e){var{params:t}=e,r=(0,A.useComposerStore)(this),o={};return"string"==typeof t?o=JSON.parse(t):"object"==typeof t&&(o=Object.assign({},t)),Object.assign(o,{componentName:e.component,asyncType:e.asyncType,asyncHash:e.asyncData,isRumTrackingOn:e.isRumTrackingOn,isTrackingOn:e.isTrackingOn,isTrackView:e.isTrackView,vertical:e.vertical,stateId:e.stateId,version:e.version,placeholders:e.placeholders,root:e.root,widgetToken:e.widgetToken,trackingInfoProp:e.widgetTrackingInfo,trackingName:r.state._get(`debug.widgets[${e.stateId}].trackingName`,""),widgetsStatisticsTrackerMetrics:e.widgetsStatisticsTrackerMetrics,widgetInitialState:C(this.$container,e)})}}},j={components:{ErrorCapture:f},mixins:[N],props:{placeholders:{type:Array,default:()=>[]},place:{type:String,default:"default"},tagName:{type:String,default:"div"}}},template=h()(j,function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.isServer?e.placeIndex<0?r(e.tagName,{tag:"component",attrs:{"data-widget-disallow":e.replaceLayoutPath}}):r(e.tagName,{tag:"component",attrs:{"data-replace-layout-path":e.replaceLayoutPath}},[e._v("#CONTENT#")]):r(e.tagName,{tag:"component"},[e._l(e.renderingComponents,function(t){return[e.defer(t.defer||0)?r("ErrorCapture",e._g({key:""+t.stateId,attrs:{widget:e.createComponent(t),"widget-props":e.getWidgetProps(t),platform:e.platform}},e.$listeners)):e._e()]})],2)},[],!1,null,null,null).exports,L=e=>({extends:template,data:()=>({type:e})})},"8d2e0":(e,t,r)=>{"use strict";r.r(t),r.d(t,{composerStateMixin:()=>v,useComposerStore:()=>c});var o=r("87b54"),n=r.n(o);function c(e){return e.$composerStore}function d(e,t){e.$logger.error({exception:t,zone:"composer-store"})}var l=e=>Array.isArray(e)?Array.from(e):"object"==typeof e&&e?Object.assign({},e):e,h="__composerStateMixinInstanceInternals",f=e=>e[h];function v(e){var t=Object.entries(e);return{beforeCreate(){this[h]||(this[h]={data:n().observable({}),initializedKeys:new Set,subscriptions:[]})},computed:t.reduce((e,[t,r])=>(e[t]=function(){var e=f(this);if(!e.initializedKeys.has(t))try{n().set(e.data,t,l(r.call(this,c(this).state))),e.initializedKeys.add(t)}catch(e){d(this,e)}return e.data[t]},e),{}),created(){var e=f(this),r=!0,o=c(this).onNextState(o=>{r?r=!1:t.forEach(([t,r])=>{try{n().set(e.data,t,l(r.call(this,o)))}catch(e){d(this,e)}})});e.subscriptions.push(o)},beforeDestroy(){var e=f(this);e.subscriptions.length?e.subscriptions.shift().unsubscribe():e.data=null}}}},f0245:(e,t,r)=>{"use strict";r.r(t),r.d(t,{vueSet:()=>d});var o=r("87b54"),n=r.n(o),c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(\.|\[\])(?:\4|$))/g,d=(e,path,t)=>{var r=Array.isArray(path)?path:(e=>{if("number"==typeof e)return[e];var t=[];return e.replace(c,(e,r,o,n)=>(t.push(o?n:void 0!==r?Number(r):e),t[t.length-1])),t})(path),o=r.shift();if(!r.length)return n().set(e,o,t);if(!Object.prototype.hasOwnProperty.call(e,o)||null===e[o]){var l=r.length>=1&&String(r[0]).match(/^\d+$/)?[]:{};n().set(e,o,l)}return d(e[o],r,t)}},e6c4b:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>w});var o=r("9b84d"),n=(0,o.dictionary)("async-icons",{ICON_DOES_NOT_EXIST_SERVER:"Icon does not exist",INVALID_ICON_NAME:"Provided value is not a valid icon name",LIBRARY_MISSING_LOADED_ICON:"Icon script loaded but the icon cannot be found in library",LOADING_ERROR:"Icon script failed to load",LOADING_TIMEOUT:"Icon script loading timed out",UNKNOWN:"Icon script loading unknown status"}),c=r("81906"),d=r.n(c),{ICONS_S3_OBJECT_PREFIX:l,ICONS_LIBRARY_GLOBAL_VAR_NAME:h}=r("fb2ab");var f=r("47b09"),v={ic_m_share:"ic_m_share_android",ic_m_delete:"ic_m_trash_bin",ic_m_clock_delivered:"ic_m_confirmed",ic_m_socials_facebook:"ic_m_fb_filled",ic_m_socials_vkontakte:"ic_m_vk_filled",ic_m_socials_twitter:"ic_m_twitter_filled",ic_m_baggage_cabin:"ic_m_baggage_cabin_filled",ic_m_baggage_checked:"ic_m_baggage_checked_filled",ic_s_ozon:"ic_s_ozon_filled",ic_s_flash:"ic_s_flash_filled",ic_m_color_item:"ic_m_color_item_filled",ic_m_danger_outline:"ic_m_danger",ic_m_order_plane:"ic_m_plane",ic_s_question_compact:"ic_s_question_filled_compact"},m={ic_m_car:"ic_m_cart",ic_m_supermarket:"ic_m_express"},y=new Map,w={methods:{asyncIconComponent(e){if(e&&"string"==typeof e&&e.startsWith("ic_")){var t=v[e]||e,c=y.get(t);return c||(c=()=>function(e){var t=String(e);return new Promise((c,f)=>{var v=d()(window,`${h}.${t}`);if(v)return c(v);var m="https://st.ozone.ru";try{m=new URL(r.p).origin}catch(e){}var y=`${m}/s3/${l}/${t}.js`;r.l(y,e=>{var r;switch(e.type){case"load":var l=d()(window,`${h}.${t}`);if(l)return c(l);r=n.LIBRARY_MISSING_LOADED_ICON;break;case"error":r=n.LOADING_ERROR;break;case"timeout":r=n.LOADING_TIMEOUT;break;default:r=n.UNKNOWN}if(r){var v=new o.WidgetError(r);return v.setPayloadValue("invalidValue",y),f(v)}},e)})}(t),y.set(t,c)),c}if(this&&this.$logger){var m=new o.WidgetError(n.INVALID_ICON_NAME);m.setPayloadValue("invalidValue",String(e));var w=(0,f.getFirstBaseInstance)(this);if(w&&"function"==typeof w.getLoggerParams){var _=w.getLoggerParams();m.setPayloadValue("component",this.$options.name),m.setPayloadValue("vertical",_.vertical),m.setPayloadValue("widget",_.widget)}this.$logger.error(m)}},remapListElementIconsName:e=>m[String(e)]||e}}},"066c5":(e,t,r)=>{"use strict";r.r(t);var o=r("204fc"),n=r("861af");t.default={methods:{async setCookie(e){await o.i.use(n.CookiesActions).setCookie(e)}}}},fcf30:(e,t,r)=>{"use strict";r.r(t),r.d(t,{DefaultPlatformActionsMixin:()=>l});var o=r("81906"),n=r.n(o),c=r("9b84d"),d=(0,c.dictionary)("common",{ERROR_FORBIDDEN_MIXIN_IN_WIDGET:"Do not use DefaultActionsMixin in a widget! Use DefaultAtomActionsMixin instead."}),l={inject:{isMobile:{default:!1},trackerSend:{default:()=>()=>{}},getWidgetTokenInjection:{default:()=>()=>{}}},beforeCreate(){var e=this.$options.propsData||{},t=n()(e,"stateId");if(t){var r=new c.WidgetError(d.ERROR_FORBIDDEN_MIXIN_IN_WIDGET);throw r.setPayloadValue("vertical",n()(e,"vertical")),r.setPayloadValue("component",n()(e,"componentName")),r.setPayloadValue("stateId",t),r}}}},57639:(e,t,r)=>{"use strict";r.d(t,{A:()=>f,j:()=>h});var o=r("76e81"),n=r.n(o),c=r("42c35"),d=r("3c860"),l=["content"];function h(e,t,map){var r=(0,d.R)(e);Object.entries(t).forEach(([e,component])=>{var{content}=component,t=n()(component,l),o=(0,d.R)(e);map.content[r]||(map.content[r]={}),map.params[r]||(map.params[r]={}),map.places[r]||(map.places[r]={}),map.content[r][o]=content,map.params[r][o]=t,map.places[r][o]=function(e){var t=e.places||[];return t.length?e.extendPlaces?[...c.h,...t]:t:[c.V]}(t)})}function f(e,map){Object.entries(e).forEach(([e,t])=>{var r=t.widgets;h((0,d.R)(e),r,map)})}},"42c35":(e,t,r)=>{"use strict";r.d(t,{V:()=>n,h:()=>o});var o=["block-horizontal.default","wallpaper.default","block-vertical.default","grid-column.default","container.default","paginator.default","sticky-container.top","sticky-container.middle","sticky-container.bottom","sticky-container.default","shop-in-shop-container.default","pdp.grid.default","pdp.containerFixed.default","pdp.tabs","pdp.default","wrapper.default","freshIsland.default","island.default","constructor-middleware.headerLevel","constructor-middleware.contentLevel","constructor-middleware.footerLevel"],n="ANY$PLACES"},"145a1":(e,t,r)=>{"use strict";r.d(t,{J5:()=>w,Kl:()=>S,dT:()=>O,ds:()=>_,pm:()=>E,qI:()=>T});var o,n=r("57639"),c=r("cc01b"),d=r("0d70d"),l=r("dd6aa"),h=r("cfc54"),f={};function v(e,map,t){var r=h.Z.composerComponents[e];"object"==typeof r&&Object.keys(r).length>0&&((0,n.j)(e,r,map),h.Z.composerComponents[e]={});var o=h.Z.versions[e];t&&o&&t.setVerticalInfo({[e]:o},!0)}function m(e,t){o&&"function"!=typeof o[e]&&(o[e]=function(){var r,n;if(l.w.has(e))return o();var h=t[e],f=null!=(r=h.publicPath)?r:null==(n=Object.values(t).find(e=>e.serviceName&&e.buildVersion&&e.serviceName===h.serviceName&&e.buildVersion===h.buildVersion))?void 0:n.publicPath;if(!f){var v=new c.F(d.r.INVALID_MICROFRONTEND);throw v.setPayloadValue("vertical",e),v}return f})}function y(e){return e.verticalInfo||{}}function w(e,t){return e in y(t)}function _(e){var t=h.Z.composerComponents[e];return null!=t&&0===Object.keys(t).length}async function S(e,t,map){if(f[e])return f[e];var o=y(t),n=o[e];if(n){if(!n.publicPath){var l=new c.F(d.r.PUBLIC_PATH_IS_MISSING);throw l.setPayloadValue("vertical",e),l}if(!n.initial||!n.initial.length){var h=new c.F(d.r.INITIAL_ASSETS_ARE_MISSING);throw h.setPayloadValue("vertical",e),h}m(e,o);var w=n.initial.map(e=>n.publicPath+e),_=r.lma(w,"log").then(()=>{v(e,map,t)}).finally(()=>{delete f[e]});return f[e]=_,_}}function E(map,e){Object.keys(h.Z.composerComponents).forEach(t=>{v(t,map,e)})}function O(e){var t=y(e);new Set([...l.w,...Object.keys(t)]).forEach(e=>{m(e,t)})}async function T(e,map){var t=new Set;Object.keys(y(e)).forEach(e=>{l.w.has(e)||_(e)||t.add(e)});var r=(e,o=new Set)=>(e.forEach(e=>{t.has(e.vertical)&&o.add(e.vertical),e.placeholders&&e.placeholders.length&&e.placeholders.forEach(e=>{e.widgets&&e.widgets.length&&r(e.widgets,o)})}),o),o=e.state.layout||[],n=r(o);if(n.size){var c=[];n.forEach(t=>{c.push(S(t,e,map))}),await Promise.allSettled(c)}}o=window.__getPublicPath},"432f6":(e,t,r)=>{"use strict";function o(e){var{shared:t,layoutTrackingInfo:r}=e;t&&"string"==typeof t&&(e.shared=JSON.parse(t)),r&&"string"==typeof r&&(e.layoutTrackingInfo=JSON.parse(r))}r.d(t,{tf:()=>o})},"3e315":(e,t,r)=>{"use strict";r.d(t,{V0:()=>d,eT:()=>h,ph:()=>l,zQ:()=>c});var o=r("9b84d"),n=r("14747");function c(e,t,r){if((null==e||"object"!=typeof e)&&(t&&!r))throw new o.LoggerError(n._.WIDGET_STATE_NOT_FOUND)}function d(e){switch(typeof e){case"string":return JSON.parse(e);case"object":if(e)return Object.assign({},e);default:throw new o.LoggerError(n._.WIDGET_WRONG_SET_STATE)}}function l(e=[],t){if(!Array.isArray(e)){var r=new o.WidgetError(n._.PLACEHOLDERS_MUST_BE_ARRAY);throw r.mergePayload({invalidType:typeof e,invalidValue:e?JSON.stringify(e):""}),r}return e.find(e=>e.name===t)||{name:"",widgets:[]}}function h(e,t,r,o){if(t[r].placeholders){var n=l(t[r].placeholders,o.name);if(!n.name){var c=t[r].placeholders.length;return void e(t[r].placeholders,c,o)}var d=t[r].placeholders.indexOf(n);for(var h of o.widgets){var f=t[r].placeholders[d].widgets.length;e(t[r].placeholders[d].widgets,f,h)}}else e(t[r],"placeholders",[o])}},"64f8f":(e,t,r)=>{"use strict";r.d(t,{W:()=>o});var o="aboutStatic"},"204fc":(e,t,r)=>{"use strict";var o;r.d(t,{i:()=>o,n:()=>n});var n=e=>{o=e}},cc01b:(e,t,r)=>{"use strict";r.d(t,{F:()=>n});var o=r("9b84d");class n extends o.LoggerError{toLoggerMessage(){var e=this.getPayload();return{message:this.getType(),payload:{stack:e.stack,vertical:e.vertical,assetSrc:e.assetSrc,isStaticLogs:!0}}}}},"0d70d":(e,t,r)=>{"use strict";r.d(t,{r:()=>n});var o=r("9b84d"),n=(0,o.dictionary)("federation",{INVALID_MICROFRONTEND:"Invalid vertical settings in microfrontend, publicPath not found",PUBLIC_PATH_IS_MISSING:"publicPath is missing in vertical info",INITIAL_ASSETS_ARE_MISSING:"Initial assets are missing in vertical info",LOADING_ASSET_ERROR:"Loading asset failed",LOADING_ASSET_TIMEOUT:"Loading asset timed out"})},14747:(e,t,r)=>{"use strict";r.d(t,{X8:()=>d,_:()=>n,jn:()=>c,kE:()=>l,nd:()=>h,xv:()=>f});var o=r("9b84d"),n=(0,o.dictionary)("layout",{COMPOSER_EMPTY_DATA:"Data from composer is empty",COMPOSER_FETCH_LAYOUT:"Error while fetch composer layout",DIRECTIVE_V_HTML_DEPRECATED:'Directive "v-html" deprecated',WIDGET_STATE_NOT_FOUND:"State for widget wasn't found",WIDGET_ASYNC_WITHOUT_HASH:"Error while getting hash of async widget",WIDGET_ASYNC_EMPTY_RESPONSE:"Empty response for async widget",WIDGET_ASYNC_NO_VERTICAL:"Empty vertical in async widget",WIDGET_NO_STATE_ID:"Empty widget state id passed",WRONG_REPLACE_PARAMS:"Wrong params passed to replace state function",WRONG_WIDGET_CONTENT:"Wrong content passed to widget creator",WRONG_WIDGET_VERSION:"Wrong version passed to widget creator",WIDGET_MAP_NO_COMPONENTS:"Need to passed components for generate testing data",WIDGET_MAP_TYPE_ERROR:"Type error while getting node",WIDGET_WRONG_SET_STATE:"Wrong state type passed to update function",UNCORRECT_WIDGET:"Error while recognition widget",UNKNOWN_WIDGET_ERROR:"Unknown type of error",WIDGET_NOT_FOUND_STATE_ID:"Error while try to find widgets layer by state id",PLACEHOLDERS_MUST_BE_ARRAY:"Expected placeholders to be an array",CLIENT_WIDGET_STATES_INVALID_TYPE:"Expected client widget state to be an object",INVALID_WIDGET_INITIAL_STATE:"Expected widget initial state to be a json string"}),c=(0,o.dictionary)("unfound",{WIDGET_NOT_FOUND:"Widget not found in project"}),d=(0,o.dictionary)("rendering",{WIDGET_RENDER_ERROR:"Error while rendering widget"}),l=(0,o.dictionary)("rendering-placeholder",{WIDGET_CANT_BE_RENDERED:"Widget can't be rendered in placeholder"}),h=(0,o.dictionary)("async-state",{FETCH_ASYNC_WIDGET_STATE_ERROR:"Error while fetching async widget state"}),f=(0,o.dictionary)("promises",{UNHANDLED_REJECTION:"Error while handling promise",REJECTION_HANDLED:"Rejection was hanldled after PROMISES.UNHANDLED_REJECTIONS error"})},27808:(e,t,r)=>{"use strict";r.d(t,{b:()=>n});var o=r("9b84d"),n=(0,o.dictionary)("logger",{PARSING_ERROR:"Error while parsing fields to log",PARAMS_ERROR:"Error while adding params",GETTING_STORE_FIELDS_ERROR:"Error while getting user fields from store"})},"5925e":(e,t,r)=>{"use strict";r.d(t,{FP:()=>c,sR:()=>n});var o=r("9b84d"),n=(0,o.dictionary)("tracker",{ERROR_CALL_TRACKER_ON_SERVER:"Error: analytics sent from server side",ERROR_WHILE_USING_TRACKER_SEND:"Method trackerSend waiting required parameter - actionType or trackingInfo",WIDGET_NOT_FOUND_TRACKER_TOKEN:"Error while try to find tracker widget token",ERROR_WHILE_SENDING_EVENT:"Error while try to send analytics with trackerSend method",WIDGET_IS_MISSING_TRACKING_FLAG:"Widget sends analytics without isTrackingOn flag"}),c="tracker-loading";(0,o.dictionary)(c,{NOT_READY:"A non-send* property of tracker was accessed but tracker is not ready",NOT_AVAILABLE:"Tracker functionality is not available"})},"4a067":(e,t,r)=>{"use strict";function o(){return Boolean(window.__disableUselessModules)}r.d(t,{k:()=>o})},"668a9":(e,t,r)=>{"use strict";r.d(t,{R:()=>c,V:()=>d});var o=r("81906"),n=r.n(o),c=()=>n()(navigator,"onLine",!0)?n()(navigator,"connection.saveData")?"Save-Data is enabled":/2g/.test(n()(navigator,"connection.effectiveType",""))?"network conditions are poor":null:"device in offline mode",d=(e,t)=>{var r=c();if(r)return Promise.reject(new Error(`Cannot load resource ${e}: ${r}`));var link,o,d=new URL(e,location.href).toString();return link=document.createElement("link"),(o=n()(link,"relList"))&&(o.supports("prerender")||o.supports("prefetch"))&&"xhr"!==t?((e,t)=>new Promise((r,o)=>{var link=document.createElement("link"),c=n()(link,"relList");link.rel=c&&c.supports("prerender")&&!t?"prerender":"prefetch",link.href=e,link.onload=()=>{document.head.removeChild(link),r(e)},link.onerror=()=>{document.head.removeChild(link),o(new Error(`Failed to load resource ${e}`))},document.head.appendChild(link),"prerender"===link.rel&&r(e)}))(d,Boolean(t)):(e=>new Promise((t,r)=>{var o=new XMLHttpRequest;o.open("GET",e,o.withCredentials=!0),o.setRequestHeader("x-o3-prefetch","true"),o.onload=()=>{200===o.status?t(e):r(new Error(`Failed to load resource ${e}. Request status: ${o.status}`))},o.onerror=()=>r(new Error(`Failed to load resource ${e}`)),o.send()}))(d)}},"9d72d":(e,t,r)=>{"use strict";r.d(t,{B_:()=>l,KU:()=>f,L4:()=>v,NR:()=>c,OC:()=>d,_f:()=>m,nF:()=>h});var o=r("9b84d"),n=r("5925e");function c(e,t){var{key:r,sliceKey:n}=e,c={trinityEvent:{}};return r&&"string"==typeof r&&(c.trinityEvent.cellToken=r),n&&"string"==typeof n&&(c.trinityEvent.sliceToken=n),t&&(0,o.isObject)(t)&&(e.custom&&(0,o.isObject)(t)?c.trinityEvent.custom=Object.assign(Object.assign({},e.custom),t):c.trinityEvent.custom=t),c}function d(e){return"string"==typeof e}function l(e){return(0,o.isObject)(e)&&Boolean(e.actionType)&&Boolean(e.key)}function h(e){return(0,o.isObject)(e)&&Boolean(e.trinityEvent)}function f(e){return(0,o.isObject)(e)&&!h(e)}function v(e,t){if(e&&"object"==typeof e&&!1===Array.isArray(e)){for(var r in e){var o=t[e[r]];o&&(e[r]=o)}var n=e.nested;n&&Array.isArray(n)&&n.forEach(e=>{v(e,t)})}}function m(e,t){if((0,o.isObject)(e.trinityEvent)){if("string"!=typeof t||!t)return n.sR.WIDGET_NOT_FOUND_TRACKER_TOKEN;e.trinityEvent=Object.assign({},e.trinityEvent,{widgetToken:t})}}},"00723":(e,t,r)=>{"use strict";r.d(t,{_:()=>T});var o=r("76e81"),n=r.n(o),c=r("81906"),d=r.n(c),l=r("01873"),h=r("9b84d"),f=r("432f6"),v=["layout","layoutModal"],m=["get","post"];function y(){return l.EComposerLoadingStatus.FAILURE}var w=r("956f0"),_=r("fa6ab"),S=r("2b262"),E=r("14747"),O=["widgetStates"];class T extends h.AbstractActionsService{constructor(...e){super(...e),this.promises={}}async setComposerLayout(e){try{var t={pageData:e.pageData,widgetsData:e.widgetsData};return await this.updateComposerLayout({params:t,replace:!0})}catch(e){return void this.container.resolve("Logger").error({message:"error with setComposerLayout",exception:e,zone:"composer-actions"})}finally{this.container.resolve("SingletonRegistry").use(S.r).emit("SET_COMPOSER_LAYOUT")}}async getComposerLayout(e){var t=this.container.resolve("ComposerStore");try{var{url:r,payload:o,method:n,forbidRedirect:c,context:f}=e,data=await this.getParsedApiResponse({url:r,payload:o,method:n,context:f});if(!data||"object"!=typeof data)return!1;var v=d()(data,"pageInfo.url"),m=t.state._get("client.version"),w=d()(data,"client.version"),_=d()(data,"browser.useSpa"),S=d()(data,"client.jsonVersionChanged");return c||!(m&&w&&m!==w)&&!S?data:(_||(0,h.sendMessageToSW)({action:"CLEAR_SW_CACHE",cacheNames:l.ECacheNames.PAGINATOR}),void this.container.resolve("ComposerRouter").redirect(v))}catch(e){var O=y();return O!==l.EComposerLoadingStatus.CANCELED&&this.container.resolve("Logger").error({message:E._.COMPOSER_FETCH_LAYOUT,exception:e,zone:"composer-actions"}),t.replaceStateByPath({path:"shared.loading",value:O}),O}}async getParsedApiResponse(e){var{url:t,method:r="get",payload:o={},needRedirect:n=!0,context:c}=e;if(this.cancelPromise({context:c}),!m.includes(r)){var d=new h.ApiLoggerError({zone:"api",errorCode:"COMPOSER_API_METHOD_NOT_ALLOWED",value:"Wrong method name passed to getParsedApiResponse"});throw d.setPayloadValue("method",r),d}var l=this.container.resolve("ComposerStore"),v="json"+r[0].toUpperCase()+r.slice(1);this.promises[c]=this.container.resolve("SingletonRegistry").use(_.ComposerService)[v]({url:t,payload:o});var data=await this.promises[c];return this.promises[c]=null,!(!data||"object"!=typeof data)&&(data.redirect&&"string"==typeof data.redirect&&n?(window.location.assign(data.redirect),!1):(void 0===data.nextPage&&(data.nextPage=""),data.trackingTokenAliases&&l.setTrackingTokenAliases(data.trackingTokenAliases),(0,f.tf)(data),l.setVerticalInfo(data.verticalInfo),data))}async fetchComposerLayout(e){var t=this.container.resolve("ComposerStore");try{var{url:r,mapper:o,payload:c,method:d,forbidRedirect:h,context:f}=e;t.replaceStateByPath({path:"shared.loading",value:l.EComposerLoadingStatus.PENDING});var data=await this.getComposerLayout({url:r,payload:c,method:d,forbidRedirect:h,context:f});if(data===l.EComposerLoadingStatus.CANCELED)return l.EComposerLoadingStatus.CANCELED;if(!data||"object"!=typeof data)return!1;t.replaceStateByPath({path:"shared.loading",value:l.EComposerLoadingStatus.SUCCESS}),data.shared=Object.assign({},t.state._get("shared",{}),data.shared),"object"==typeof data.browser&&(data.browser.cspNonce=t.state._get("browser.cspNonce")),o&&"function"==typeof o&&(data=o(data));var{widgetStates:v}=data;return{pageData:n()(data,O),widgetsData:v}}catch(e){return this.container.resolve("Logger").error({message:"error with fetchComposerLayout",exception:e,zone:"composer-actions"}),t.replaceStateByPath({path:"shared.loading",value:y()}),!1}}async updateComposerLayout(e){try{var{params:t,afterMergeState:r,beforeMergeState:o,context:n="page",replace:c=!1}=e,{url:d,mapper:l,payload:f,method:m,pageData:y,widgetsData:_,forbidRedirect:O}=t,data=y,T=_;if(!data){var R=await this.fetchComposerLayout({url:d,mapper:l,payload:f,method:m,forbidRedirect:O,context:n});R&&"object"==typeof R&&(data=R.pageData,T=R.widgetsData)}if(!data||Object.keys(data).length<1){var C=new h.LoggerError(E._.COMPOSER_EMPTY_DATA);throw C.setPayloadValue("invalidType",null===data?"null":typeof data),C}var I=v.reduce((e,t)=>(e[t]=data[t],e),{});c||v.forEach(e=>delete data[e]),"function"==typeof o&&o(I,data);var A=this.container.resolve("ComposerStore");if(c){var x=A.state.trackingTokenAliases||{};data.trackingTokenAliases?data.trackingTokenAliases=Object.assign(x,data.trackingTokenAliases):data.trackingTokenAliases=x,A.setRootState(data),window.__NUXT__.state=A.state}else A.mergeRootState(data);return null!=T&&this.container.resolve("SingletonRegistry").use(w.ClientWidgetStates).next(T,{replace:c}),"function"==typeof r&&r(I,data),data}catch(e){return this.container.resolve("Logger").error({message:"error with updateComposerLayout",exception:e,zone:"composer-actions"}),!1}finally{this.container.resolve("SingletonRegistry").use(S.r).emit("UPDATE_COMPOSER_LAYOUT")}}cancelPromise({context:e="page"}={}){var t=this.promises[e];t&&t.cancel()}}T.__serviceName="AbstractActionsService_ComposerLayoutActions"},"2b262":(e,t,r)=>{"use strict";r.d(t,{r:()=>n});var o=r("9b84d");class n extends o.EventBus{}n.__serviceName="EventBus_ComposerEvents"},d9852:(e,t,r)=>{"use strict";r.r(t),r.d(t,{DURATION:()=>n,checkScroll:()=>c});var o=r("9b84d"),n=1e3,c=(e,t="")=>{if(t){var[r="",c=""]=t.split("#"),{hash:d,offsetTop:l}=(0,o.getHashAndOffset)(t),[,h=""]=d?d.split("="):[];if(r&&c&&(d||h)){var f,v=l?{offsetTop:l}:void 0;try{f=document.querySelector(`#${d}`)||document.querySelector(`[data-widget-id="${h}"]`)}catch(e){f=null}f&&((0,o.scrollTo)(f,n,v),e.replace(r,{silent:!0}))}}}},"1b5cb":(e,t,r)=>{"use strict";r.r(t),r.d(t,{ASYNC_TYPES:()=>n,EAsyncTypes:()=>o});var o=function(e){return e.TYPE_ON_VIEWPORT="onViewport",e.TYPE_ON_PAGE_LOAD="onPageLoad",e.TYPE_ON_PREFETCH_PAGE_LOAD="onPrefetchPageLoad",e}({}),n=Object.values(o)},"5fa5d":(e,t,r)=>{"use strict";r.r(t),r.d(t,{FORCE_HIDE_MODAL_HEADER:()=>n,TOOLBAR_FLAG_NAME:()=>o});var o="x-o3-debug-toolbar",n="x-o3-auto-modal-off"},"00c3b":(e,t,r)=>{"use strict";r.r(t),r.d(t,{getDatesLocalizedData:()=>c,setDatesLocalizedDataLazyBuilder:()=>n});var o={},n=(e,t)=>{o[e]?o[e].lazyBuilder=t:o[e]={lazyBuilder:t}},c=e=>{var data=o[e]||o.default||{};return!data.value&&data.lazyBuilder&&(data.value=data.lazyBuilder()),data.value||{}}},"009bb":(e,t,r)=>{"use strict";r.r(t),r.d(t,{prerenderAll:()=>n});var o=r("668a9"),n=(e,t)=>{if(!Array.isArray(e)||!e.length)return Promise.reject(new Error("Cannot load resources: no links provided"));var r=(0,o.R)();if(r)return Promise.reject(new Error(`Cannot load resources: ${r}`));var n=e.map(e=>(0,o.V)(e,t).catch(e=>e));return Promise.all(n)}},48829:(e,t,r)=>{"use strict";r.r(t),r.d(t,{addDayjsSetupFn:()=>l,setupDayjs:()=>h});var o=r("2eef9"),n=r.n(o),c=!1,d=[],l=e=>{d.push(e)},h=e=>{c||(e.extend(n()),c=!0),d.length&&(d.forEach(t=>t(e)),d.length=0)}},"060e1":(e,t,r)=>{"use strict";r.r(t),r.d(t,{getSupportsPassive:()=>o});var o=()=>{var e=!1;if("undefined"!=typeof window){e=!1;try{var t=Object.defineProperty({},"passive",{get:()=>{e=!0}});window.addEventListener("__supportPassive",()=>{},t)}catch(e){console.warn("Browser doesn't support passive listeners")}}return e}},f745d:(e,t,r)=>{"use strict";r.r(t),r.d(t,{prefetchNextPage:()=>d});var o=r("81906"),n=r.n(o),c=r("9b84d");function d(e,t){if(e)try{var{nextPage:r}=e,o=n()(e,"browser.useSW"),d=n()(e,"client.platform"),l=document.cookie||"",h=(0,c.getBrowserApiUrl)(t.resolve("Config").get("apiGateway")),f=t.resolve("ComposerStore").state._get("requestID"),v=t.resolve("Tracker").getPageViewId();if(o&&window.$workbox&&r){var m=Object.assign(Object.assign({Accept:"application/json","Content-Type":"application/json"},(0,c.getHeadersByConvention)(t.resolve("ComposerStore").verticalInfo,d,f,v)),{},{cookie:l});(0,c.sendMessageToSW)({action:"PREFETCH_NEXT_PAGE",API_URL_BROWSER:h,servicePath:"entrypoint-api.bx",headers:m,nextPage:r})}}catch(e){t.resolve("Logger").error({exception:e,message:{zone:"sw",errorCode:"ERROR_FETCH_NEXT_PAGE",value:"Error while prefetch next page by service worker"}})}}},"7b347":(e,t,r)=>{"use strict";r.r(t),r.d(t,{ComposerActions:()=>S});var o=r("76e81"),n=r.n(o),c=r("81906"),d=r.n(c),l=r("04304"),h=r("e38e9"),f=r("01873"),v=r("9b84d"),m=r("956f0"),y=r("00723"),w=r("2b262"),_=["replaceUrl","routerMethod"];class S extends y._{emit(...e){return this.container.resolve("SingletonRegistry").use(w.r).emit(...e),this}listen(e,t){return this.container.resolve("SingletonRegistry").use(w.r).listen(e,t)}async refreshLayout(){await this.getLayout({url:window.location.href})}async getLayout(e={}){try{var{replaceUrl:t=!1,routerMethod:r="push"}=e,o=n()(e,_);return await this.updateComposerLayout({params:o,beforeMergeState:({layout:e},data)=>{var o=d()(data,"pageInfo.url");this.container.resolve("ComposerStore").replaceStateByPath({path:"layout",value:e}),t&&o&&window.location.pathname!==o&&this.container.resolve("ComposerRouter")[r](o,{silent:!0})},replace:!0})}catch(e){return this.container.resolve("Logger").error({message:"error with getLayout",exception:e,zone:"composer-actions"}),!1}finally{this.container.resolve("SingletonRegistry").use(w.r).emit("GET_LAYOUT")}}async getModal(e){try{var{url:t="",mapper:r,options:o={},customLayout:n,method:c,payload:d,useUpdateComposerLayout:h=!1}=e;if(/\/modal\//.test(t)&&!h){var m="post"===c?d:void 0;return this.container.resolve("Tracker").sendEvent({actionType:l.EActionTypes.OPEN,custom:{type:"popup",url:t}}),void this.container.resolve("ComposerRouter").push(t,{contextOptions:o,postBody:m})}var y=this.container.resolve("ComposerStore"),_=this.container.resolve("ComposerRouter"),S=({layout:e,layoutModal:r},data)=>{var{showModal:n}=o;"function"==typeof n&&(o.showModal=n(data)),void 0===n&&(o.showModal=!0),_.setContextOptions(o),y.setLayoutModalOptions({isShown:o.showModal,url:t}),y.setLayoutModal(r&&r.length?r:e)};if(n)return void S({layoutModal:n,layout:null},{});_.setContextOptions(o),y.setLayoutModalOptions({isShown:!0,url:t}),this.container.resolve("Tracker").sendEvent({actionType:l.EActionTypes.OPEN,custom:{type:"popup",url:t}}),(0,v.sendMessageToSW)({action:"CLEAR_SW_CACHE",cacheNames:f.ECacheNames.PAGINATOR});return await this.updateComposerLayout({params:{url:t,mapper:r,forbidRedirect:!0,method:c,payload:d},afterMergeState:S,context:"modal"})}catch(e){return this.container.resolve("Logger").error({message:"error with getModal",exception:e,zone:"composer-actions"}),!1}finally{this.container.resolve("SingletonRegistry").use(w.r).emit("GET_MODAL",e)}}async getNotify(e){try{var{url:t="",options:r={showNotify:!0,atoms:[]}}=e,o=await this.getParsedApiResponse({url:t,needRedirect:!1,context:"notifications"}),n=this.container.resolve("ComposerStore"),c=n.state.layoutNotify||[],d=o&&o.layout?o.layout:[];n.setLayoutNotifyOptions({options:r}),n.setLayoutNotify(c.concat(d)),o&&o.widgetStates&&this.container.resolve("SingletonRegistry").use(m.ClientWidgetStates).next(o.widgetStates,{silent:!0})}catch(e){return this.container.resolve("Logger").error({message:"error with getNotify",exception:e,zone:"composer-actions"}),!1}}closeModal(){var e=this.container.resolve("ComposerStore"),t=e.state._get("layoutModal.length")||0,r=e.state._get("layoutModalOptions.url")||"";t&&(this.container.resolve("Tracker").sendEvent({actionType:l.EActionTypes.CLOSE_ACTION,custom:{type:"popup",url:r}}),(0,v.sendMessageToSW)({action:"CLEAR_SW_CACHE",cacheNames:f.ECacheNames.PAGINATOR}),e.setLayoutModal([]));var o=this.container.resolve("ComposerRouter");e.setLayoutModalOptions({isShown:!1}),o.setContextOptions(null),o.setContext(h.ContextKey.PAGE),this.container.resolve("SingletonRegistry").use(w.r).emit("CLOSE_MODAL")}closeNotify(){var e=this.container.resolve("ComposerStore"),t=e.state.layoutNotify;t.shift(),e.setLayoutNotify(t),e.setLayoutNotifyOptions({options:{showNotify:Boolean(t.length)}})}}S.__serviceName="ComposerActions"},"861af":(e,t,r)=>{"use strict";r.r(t),r.d(t,{CookiesActions:()=>c});var o=r("9b84d"),n=r("fa6ab");class c extends o.AbstractActionsService{getCookie(e){return(0,o.getCookie)(e)}async setCookie(e){await this.container.resolve("SingletonRegistry").use(n.ComposerService).actionPost({name:"setUserCookies",data:(0,o.prepareCookiePayload)(e)})}}c.__serviceName="AbstractActionsService_CookiesActions"},fa6ab:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ComposerService:()=>d});var o=r("9b84d"),n="composer-api.bx",c=e=>2===e?"entrypoint-api.bx":n;class d extends o.AbstractApiService{constructor(...e){super(...e),this.serviceName="composer",this.servicePath=n}jsonGet({url:e,version:t=2,payload:r}){return this.fetch({overrideServicePath:c(t),method:"get",path:`/page/json/v${t}?url=${encodeURIComponent(e)}`},r)}jsonPost({url:e,version:t=2,payload:r}){return this.fetch({overrideServicePath:c(t),method:"post",path:`/page/json/v${t}?url=${encodeURIComponent(e)}`},r)}widget(e){var path="/widget/json/v2";return e.stateId&&(path+=`?widgetStateId=${e.stateId}`),this.fetch({method:"post",path},{asyncData:e.asyncHash,extraBody:e.extraBody,url:e.url,componentName:e.url})}actionPost({name:e,data,widgetToken:t}){var path=`/_action/${e}`;return this.fetch({method:"post",path,widgetToken:t},data).catch(this.rejectWithResponse("post",path))}actionGet({name:e,query:t,widgetToken:r}){var path=`/_action/${e}`;return this.fetch({method:"get",path,widgetToken:r},t).catch(this.rejectWithResponse("get",path))}}d.__serviceName="AbstractApiService_ComposerService"},f7897:(e,t,r)=>{"use strict";r.r(t),r.d(t,{registry:()=>o.i});var o=r("204fc")},"956f0":(e,t,r)=>{"use strict";r.r(t),r.d(t,{ClientWidgetStates:()=>c});var o=r("9b84d"),n=r("14747");class c extends o.AbstractStoreService{getInitialState(){return this.value}constructor(e,t={}){super(e,t),this.value={}}next(e={},t={}){try{if("object"!=typeof e){var r=new o.WidgetError(n._.CLIENT_WIDGET_STATES_INVALID_TYPE);throw r.setPayloadValue("invalidType",typeof e),r}t.replace?this.value=e:this.value=Object.assign(this.value,e),t.silent||this.pushState(()=>this.value)}catch(e){this.container.resolve("Logger").error({exception:e})}}}c.__serviceName="AbstractStoreService_ClientWidgetStates"},a2b1c:(e,t,r)=>{"use strict";r.r(t),r.d(t,{NotificationStore:()=>n});var o=r("9b84d");class n extends o.AbstractStoreService{constructor(...e){super(...e),this.collectStickies=[]}getInitialState(){return{marginBottom:0}}addStickyComponent(e){this.collectStickies.push(e),this.pushState(t=>{t.marginBottom=e.offsetHeight})}removeStickyComponent(e){for(var i=0;i<this.collectStickies.length;i++)if(this.collectStickies[i]===e){this.collectStickies.splice(i,1);break}this.pushState(e=>{if(this.collectStickies.length){var t=this.collectStickies.length-1;e.marginBottom=this.collectStickies[t].offsetHeight}else e.marginBottom=0})}}n.__serviceName="AbstractStoreService_NotificationStore"},"9b84d":(e,t,r)=>{var o=r("85ca7"),n=r("affab");void 0===n.__federation__&&(n.__federation__={}),void 0===n.__federation__.deps&&(n.__federation__.deps={}),void 0===n.__federation__.deps["@bx-fe/platform-app-common"]&&(n.__federation__.deps["@bx-fe/platform-app-common"]=o),e.exports=o},"60cbc":(e,t,r)=>{"use strict";r("54e4c"),r("0dafc"),r("76e81");var o=r("81906"),n=r.n(o),c=(r("5f02a"),r("c2501"),r("257d5"),r("85f26"),r("f62bf"),r("423ca"),r("6318e"),r("9c122"),r("d2682"),r("7b374"),r("dbc57"),[]),d=e=>{c.push(e)};window.onAppReadyCbs=c,window.onAppReady=d;var l=r("cfc54"),h=r("686e1");l.Z.containers.host=new h.E("host"),r("de834");var f=r("87b54"),v=r.n(f),m=r("48829"),y=r("00c3b");if(window.__i18n__){var{dayjsLocaleData:w,buildDatesData:_}=window.__i18n__;(0,m.addDayjsSetupFn)(e=>{e.locale(w(),void 0,!0)}),(0,y.setDatesLocalizedDataLazyBuilder)("default",()=>_(w))}var S=r("3a425"),E=r("dd6aa"),O=r("145a1"),T=r("432f6"),R=["chrome-extension://","chrome://","@moz-extension://","global code@","@https://yastatic.net/","at <anonymous>:","injectedScript"],C=["window.yandex."],I=(e,t)=>{if(!e)return!1;for(var r of t)if(e.includes(r))return!0;return!1},A=(e,t)=>{var{message:r,exception:o,widget:n,zone:c,level:d="error",isStaticLogs:l=!1}=t;if(!((h=o)&&h instanceof Error&&(I(h.stack,R)||I(h.message,C)))){var h,f=e.resolve("ComposerStore").state._get("browser.isBot");e.resolve("Logger")[d]({message:r||(o?o.message:"Unhandled error"),url:document.location.toString(),exception:o,widget:n,isBot:f,zone:c},{isStaticLogs:l})}},x=r("14747"),k=r("0d70d"),N=r("cc01b"),j="ResizeObserver loop limit exceeded",L="ResizeObserver loop completed with undelivered notifications.",P="Loading asset error",M="Script error.",D=r("9b84d"),B=r("861af"),$=async e=>{var t=e.resolve("ComposerStore"),r=e.resolve("Config"),o=t.state.experimentsConfig||{};(t.state._get("o3Params.x-o3-tracker-metrics")||"on"===(0,D.getCookie)("tracker_metrics"))&&e.resolve("Tracker").setPageStatisticsTrackerMetrics(t.state.pageStatisticsTrackerMetrics);var n=Boolean(o.otmBlock),c=r.get("otmDelay");d(()=>{var e=t.state;window.otm&&"init"in window.otm?window.otm.init(e):window.otmState=e,window.setTimeout(()=>{n||(()=>{if("local"!==r.get("env")){var e=t.state._get("o3Params.x-o3-otm-version")||r.get("otmVersion"),o=t.state._get("browser.cdnStaticHostname")||"st.ozone.ru",n=document.createElement("script"),c=t.state._get("browser.cspNonce");c&&n.setAttribute("nonce",c),n.setAttribute("internal",""),n.setAttribute("id","ozonTagManagerApp"),n.setAttribute("src",`https://${o}/s3/ozon-tag-manager/${e}/sdk.js`),n.setAttribute("defer",""),document.body.appendChild(n)}})()},c)})};var W=r("e38e9"),H=r("d9852"),U=/^(\/product)|(^\/context\/detail\/id)/i,V="tryToAppTime",z=r("01873"),G={bx:"bx",sc:"sx"};function F(e){var t=e.resolve("ComposerStore").state,r=e.resolve("Config"),o=r.get("swVersion"),n=r.get("namespace");if((t.experimentsConfig||{}).useNewSwPath){var c=G[n],d=t._get("userInfo.user.userId");return c&&("sc"!==n||d)?`/sw/${c}/${o}.js`:""}return`/st/service-worker/${o}.js`}async function Y(e){indexedDB&&indexedDB.deleteDatabase("workbox-expiration"),(0,D.sendMessageToSW)({action:"UNREGISTER"}),e&&await e.unregister()}var J=async e=>{if(D.isServiceWorkerAvailable){try{var t=await async function(e){if(D.isServiceWorkerAvailable&&(!D.isServiceWorkerAvailable||navigator.serviceWorker.getRegistration)){var t=e.resolve("ComposerStore"),r=e.resolve("Config");if(!t.state._get("browser.isBot",!1)){var o=r.get("enableSwHostnameCheck"),c=r.get("hostname");if(!o||c===location.hostname){var d;try{d=await navigator.serviceWorker.getRegistration(window.location.origin)}catch(e){return}var l=t.state._get("experimentsConfig.disallowSW"),h=r.get("disableSW"),f=t.state._get("browser.useSW"),v=r.get("enableSW"),m=F(e),y=v&&f&&m&&!h&&!l;if(!y)return await Y(d),D.ESWStatus.UNREGISTER;var w=d&&n()(d,"active.scriptURL"),_=d&&n()(d,"active.state"),S=window.location.origin+m;return y&&w!==S?(await Y(d),D.ESWStatus.REGISTER):y&&!window.$workbox?D.ESWStatus.REGISTER:y&&window.$workbox&&w===S&&"activated"===_?D.ESWStatus.ALIVE:void 0}}}}(e);if(t!==D.ESWStatus.REGISTER)return;var o=F(e),c=e.resolve("ComposerStore").state,l=e.resolve("Config"),h=c.experimentsConfig||{},f={swCachesLifetime:JSON.parse(l.get("swCachesLifetime")),assetsOptions:JSON.parse(l.get("assetsOptions"))},v=n()(window,"devicePixelRatio");d(()=>{window.setTimeout(async()=>{try{var{Workbox:t}=await r._e("vendor-workbox").then(r.bind(r,"efe75")),n=new t(o,{scope:"/"});window.$workbox=await n.register()||{}}catch(t){e.resolve("Logger").error({exception:t,message:{zone:"sw",errorCode:"ERROR_REGISTERING_SW",value:"Error while registering service worker"}},{isStaticLogs:!0})}(0,D.sendMessageToSW)({action:"SET_CONFIGURATION",experimentsConfig:h,runtimeConfig:f,devicePixelRatio:v}),(0,D.sendMessageToSW)({action:"CLEAR_SW_CACHE",cacheNames:z.ECacheNames.PAGINATOR}),(0,D.sendMessageToSW)({action:"CLEAR_SW_CACHE"}),(0,D.cacheHomePageSW)(e),(0,D.cacheCartPageSW)(e)},1e3)})}catch(t){e.resolve("Logger").error({exception:t,message:{zone:"sw",errorCode:"ERROR_SW",value:"Error while service worker on application init"}})}navigator.serviceWorker.onmessage=t=>{switch(t.data.action){case"EXCEPTION":e.resolve("Logger").error({exception:t.data.exception,message:t.data.message||{errorCode:"ERROR_SW",value:"Error while service worker on application init"},zone:"sw"});break;case"INFO":e.resolve("Logger").info({message:t.data.message,zone:"sw"},{forceMode:!0})}}}},K=async(e,t)=>{var r;(e=>{var t=window.onerror;window.onerror=(...r)=>{var o=r[0],n=r[4],c=o||(n?n.message:"");if(c!==j&&c!==L){if(c===P){var d=n,l="ASSET_LOAD_TIMEOUT"===d.errorCode?k.r.LOADING_ASSET_TIMEOUT:k.r.LOADING_ASSET_ERROR,h=new N.F(l);return h.setPayloadValue("assetSrc",d.assetSrc),t&&t(...r),void e.resolve("Logger").error(h)}if(c===M)return t&&t(...r),void A(e,{message:o,exception:n,isStaticLogs:!0,zone:"cramped-script-error"});t&&t(...r),A(e,{message:o,exception:n})}},document.addEventListener("hydrationError",t=>{var r="",o="hydration error";if(t.detail){var n=t;r=n.detail.parentElem,o+=`: ${n.detail.type}`}A(e,{exception:new Error(o),widget:r,zone:"hydration"})}),window.addEventListener("unhandledrejection",t=>{var{value:r,zone:o}=x.xv.UNHANDLED_REJECTION;A(e,{message:r,exception:t.reason,zone:o})}),window.addEventListener("rejectionhandled",t=>{var{value:r,zone:o}=x.xv.REJECTION_HANDLED;A(e,{message:r,exception:t.reason,zone:o})})})(e),function(e){window.$ComposerRouter=e.resolve("ComposerRouter")}(e),await J(e),(e=>{W.Router.getInstance().getContext(W.ContextKey.MODAL).on(W.EContextHook.BEFORE_ROUTE_LEAVE,t=>{t&&/\/modal\//.test(t.to)&&e.resolve("ComposerStore").setLayoutModalOptions({isShown:!0,url:t.to})})})(e),(e=>{W.Router.getInstance().getContext(W.ContextKey.PAGE).on(W.EContextHook.BEFORE_ROUTE_LEAVE,t=>{if(t){var{to:r,postBody:o,modeSPA:n}=t,c=e.resolve("ComposerStore").state._get("browser.useSpa"),d=o&&Object.keys(o).length;return c||n||d?void 0:(window.location.assign(r),{status:W.EComposerRouterStatus.LOADING_CANCELLED,href:r})}})})(e),(r=W.Router.getInstance().getContext(W.ContextKey.PAGE)).on(W.EContextHook.BEFORE_ROUTE_LEAVE,e=>{if(e){var{to:t}=e;return!/\/_action\//.test(t)&&(t.indexOf("://")>0||0===t.indexOf("//"))?(window.location.assign(t),{status:W.EComposerRouterStatus.LOADING_CANCELLED}):void 0}}),r.on(W.EContextHook.END_ROUTE_LOADING,()=>{window.dispatchEvent(new Event("initCustomHtmlLandings"))}),(()=>{if(window.Telegram){var e=window.Telegram.WebApp;e.enableClosingConfirmation(),e.expand(),e.ready(),e.BackButton.isVisible=!0,e.BackButton.onClick(()=>{window.history.back()})}})(),((e,t)=>{var r=W.Router.getInstance().getContext(W.ContextKey.PAGE);r.on(W.EContextHook.BEFORE_ROUTE_LEAVE,()=>{e.resolve("Tracker").sendPageClose()}),r.on(W.EContextHook.AFTER_ROUTE_ENTER,async r=>{if(r){await t();var o=e.resolve("ComposerStore"),n=e.resolve("Tracker"),c=o.state._get("layoutTrackingInfo",{}),d=o.state._get("browser",{}),l=o.state.pageToken,h=o.state.userToken,f=o.state._get("userInfo",{});n.stateMemory.setData({pageInfo:c,browser:d,pageToken:l,userToken:h,userInfo:f}),n.sendPageView({page:{currentUrl:r.to}}),e.resolve("Config").get("otmOn")&&window.otm&&"setTrigger"in window.otm&&window.otm.setTrigger("APP_PAGE_CHANGED")}})})(e,t),(e=>{var t=W.Router.getInstance().getContext(W.ContextKey.PAGE),r=document.querySelector("html");r&&null!==r.getAttribute("data-n-head-ssr")&&r.removeAttribute("data-n-head-ssr"),t.on(W.EContextHook.END_ROUTE_LOADING,()=>{var t=e.resolve("ComposerStore").state.seo||{},{title="OZON.ru"}=t;title&&(document.title=title)})})(e),(()=>{var e=W.Router.getInstance(),t=e.getContext(W.ContextKey.PAGE);function r(){var{fullPath:t}=e.getParams()||{};(0,H.checkScroll)(e,t)}function o(t){t&&(0,H.checkScroll)(e,t.to)}t.on(W.EContextHook.AFTER_ROUTE_ENTER,o),t.on(W.EContextHook.AFTER_URL_CHANGE,o),"complete"===document.readyState?r():window.addEventListener("load",r)})(),(e=>{W.Router.getInstance().getContext(W.ContextKey.PAGE).on(W.EContextHook.BEFORE_ROUTE_LEAVE,async t=>{if(t){var r=e.resolve("ComposerStore"),o=r.state._get("browser"),c=r.state._get("experimentsConfig"),d=localStorage.getItem(V);d||localStorage.setItem(V,String(Date.now()));var l=!d||Date.now()-Number(d)>18e5,h=Boolean((0,D.getCookie)("toApp")||0),f=n()(o,"isMobile",!1),v=n()(c,"forceToApp",!1),m=new URL(t.to,"https://m.ozon.ru"),y=U.test(m.pathname);if(l&&localStorage.removeItem(V),f&&l&&!h&&v&&y){var w=e.resolve("Tracker");return m.searchParams.set("from","WebToApp2"),m.searchParams.set("mwId",`${w.pageViewId}`),window.location.href=m.toString(),{status:W.EComposerRouterStatus.LOADING_CANCELLED}}}})})(e),$(e),(e=>{var t=(0,D.getCookie)("ap_visited");if(t){var r=location.hostname.split(".");e.resolve("SingletonRegistry").use(B.CookiesActions).setCookie({key:"ap_visited",value:t,options:{domain:`.${r.slice(-2).join(".")}`}})}var o=e.resolve("ComposerStore"),n=o.state._get("debug")||{};console.log("--DEBUG_INFO--",JSON.parse(JSON.stringify(n)));var c=o.state._get("jsCookie")||[];try{c.forEach(t=>{var r=(0,D.parseCookie)(t);e.resolve("SingletonRegistry").use(B.CookiesActions).setCookie(r)})}catch(t){e.resolve("Logger").error({exception:t,zone:"cookie"})}window.history&&(window.history.scrollRestoration="auto"),performance&&performance.mark&&d(()=>performance.mark("HYDRATION_TIME"))})(e),(async e=>{var t=e.resolve("Logger"),r=W.Router.getInstance();if(D.VkBridge.isWebView())try{var o=new D.VkBridge;o.bridge.subscribe(e=>{if(e.detail&&"VKWebAppChangeFragment"===e.detail.type){var t=n()(e,"detail.data.location");t&&r.replace("/gocheckout?"+t)}}),window.addEventListener("click",async e=>{var t=e.target;if("A"===t.tagName&&"_blank"===t.getAttribute("target")){e.preventDefault();var link=t;await o.bridge.send("VKWebAppCustomMessage",{request_id:1,action:"force_external_redirect_ozon",payload:{url:link.href}})}})}catch(e){t.error({exception:e,zone:"vk-app"})}})(e),(e=>{if(HTMLScriptElement.supports&&HTMLScriptElement.supports("speculationrules")){var t=e.resolve("ComposerStore").state,r=t.experimentsConfig||{},o=t._get("browser.cspNonce");if(n()(r,"enableSpeculationRules")){var c=e.resolve("Config").get("speculationRules"),d=document.createElement("script");d.type="speculationrules",d.textContent=c,o&&d.setAttribute("nonce",o),document.body.append(d)}}})(e)};class X{constructor(){this.singletons={},this.servicesInits={}}register(e,t,...r){this.servicesInits[e]=[t,...r]}registerEager(e,t,...r){return this.register(e,t,...r),this.resolve(e)}resolve(e){if(!this.singletons[e]){var t=this.servicesInits[e];if(t){var[r,...o]=t;delete this.servicesInits[e],this.singletons[e]=new r({container:this},...o)}}return this.singletons[e]}}class Q extends D.AbstractService{constructor(e,t){super(e),this.configurationObj=void 0,this.configurationObj=Object.assign({},t)}get(e){return n()(this.configurationObj,e)}}var Z=r("64f8f"),ee=r("1738d");class te extends D.AbstractService{requests(data={},e={}){this.log(data,e,ee.y.requests)}debug(data={},e={}){this.log(data,e,ee.y.debug)}info(data={},e={}){this.log(data,e,ee.y.info)}warning(data={},e={}){this.log(data,e,ee.y.warning)}error(data={},e={}){this.log(data,e,ee.y.error)}critical(data={},e={}){this.log(data,e,ee.y.critical)}}class re extends te{constructor(...e){super(...e),this._logger=void 0,this._deferredUtils=void 0}async getLogger(){if(!this._logger){var e=this.container.resolve("ComposerStore"),t=this.container.resolve("Config"),{ClientLogger:o}=await r._e("vendor-bxfelgr").then(r.t.bind(r,"433e3",19)),n=e.state._get("browser.isBot"),c=`${t.get("xapiDomain")}/api/logs-gateway/input`,d=t.get("gatewayKey"),l=t.get("gatewayStaticsKey"),h=l?{default:d,[Z.W]:l}:d;this._logger=new o({apiUrl:c,level:t.get("logLevel"),token:h,isBot:n,serverTime:e.state._get('resolveParams["current.time"]')})}return this._logger}async getDeferredUtils(){return this._deferredUtils||(this._deferredUtils=await Promise.all([r._e("vendor-bxfelgr"),r.e("main")]).then(r.bind(r,"3ce74"))),this._deferredUtils}async addChunkNameInData(data){var e=await this.getDeferredUtils();e&&e.addChunkNameInData(this.container.resolve("Config").get("env"),data)}log(data,e,t){this.getDeferredUtils().then(r=>{r&&r.log.call(this,data,e,t)}).catch(e=>{console.error(e)})}platformLog(data){this.addChunkNameInData(data).then(()=>this.getLogger()).then(e=>{e&&e.log(data)}).catch(e=>{console.error(e)})}}var oe=!1,ie=r("00723");function ae(e){var t=e.resolve("ComposerStore");return{baseUrl:"/",referrer:t.state._get("pageInfo.referrer"),useSpa:t.state._get("browser.useSpa"),app:{get $logger(){return t=e.resolve("Logger"),r={log:(data,e)=>{t.log(data,{},e)}},Object.keys(ee.y).forEach(e=>{r[e]=data=>{t[e](data)}}),r;var t,r},setComposerLayout:async t=>await e.resolve("SingletonRegistry").use(ie._).setComposerLayout(t),fetchComposerLayout:async t=>await e.resolve("SingletonRegistry").use(ie._).fetchComposerLayout(t)}}}var ne=r("7b347"),se=r("fa6ab");class ce extends D.AbstractService{get translations(){return this._translations||(this._translations=new Map(Object.entries(this._translationsSource()||{})),this._translationsSource=null),this._translations}constructor(e,{language:t,translations:r,pluralizer:o}){super(e),this.language=void 0,this.pluralizer=void 0,this._translationsSource=void 0,this._translations=void 0,this.language=t,this.pluralizer=o,this._translationsSource=r}getCurrentLanguage(){return this.language}t(e,t={}){var r=this.translations.get(e)||t.fallback||e;return this.f(r,t.substitutions||{})}p(e,t){return t[this.pluralizer(e)]}f(e,t){return e.replace(ce.placeholderRegex,(e,r)=>{if("'"===e.charAt(0))return e.substring(1);var o=t[r];return null!=o?String(o):""})}}ce.placeholderRegex=/'?{(.*?)}/g;class de extends D.AbstractService{constructor(...e){super(...e),this.services=new Map,this.namesMapping=new Map}use(e){var t=this.getServiceIdentity(e),r=this.services.get(t);if(!r){if("function"!=typeof e||!e.prototype)throw new D.LoggerError({zone:"core",errorCode:"REGISTRY_USE_RECEIVED_NONCONSTRUCTOR",value:"registry.use() received a non-constructor. Make sure you are passing to use() a class itself, not an instance."});r=new e({container:this.container}),this.services.set(t,r)}return r}useByName(e,t){var r=this.namesMapping.get(e);if(void 0!==r){var o=this.services.get(r);if(!o)throw new D.LoggerError({zone:"core",errorCode:"REGISTRY_USEBYNAME_INSTANCE_MISSING",value:"registry.useByName() could not find a service instance for provided name although it should have been registered."});return o}if(!t||"function"!=typeof t||!t.prototype)throw new D.LoggerError({zone:"core",errorCode:"REGISTRY_USEBYNAME_RECEIVED_NONCONSTRUCTOR",value:"registry.useByName() received a non-constructor. Make sure you are passing to useByName() a class itself, not an instance."});r=this.getServiceIdentity(t);var n=this.services.get(r);return n||(n=new t({container:this.container}),this.services.set(r,n)),this.namesMapping.set(e,r),n}getServiceIdentity(e){return Object.prototype.hasOwnProperty.call(e,"__serviceName")?e.__serviceName:e}}var le=r("4a067");class ue extends W.Router{push(){return Promise.resolve()}replace(){return Promise.resolve()}back(){}forward(){}redirect(){}refresh(){return Promise.resolve()}}class pe extends D.AbstractService{constructor(e,t){super(e);var r=(0,le.k)()?new ue(t):new W.Router(t);return Object.assign(r,this)}}var he=r("e113c");class fe extends he.fs{sendPageView(){}sendPageClose(){}send(){return!1}sendTrinityEvent(){return!1}sendEvent(){return!1}}class ve extends D.AbstractService{constructor(e){super(e);var t=function(e,t){var r=e.resolve("ComposerStore"),o=e.resolve("Config");return{namespace:r.state._get("resolveParams.namespace")||o.get("namespace"),dev:!("prod"===o.get("env")),manager:{enable:Boolean(r.state._get("o3Params.x-o3-tracker-manager"))||Boolean((0,D.getCookie)(t.showManagerCookieName)),host:(0,D.getCookie)(t.tmNeedLocalhostCookieName)?t.tmLocalHost:void 0},metrics:{enable:Boolean(r.state._get("o3Params.x-o3-tracker-metrics"))||Boolean((0,D.getCookie)(t.showMetricsCookieName))},cspNonce:r.state._get("browser.cspNonce"),host:`${o.get("xapiDomain")}/dlte/multi`}}(this.container,{showManagerCookieName:he.e7,showMetricsCookieName:he.Oy,tmNeedLocalhostCookieName:he.QX,tmLocalHost:he.Jz}),r=function(e){var t=e.resolve("ComposerStore");return{pageInfo:t.state.layoutTrackingInfo||{},browser:t.state.browser||{},pageToken:t.state.pageToken||"",userToken:t.state.userToken||"",userInfo:t.state.userInfo||{}}}(this.container),o=(0,le.k)()?new fe(t,r):new he.fs(t,r);return Object.assign(o,this)}}async function ge(e){e.register("ComposerRouter",pe,ae(e)),await async function(e){var t=e.resolve("ComposerStore"),r=e.resolve("ComposerRouter"),o=t.state._get("pageInfo.url"),n={currentUrl:r.current,newerUrl:o};if(t.state._get("experimentsConfig",{}).useComposerUrl)await r.replace(o,{silent:!0});else{var c=(0,W.mergeUrl)(n);await r.replace(c,{silent:!0})}}(e),e.registerEager("Tracker",ve),e.register("Internationalization",ce,function(e){var t=window.__i18n__||{};return{language:e.resolve("ComposerStore").state.language||"ru",pluralizer:t.pluralizer||(e=>e),translations:t.translations||(()=>({}))}}(e)),function(e){e.useByName("CookiesActions",B.CookiesActions),e.useByName("ComposerActions",ne.ComposerActions),e.useByName("ComposerService",se.ComposerService)}(e.registerEager("SingletonRegistry",de))}var me=r("204fc"),ye=r("8d2e0"),we={components:{LayoutBlockVertical:r("7d54e").default,LayoutNoSsr:()=>new Promise(e=>{try{e(r("9e2d7").Z)}catch(t){e(r("4bd08").Z)}})},mixins:[(0,ye.composerStateMixin)({isMobile:({browser:e={}})=>Boolean(e.forceMobile||!e.forceDesktop&&e.isMobile),isAccessibilityMode:e=>e._get("browser.accessibilityMode"),layout:e=>e.layout,imgPixelatedRender:e=>e._get("experimentsConfig.imgPixelatedRender")||!1,optimizeTextRender:e=>e._get("experimentsConfig.optimizeTextRender")||!1,isVkMiniApp:e=>e._get('resolveParams["ozon_id.header.external_source"]')||!1})],data:()=>({fdRenderImageIsOn:!1,fdRenderTextIsOn:!1}),computed:{placeholders(){return[{name:"default",widgets:this.layout}]}},created(){this.fdRenderImageIsOn=this.imgPixelatedRender,this.fdRenderTextIsOn=this.optimizeTextRender},mounted(){this.fdRenderImageIsOn=!1,this.fdRenderTextIsOn=!1}},be={layoutPage:"a0",desktop:"a1",vkApp:"a2",mobile:"a3",testRenderImage:"a4",testRenderText:"a5"},_e={modAlly:"a"},Se=r("67719");var Ee=r.n(Se)()(we,function(){var e,t=this,r=t.$createElement,o=t._self._c||r;return o("div",{class:[t.$style.layoutPage,(e={},e[t.$style.mobile]=t.isMobile,e[t.$style.desktop]=!t.isMobile&&!t.isVkMiniApp,e[t.$ally.modAlly]=t.isAccessibilityMode,e[t.$style.testRenderImage]=t.fdRenderImageIsOn,e[t.$style.testRenderText]=t.fdRenderTextIsOn,e[t.$style.vkApp]=t.isVkMiniApp,e)],attrs:{id:"layoutPage"}},[o("LayoutBlockVertical",{attrs:{placeholders:t.placeholders,"component-name":"blockVertical",vertical:"layout",root:""}}),t._v(" "),o("LayoutNoSsr")],1)},[],!1,function(e){this.$style=be.locals||be,this.$ally=_e.locals||_e},null,null).exports,Oe=r("5fa5d"),Te=r("e6c4b"),Re=r("1b5cb"),Ce=r("2312d"),Ie=Object.assign({},{asyncType:{type:String,validator:e=>Re.ASYNC_TYPES.indexOf(e)>=0||void 0===e},asyncHash:{type:String,default:""},isRumTrackingOn:{type:Boolean,default:!1},isTrackingOn:{type:Boolean,default:!1},isTrackView:{type:Boolean,default:!1},layoutPath:{type:String,default:""},index:{type:Number,default:0},platform:{type:String,default:""},widgetState:{type:String,default:"{}"},params:{type:String,default:"{}"},widgetTrackingInfo:Ce.t.trackingInfoProp},Ce.P,{componentName:{type:String,default:""},vertical:{type:String,default:""}}),Ae=r("8961b"),xe=r.n(Ae),ke=Object.assign(Object.assign({},xe()),{},{name:"NoSsr"});v().component(ke.name,ke);var Ne={props:Object.assign({useWidgetRender:{type:Boolean,default:!1},useBlockRender:{type:Boolean,default:!1}},Ie),provide(){var e=(0,ye.useComposerStore)(this),t=e.state._get("browser",{}),r=e.state._get("experimentsConfig",{}),o=e.state._get("resolveParams",{});return{useWidgetRender:this.useWidgetRender,useBlockRender:this.useBlockRender,layoutPath:this.layoutPath,useWebP:Boolean(t.webp),useWebpInjection:Boolean(t.webp),useAvif:Boolean(t.avif)&&Boolean(r.enableAVIF),useAvifInjection:Boolean(t.avif)&&Boolean(r.enableAVIF),disableGalleryImage:Boolean(r.disableGalleryImage),disableMobileGalleryImage:Boolean(r.disableMobileGalleryImage),cdnImgHostname:t.cdnImgHostname,cdnOriginalImgHostname:t.cdnOriginalImgHostname,cdnVideoHostname:t.cdnVideoHostname,cdnVideoPDPHostname:o.cdn_video_pdp_hostname,cdnVideoTileHostname:o.cdn_video_tile_hostname,cdnVideoReviewHostname:o.cdn_video_review_hostname,crossoriginMode:r.useCrossorigin?"anonymous":"",isDisableSrcSet:Boolean(r.disableSrcSet),alternativeHost1200:Boolean(r.alternativeHost1200),ignoreLazy:Boolean(t.ignoreLazy),isMobile:Boolean(t.forceMobile||!t.forceDesktop&&t.isMobile)||Boolean(t.accessibilityMode),isTesting:Boolean(e.state._get("o3Params.x-o3-ui-tests")),isAccessibilityMode:Boolean(t.accessibilityMode),disableImages:Boolean(t.disableImages),sizeMode:t.sizeMode,colorMode:t.colorMode,pageType:e.state._get("layoutTrackingInfo.pageType",""),isAurora:"aurora5"===o["request.consolidate.user_client"],experimentsNoBlank:Boolean(r.experimentsNoBlank),locale:e.state._get("language","ru"),forceHideModal:e.state._get(`o3Params.${Oe.FORCE_HIDE_MODAL_HEADER}`,!1),asyncIconComponent:Te.default.methods.asyncIconComponent}}},{props:je,provide:Le}=Ne;function Pe(e){var t="__plugin_"+e+"_installed__";v()[t]||(v()[t]=!0,v().use(()=>{v().prototype.hasOwnProperty(e)||Object.defineProperty(v().prototype,e,{get(){return this.$root.$options[e]}})}))}var Me=Object.entries({$composerStore:"ComposerStore",$composerRouter:"ComposerRouter",$config:"Config",$logger:"Logger",$tracker:"Tracker",$i18n:"Internationalization",$registry:"SingletonRegistry"});var De=r("3e315");function Be(...e){var t=Array.isArray(e[0])?[]:{};return e.forEach(e=>{Object.entries(e).forEach(([e,r])=>{var o=t[e],n=r;(0,D.isObject)(o)&&(0,D.isObject)(n)?t[e]=Be(o,n):void 0===n?t[e]=(0,D.isObjectOrArray)(o)?Be(o):o:(0,D.isObjectOrArray)(n)?t[e]=Be(n):t[e]=n})}),t}function $e(e,t,r){if(t instanceof D.WidgetError){var{layout:o,layoutModal:n,layoutNotify:c,triggerMutation:d,stateId:l}=r;t.mergePayload({layout:JSON.stringify(o),layoutModal:JSON.stringify(n),layoutNotify:JSON.stringify(c),requestedStateId:l,triggerMutation:d})}e.error(t)}var We=(e,t,r)=>{for(var i=0;i<e.length;i++){var o=e[i];if(o.stateId===t)return{layer:e,widgetIndex:i,layoutName:r};if(o.placeholders&&o.placeholders.length)for(var n=0;n<o.placeholders.length;n++){var c=We(o.placeholders[n].widgets,t,r);if(c)return c}}return!1},He=["layout","layoutModal"];function Ue(e,t){if(!t)return!1;for(var i=0;i<He.length;i++){var r=He[i],o=e._get(r);if(o&&o.length){var n=We(o,t,r);if(n)return n}}return!1}class Ve extends D.AbstractStoreService{constructor(e,t){super(e,{noFreezeServerState:!0}),this._composerData=void 0,this.verticalInfo={},this._composerData=t,Object.assign(this.verticalInfo,t.verticalInfo||{})}getInitialState(){var e=this._composerData;return this._composerData=null,e}setRootState(body){Object.assign(this.verticalInfo,Be({},this.verticalInfo,body.verticalInfo||{})),this.pushState(()=>Object.assign({},this.state,body,{verticalInfo:Be({},this.state.verticalInfo||{},body.verticalInfo||{})}))}mergeRootState(body){Object.assign(this.verticalInfo,Be({},this.verticalInfo,body.verticalInfo||{})),this.pushState(e=>{Object.assign(e,Be({},e,body))})}setComposerDebug(data){this.pushState(e=>{e.debug||(e.debug={}),Object.assign(e.debug,data)})}deepSet(e){this.pushState(t=>{e.map&&"function"==typeof e.map&&(e.value=e.map(e.value),delete e.map),this.frameworkSpecificDeepSet(t,e.path,e.value)})}removeWidgetByStateId({stateId:e}){if(!e)throw new D.LoggerError(x._.WIDGET_NO_STATE_ID);this.pushState((t,r)=>{try{var o=Ue(t,e);if(o)return void this.frameworkSpecificDelete(o.layer,o.widgetIndex);throw new D.WidgetError(x._.WIDGET_NOT_FOUND_STATE_ID)}catch(o){r(),$e(this.container.resolve("Logger"),o,{layout:t.layout,stateId:e,triggerMutation:"removeWidgetByStateId",layoutModal:t.layoutModal||"none",layoutNotify:t.layoutNotify||"none"})}})}setWidgetPlaceholderByStateId({stateId:e,placeholder:t}){if(!e)throw new D.LoggerError(x._.WIDGET_NO_STATE_ID);this.pushState((r,o)=>{try{var n=Ue(r,e);if(n)return void(0,De.eT)(this.frameworkSpecificSet,n.layer,n.widgetIndex,t);throw new D.WidgetError(x._.WIDGET_NOT_FOUND_STATE_ID)}catch(t){o(),$e(this.container.resolve("Logger"),t,{layout:r.layout,stateId:e,triggerMutation:"setWidgetPlaceholderByStateId",layoutModal:r.layoutModal||"none",layoutNotify:r.layoutNotify||"none"})}})}setLayoutModal(e){this.pushState(t=>{this.frameworkSpecificSet(t,"layoutModal",e)})}setLayoutModalOptions({isShown:e,url:t}){this.pushState(r=>{this.frameworkSpecificSet(r,"layoutModalOptions",{isShown:e,url:t})})}setLayoutNotify(e){this.pushState(t=>{this.frameworkSpecificSet(t,"layoutNotify",e)})}setLayoutNotifyOptions({options:e={},data}){this.pushState(t=>{var r=void 0===e.showNotify||e.showNotify,o=Object.assign(Object.assign({},e),{},{showNotify:r});"function"==typeof r&&(o.showNotify=r(data)),o.atoms&&o.atoms.length&&(o.nuclear=!0,delete o.atoms),t.shared||(t.shared={}),this.frameworkSpecificSet(t.shared,"layoutNotifyOptions",o)})}setSharedState(e={}){this.pushState(t=>{this.frameworkSpecificSet(t,"shared",Object.assign({},t.shared,e))})}setLocationState(e={}){this.pushState(t=>{this.frameworkSpecificSet(t,"location",Object.assign({},t.location,e))})}setVerticalInfo(e={},t){Object.assign(this.verticalInfo,Be({},this.verticalInfo,e)),t||this.pushState(t=>{t.verticalInfo=Object.assign(t.verticalInfo||{},e)})}setTrackingTokenAliases(e){this.pushState(t=>{this.frameworkSpecificSet(t,"trackingTokenAliases",Object.assign({},t.trackingTokenAliases,e))})}setDebugWidgetsState(e={}){this.pushState(t=>{t.debug||(t.debug={}),this.frameworkSpecificSet(t.debug,"widgets",Object.assign({},t.debug.widgets,e))})}replaceStateByPath(e={}){var{path,value:t}=e;if(!path||void 0===t)throw new D.LoggerError(x._.WRONG_REPLACE_PARAMS);this.deepSet({path,value:t})}replaceSharedStore(e={}){var{vertical:t,verticalShared:r={}}=e;if(!t||!r)throw new D.LoggerError(x._.WIDGET_ASYNC_NO_VERTICAL);Object.keys(r).forEach(e=>{var o={path:[t,"shared",e].join("."),value:r[e]},n={path:["shared",e].join("."),value:r[e]};this.replaceStateByPath(o),this.replaceStateByPath(n)})}}Ve.__serviceName="AbstractStoreService_AbstractComposerStore";var ze=r("f0245");class Ge extends Ve{frameworkSpecificSet(e,t,r){v().set(e,t,r)}frameworkSpecificDeepSet(e,t,r){(0,ze.vueSet)(e,t,r)}frameworkSpecificDelete(e,t){v().delete(e,t)}}var Fe=r("cb79f"),Ye={bind:(e,t)=>{t.value&&e.setAttribute("data-test-id",t.value)},update:(e,t)=>{t.value!==t.oldValue&&e.setAttribute("data-test-id",t.value)}};var qe=new Map,Je=(element,e)=>{qe.set(element,e)},Ke=element=>qe.get(element),Xe={track:!0,once:!1,unbind:!1,detectHalf:!1,emitInvisible:!1,top:"0px",left:"0px",bottom:"0px",right:"0px",callback:null,offset:0},Qe=e=>{var t=e.offset?e.offset+"px":e.bottom;return`${e.top} ${e.right} ${t} ${e.left}`},Ze=e=>Object.assign(Object.assign({},Xe),e||{}),et="DetectViewportError",tt=(e,t)=>{var r=new Error(e);return r.name=et,r.description=t,r},ot=e=>e.elm,it={bind(element,e){var t=Object.assign(Object.assign({},Xe),e.value),r=e.value.callback,o=e.value.threshold||[0,.5];if(t.track){if("function"!=typeof r)throw tt("Параметр callback должен быть типа function.",`Передан невалидный параметр callback типа "${typeof r}".`);var n=((element,e)=>(t,r)=>{var o=Ke(element);if(o){var n=o.settings.detectHalf?r>=.5:t;if((n||o.settings.emitInvisible)&&n!==o.isVisible&&(o.callback(n),o.settings.once))e(element);else{var c=Object.assign(Object.assign({},o),{},{isVisible:n});Je(element,c)}}})(element,e=>it.unbind(e,null,null,null)),c=((e,t)=>new IntersectionObserver(e=>{e.forEach(({isIntersecting:e,intersectionRatio:r})=>{t&&t(e,r)})},e))({threshold:o,rootMargin:Qe(t)},n);Je(element,{settings:t,callback:r,handler:n,observer:c,isVisible:!1}),c.observe(element)}},componentUpdated(e,t,r,o){var n=Ze(t.value),c=Ze(t.oldValue);if(r.elm!==o.elm||n.track!==c.track||t.value.subscriptionRenewal)return it.unbind(ot(o),t,r,o),void it.bind(ot(r),t,r,o);n.unbind!==c.unbind&&(n.unbind?it.unbind(ot(o),t,r,o):it.bind(ot(r),t,r,o))},unbind(element){var e=Ke(element);e&&(e.observer.unobserve(element),(element=>{qe.delete(element)})(element))}};v().directive("detect-viewport",it);var at=r("060e1"),nt=10,st=40,ct=400;function lt(e){return e.touches[0].clientX}function ut(e){return e.touches[0].clientY}function pt(e,t,r,param=null){var o=t.$$touchObj.callbacks[r]||[];if(0!==o.length)for(var n of o)n.modifiers.stop&&e.stopPropagation(),n.modifiers.prevent&&e.preventDefault(),n.modifiers.self&&e.target!==e.currentTarget||"function"==typeof n.value&&(param?n.value(param,e):n.value(e))}function ht(e){var t=this.$$touchObj;e.type.indexOf("touch")>=0&&(t.lastTouchStartTime=e.timeStamp),t.touchStarted||(t.touchStarted=!0,t.touchMoved=!1,t.swipeOutBounded=!1,t.startX=lt(e),t.startY=ut(e),t.currentX=0,t.currentY=0,t.touchStartTime=e.timeStamp,pt(e,this,"start"))}function ft(e){var t=this.$$touchObj;if(t.currentX=lt(e),t.currentY=ut(e),t.touchMoved){if(!t.swipeOutBounded){var r=st;t.swipeOutBounded=Math.abs(t.startX-t.currentX)>r&&Math.abs(t.startY-t.currentY)>r}}else{var o=nt;t.touchMoved=Math.abs(t.startX-t.currentX)>o||Math.abs(t.startY-t.currentY)>o,t.touchMoved&&pt(e,this,"moved")}t.touchMoved&&pt(e,this,"moving")}function vt(){var e=this.$$touchObj;e.touchStarted=e.touchMoved=!1,e.startX=e.startY=0}function gt(e){var t=this.$$touchObj;if(e.type.indexOf("touch")>=0&&(t.lastTouchEndTime=e.timeStamp),t.touchStarted=!1,pt(e,this,"end"),t.touchMoved){if(!t.swipeOutBounded){var r,o=st;r=Math.abs(t.startX-t.currentX)<o?t.startY>t.currentY?"top":"bottom":t.startX>t.currentX?"left":"right",t.callbacks["swipe."+r]?pt(e,this,"swipe."+r,r):pt(e,this,"swipe",r)}}else t.callbacks.longtap&&e.timeStamp-t.touchStartTime>ct?(e.preventDefault(),pt(e,this,"longtap")):pt(e,this,"tap")}var mt={bind(e,t){if("boolean"!=typeof t||t){e.$$touchObj=e.$$touchObj||{callbacks:{},hasBindTouchEvents:!1};var r=t.arg||"tap";if("swipe"===r){var o=t.modifiers;if(o.left||o.right||o.top||o.bottom){for(var i in t.modifiers)if(["left","right","top","bottom"].indexOf(i)>=0){var n="swipe."+i;e.$$touchObj.callbacks[n]=e.$$touchObj.callbacks[n]||[],e.$$touchObj.callbacks[n].push(t)}}else e.$$touchObj.callbacks.swipe=e.$$touchObj.callbacks.swipe||[],e.$$touchObj.callbacks.swipe.push(t)}else e.$$touchObj.callbacks[r]=e.$$touchObj.callbacks[r]||[],e.$$touchObj.callbacks[r].push(t);if(!e.$$touchObj.hasBindTouchEvents){var c=!!(0,at.getSupportsPassive)()&&{passive:!0};e.addEventListener("touchstart",ht,c),e.addEventListener("touchmove",ft,c),e.addEventListener("touchcancel",vt),e.addEventListener("touchend",gt),e.$$touchObj.hasBindTouchEvents=!0}}},unbind(e){e.removeEventListener("touchstart",ht),e.removeEventListener("touchmove",ft),e.removeEventListener("touchcancel",vt),e.removeEventListener("touchend",gt),delete e.$$touchObj}};v().directive("touch",mt);var yt=r("47b09"),wt=(e,t)=>{t.value&&(e.innerHTML=t.value)},bt={bind(e,t,r){wt(e,t),n()(r,"context.$config.configurationObj.vHtmlLog")&&(e=>{var t=(0,yt.getFirstBaseInstance)(e);if(t&&"function"==typeof t.getLoggerParams){var r=t.getLoggerParams(),o=new D.WidgetError(x._.DIRECTIVE_V_HTML_DEPRECATED);o.mergePayload({widget:r.widget,stateId:r.stateId,vertical:r.vertical,error:x._.DIRECTIVE_V_HTML_DEPRECATED.value,component:e.$options.name}),e.$logger.info(o,{forceMode:!0})}})(r.context)},update(e,t){wt(e,t)}};v().directive("html-deprecated",bt);var _t=window.__NUXT__=window.__NUXT__||{};async function St(e){(e=>{window.addEventListener("beforeinstallprompt",()=>{e.resolve("Tracker").sendEvent({actionType:"pwa_installation_prompt"})}),window.addEventListener("appinstalled",()=>{e.resolve("Tracker").sendEvent({actionType:"pwa_installed"})})})(e),(e=>{var t=v().config.errorHandler;v().config.errorHandler=(...r)=>{var[o]=r;t&&t(...r),A(e,{exception:o})}})(e),function(e){if(e.resolve("Config").get("useSellerQaDirective"))v().directive("test-id",Ye);else{var t=e.resolve("ComposerStore").state._get("o3Params.x-o3-ui-tests");Fe._3.install(v(),{store:{state:{o3Params:void 0===t?{}:{"x-o3-ui-tests":t}}}})}}(e),await K(e,v().nextTick)}v().config.devtools=("string"==typeof _t.state?_t.state.indexOf('"x-o3-vue-devtools":"true"')>=0:n()(_t.state,["o3Params","x-o3-vue-devtools"]))||oe;var Et=async e=>{"string"==typeof _t.state&&(_t.state=JSON.parse(_t.state)),v().config.silent=true,v().config.performance=oe;var t={};_t.state&&Object.assign(t,_t.state),(0,T.tf)(t);var o=n()(t,"browser.cspNonce");o&&(r.nc=o);var d=e.registerEager("ComposerStore",Ge,t);e.register("Logger",re);try{(0,E.B)(S.Z),(0,O.pm)(S.Z,d),(0,O.dT)(d);var l=(0,O.qI)(d,S.Z).catch(e=>{console.error(e)});await ge(e),(0,me.n)(e.resolve("SingletonRegistry"));var h={props:je,provide:Le,render:e=>e("div",{domProps:{id:"__ozon"}},[e(Ee)])};!function(e,t){Me.forEach(([r,o])=>{Object.defineProperty(t,r,{enumerable:!0,get:()=>e.resolve(o)}),Pe(r)})}(e,h);var f=function(e){return function(t,r){if(!t)throw new Error("inject(key, value) has no key provided");if(void 0===r)throw new Error("inject(key, value) has no value provided");t.startsWith("$")||(t="$"+t),e[t]=r,Pe(t)}}(h);f("$container",e),await St(e),await l;var m=new(v())(h);m.$mount("#__ozon"),v().nextTick(()=>{c.forEach(e=>{"function"==typeof e&&e(m)}),c.length=0})}catch(t){A(e,{exception:t})}};try{"string"==typeof _t.__CONFIG__&&(_t.__CONFIG__=JSON.parse(_t.__CONFIG__));var Ot=Object.preventExtensions(new X),Tt=Ot.registerEager("Config",Q,_t.__CONFIG__||{}).get("invokeClientEntryDelay")||0;window.setTimeout(()=>{Et(Ot).catch(e=>console.error(e))},Tt)}catch(e){console.error(e)}},de834:(e,t,r)=>{"use strict";r.r(t);var o=window.__federation__.containers.host;o.set("application/exposed/composer/base-widget",()=>r("9df37")),o.set("application/exposed/composer/base-widget/utils/get-first-base-instance",()=>r("47b09")),o.set("application/exposed/composer/link",()=>r("449ef")),o.set("application/exposed/composer/links-stub",()=>r("d2b74")),o.set("application/exposed/composer/mixins/composer-loading",()=>r("82cc7")),o.set("application/exposed/composer/mixins/composer-router",()=>r("fedc2")),o.set("application/exposed/composer/mixins/defer.mixin",()=>r("24836")),o.set("application/exposed/composer/mixins/widget",()=>r("99140")),o.set("application/exposed/composer/placeholder-render",()=>r("d5037")),o.set("application/exposed/directives/body-scroll-lock",()=>r._e("exposed-directives").then(r.bind(r,"fcca7"))),o.set("application/exposed/directives/body-scroll-lock/utils",()=>r._e("exposed-directives").then(r.bind(r,"e6d1c"))),o.set("application/exposed/directives/click-outside",()=>r._e("exposed-directives").then(r.bind(r,"54b08"))),o.set("application/exposed/directives/no-body-scroll-anchoring",()=>r._e("exposed-directives").then(r.bind(r,"31d02"))),o.set("application/exposed/directives/prerender",()=>r._e("exposed-directives").then(r.bind(r,"57703"))),o.set("application/exposed/directives/sticky",()=>r._e("exposed-directives").then(r.bind(r,"f0fd2"))),o.set("application/exposed/helpers/composer-store",()=>r("8d2e0")),o.set("application/exposed/helpers/vue-deepset",()=>r("f0245")),o.set("application/exposed/mixins/async-icons.mixin",()=>r("e6c4b")),o.set("application/exposed/mixins/cookie.mixin",()=>r("066c5")),o.set("application/exposed/mixins/default-platform-actions",()=>r("fcf30")),o.set("application/exposed/helpers/check-scroll",()=>r("d9852")),o.set("application/exposed/helpers/constants/async-types",()=>r("1b5cb")),o.set("application/exposed/helpers/constants/o3-params",()=>r("5fa5d")),o.set("application/exposed/helpers/dates",()=>r("00c3b")),o.set("application/exposed/helpers/prerender-all",()=>r("009bb")),o.set("application/exposed/helpers/setup-dayjs",()=>r("48829")),o.set("application/exposed/helpers/supports-passive",()=>r("060e1")),o.set("application/exposed/helpers/sw-prefetch",()=>r("f745d")),o.set("application/exposed/services/actions/composer",()=>r("7b347")),o.set("application/exposed/services/actions/cookies",()=>r("861af")),o.set("application/exposed/services/api/composer",()=>r("fa6ab")),o.set("application/exposed/services/client-registry",()=>r("f7897")),o.set("application/exposed/services/store/client-widget-states",()=>r("956f0")),o.set("application/exposed/services/store/notification",()=>r("a2b1c")),o.set("common/components/adv-badge-v2",()=>Promise.all([r.e("components-adv-badge-v2"),r.e("common_molecules_adv-info_index_vue-_53800")]).then(r.bind(r,"e91d0"))),o.set("common/components/adv-badge-v3",()=>Promise.all([r.e("components-adv-badge-v3"),r.e("common_molecules_adv-info_index_vue-_53801")]).then(r.bind(r,"60e2c"))),o.set("common/components/single-review",()=>Promise.all([r._e("exposed-directives"),r.e("components-single-review")]).then(r.bind(r,"2eef5")))},"4bd08":(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var o={render:()=>null},n=r("67719"),c=r.n(n)()(o,undefined,undefined,!1,null,null,null).exports},"449ef":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var o=r("9b84d"),n=Object.values(o.TARGET_VARIANTS),c={name:"ComposerLink",inject:{pageType:{default:""},experimentsNoBlank:{default:!1},isAurora:{default:!1}},props:{href:{type:String},target:{type:String,default:o.TARGET_VARIANTS.UNSET,validator:e=>n.includes(e)},rel:{type:String},method:{type:String,default:"push",validator:e=>o.ROUTER_METHODS.includes(e)},silent:{type:Boolean,default:!1},scroll:{type:Boolean,default:!0},noBlank:{type:Boolean,default:!1}},render(e){var t=(0,o.preparePropsForRendering)(Object.assign({},this.$props),{pageType:this.pageType,experimentsNoBlank:this.experimentsNoBlank,isAurora:this.isAurora}),r=e=>{(0,o.changeRoute)(this.$container,e,t,this.$listeners.click)};return e("a",{attrs:Object.assign(Object.assign({},this.$attrs),{},{target:t.target||!1,href:t.href||!1,rel:t.rel||!1}),on:Object.assign(Object.assign({},this.$listeners),{},{click:r,auxclick:r})},this.$slots.default)}},d=r("67719"),l=r.n(d)()(c,undefined,undefined,!1,null,null,null).exports},d2b74:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var o=r("e38e9"),n=r("449ef");async function c(e,t,r){if(!e.href||!t.click||e.target||e.withAtomAction){var n=o.Router.getInstance();if(t.click&&t.click(r),e.withAtomAction)return r.preventDefault(),void r.stopPropagation();if(e.target)return n.redirect(e.href,"_blank"),void r.preventDefault();if(e.fakeLink){if(e.target)return void n.redirect(e.href,"_blank");!!r&&(r.ctrlKey||r.metaKey||2===r.which)?n.redirect(e.href,"_blank"):n.push(e.href)}}else t.click(r)}var d={name:"LinksStub",functional:!0,props:{type:{type:String,default:"div"},href:{type:[String,Boolean],default:""},target:{type:Boolean,default:!1},fakeLink:{type:Boolean,default:!1},theme:{type:String,default:""},withAtomAction:{type:Boolean,default:!1}},render(e,{data,$style:t,props:r,listeners:o,children:d}){data.attrs=data.attrs||{};var{type:l,href:h,theme:f}=r,{target:v}=r;return v=v?"_blank":"_self",e(h?n.default:l,Object.assign(Object.assign({},data),{},{class:[t.link,{[t[f]]:f},data.class],attrs:Object.assign({},data.attrs),props:{href:h,target:v},on:Object.assign(Object.assign({},o),{},{click:c.bind(this,r,o)})}),d)}},l={link:"a6",dark:"a7",light:"a8"},h=r("67719");var f=r.n(h)()(d,undefined,undefined,!1,function(e){this.$style=l.locals||l},null,null).exports}}]);