"use strict";(self.webpackChunkDetached_udm=self.webpackChunkDetached_udm||[]).push([["autosplit-teams_udm_components_enter-otp_v2_index_vue-teams_udm_components_submit-button_index_vue"],{"9e697":(e,t,n)=>{n.a(e,async(e,r)=>{try{var o=n("d23db"),d=n("5a116"),c=e([o,d]);[o,d]=c.then?(await c)():c;var l=n.n(d);t.Z={name:"CodeInputs",components:{Preloader:l(),OzInput:o.OzInput},props:{countInput:{type:Number,default:4},requestInProgress:{type:Boolean,default:!1},errorMessage:{type:String,required:!0}},data:()=>({code:{1:"",2:"",3:"",4:""},style:{width:"64px",display:"inline-block","text-align":"center"}}),computed:{codeStr(){return Object.values(this.code).join("")}},mounted(){setTimeout(()=>{this.focusedInput(1)},0)},methods:{nextInput(e){(e<this.countInput&&""!==this.code[e]&&this.focusedInput(e+1),e===this.countInput&&""!==this.code[e])&&this.inputEl(e).blur();this.$emit("setCode",this.codeStr)},focusedInput(e){var element=this.inputEl(e);this.$emit("clearError"),element.focus()},inputEl(e){return this.$refs[`input-${e}`][0].$refs.inputEl},getNewCode(){var e=this.$refs["input-1"][0];e&&e.$refs.inputEl.focus();this.$emit("clearError"),this.$emit("getNewCode"),this.clearCode()},handlerButton(e,t){var n={REMOVE:"Backspace",RIGHT:"ArrowRight",LEFT:"ArrowLeft"},{code,target:{value:r}}=e;Object.values(n).includes(code)&&(t>1&&t<=this.countInput&&(code===n.REMOVE&&""===r&&this.focusedInput(t-1),code===n.LEFT&&this.focusedInput(t-1)),t>=1&&t<this.countInput&&code===n.RIGHT&&this.focusedInput(t+1))},onEnter(e){this.$emit("setCode",this.codeStr),e===this.countInput&&""!==this.code[e]&&this.$emit("onAutoSendRequest")},onFocus(){this.$emit("onFocus")},onBlur(){var e=this.codeStr.length;e<4&&0!==e?this.error=!0:4===e&&(this.$emit("setCode",this.codeStr),this.$emit("onAutoSendRequest"))},clearCode(){Object.keys(this.code).forEach(e=>{this.code[e]=""})}}},r()}catch(e){r(e)}})},"6b50b":(e,t,n)=>{n.a(e,async(e,r)=>{try{var o=n("b0eba"),d=n("1d62e"),c=e([o]);o=(c.then?(await c)():c)[0],t.Z={name:"EnterOtp",components:{CodeInputs:o.Z,GetCodeNewMessage:d.Z},props:{messageSendOn:{type:String,default:""},resendAfter:{type:Number,required:!0},checkAllowed:{type:Boolean,required:!0},renderTime:{type:String,required:!0},requestInProgress:{type:Boolean,default:!1},errorMessage:{type:String,default:""},isEditAllowed:{type:Boolean,default:!0}},data(){return{code:"",changeRecipientButtonText:this.$i18n.t("system@change")}},methods:{onGetNewCode(){this.$emit("getNewCode"),this.$emit("clearError")},onFocus(){this.$emit("clearError")},onCheckCode(){4===this.code.length&&this.$emit("checkCode",{otp:this.code})},onSetCode(code){this.code=code}}},r()}catch(e){r(e)}})},"19d2a":(e,t,n)=>{n.a(e,async(e,r)=>{try{var o=n("ac556"),d=e([o]);o=(d.then?(await d)():d)[0];t.Z={name:"SubmitButton",components:{AtomWebButton:o.AtomWebButton},inject:{isMobile:{default:!1}},props:{text:{type:String,required:!0},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},testId:{type:String,default:""},size:{type:String,default:"xl"},theme:{type:String,default:"primary"}}},r()}catch(e){r(e)}})},b0eba:(e,t,n)=>{n.a(e,async(e,r)=>{try{var o=n("d0225"),d=n("431e6"),c=n("7c373"),l=n("695d8"),h=n.n(l),v=e([d]);function f(e){this.$style=c.Z.locals||c.Z}d=(v.then?(await v)():v)[0];var component=h()(d.Z,o.s,o.x,!1,f,null,null);t.Z=component.exports,r()}catch(m){r(m)}})},"1d62e":(e,t,n)=>{n.d(t,{Z:()=>c});var r={name:"GetCodeNewMessage",props:{timeLeft:{type:Number,required:!0},renderTime:{type:String,required:!0}}},o=n("b3f3d"),d=n("695d8");var c=n.n(d)()(r,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.$style.message},[e.timeLeft>0?[e._v("\n    Получить новый код можно"),n("br"),e._v("через "+e._s(e.renderTime)+"\n  ")]:n("a",{directives:[{name:"qa",rawName:"v-qa:id",value:"verificationGetNewCodeLink",expression:"'verificationGetNewCodeLink'",arg:"id"}],attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.$emit("onGetNewCode")}}},[e._v("\n    Получить новый код\n  ")])],2)},[],!1,function(e){this.$style=o.Z.locals||o.Z},null,null).exports},f79d9:(e,t,n)=>{n.a(e,async(e,r)=>{try{var o=n("5a359"),d=n("92394"),c=n("7684c"),l=n("695d8"),h=n.n(l),v=e([d]);function f(e){this.$style=c.Z.locals||c.Z}d=(v.then?(await v)():v)[0];var component=h()(d.Z,o.s,o.x,!1,f,null,null);t.Z=component.exports,r()}catch(m){r(m)}})},"101a9":(e,t,n)=>{n.a(e,async(e,r)=>{try{var o=n("4be91"),d=n("665bc"),c=n("df638"),l=n("695d8"),h=n.n(l),v=e([d]);function f(e){this.$style=c.Z.locals||c.Z}d=(v.then?(await v)():v)[0];var component=h()(d.Z,o.s,o.x,!1,f,null,null);t.Z=component.exports,r()}catch(m){r(m)}})},"431e6":(e,t,n)=>{n.a(e,async(e,r)=>{try{var o=n("9e697"),d=e([o]);o=(d.then?(await d)():d)[0],t.Z=o.Z,r()}catch(e){r(e)}})},92394:(e,t,n)=>{n.a(e,async(e,r)=>{try{var o=n("6b50b"),d=e([o]);o=(d.then?(await d)():d)[0],t.Z=o.Z,r()}catch(e){r(e)}})},"665bc":(e,t,n)=>{n.a(e,async(e,r)=>{try{var o=n("19d2a"),d=e([o]);o=(d.then?(await d)():d)[0],t.Z=o.Z,r()}catch(e){r(e)}})},d0225:(e,t,n)=>{n.d(t,{s:()=>r,x:()=>o});var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{class:e.$style.inputs},e._l(e.countInput,function(t){return n("OzInput",{directives:[{name:"qa",rawName:"v-qa:id",value:"verificationCodeInput"+t,expression:"`verificationCodeInput${index}`",arg:"id"}],key:t,ref:"input-"+t,refInFor:!0,style:e.style,attrs:{mask:"#",size:"xxl",value:e.code[t],type:"number",autofocus:1===t,disabled:e.requestInProgress,"has-error":Boolean(e.errorMessage)},on:{input:function(n){return e.nextInput(t)},focus:function(t){return e.$emit("onFocus")},blur:e.onBlur,keydown:function(n){return e.handlerButton(n,t)},keyup:function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"enter",13,n.key,"Enter")?null:e.onEnter(t)}},model:{value:e.code[t],callback:function(n){e.$set(e.code,t,n)},expression:"code[index]"}})}),1),e._v(" "),e.errorMessage?n("div",{directives:[{name:"qa",rawName:"v-qa:id",value:"otpErrorMessage",expression:"'otpErrorMessage'",arg:"id"}],class:e.$style.error},[e._v("\n    "+e._s(e.errorMessage)+"\n  ")]):e._e(),e._v(" "),e.requestInProgress?n("div",{class:e.$style.preloader},[n("Preloader",{attrs:{mod:"dots-blue"}})],1):e._e(),e._v(" "),e._t("info")],2)},o=[]},"5a359":(e,t,n)=>{n.d(t,{s:()=>r,x:()=>o});var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.checkAllowed?n("div",[n("div",{class:e.$style.title},[e._v("\n      Введите код\n    ")]),e._v(" "),n("div",{directives:[{name:"qa",rawName:"v-qa:id",value:"otpRecipient",expression:"'otpRecipient'",arg:"id"}],class:e.$style.note},[e._v("\n      Мы отправили код на "),n("b",[e._v(e._s(e.messageSendOn))]),e._v(" "),e.isEditAllowed?n("a",{directives:[{name:"qa",rawName:"v-qa:id",value:"changeRecipient",expression:"'changeRecipient'",arg:"id"}],attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.$emit("goTo")}}},[e._v("\n        "+e._s(e.changeRecipientButtonText)+"\n      ")]):e._e()]),e._v(" "),e._t("additionalInfo"),e._v(" "),n("CodeInputs",{attrs:{"error-message":e.errorMessage,"request-in-progress":e.requestInProgress},on:{getNewCode:e.onGetNewCode,clearError:function(t){return e.$emit("clearError")},onFocus:e.onFocus,sendRequest:e.onCheckCode,onAutoSendRequest:e.onCheckCode,setCode:e.onSetCode},scopedSlots:e._u([{key:"info",fn:function(){return[e.requestInProgress?e._e():n("GetCodeNewMessage",{attrs:{"time-left":e.resendAfter,"render-time":e.renderTime},on:{onGetNewCode:e.onGetNewCode}})]},proxy:!0}],null,!1,1833477103)})],2):n("div",[n("div",{directives:[{name:"qa",rawName:"v-qa:id",value:"authHeader",expression:"'authHeader'",arg:"id"}],class:e.$style.title},[e._v("\n      "+e._s(e.errorMessage||"Упс! Превышено количество попыток")+"\n    ")]),e._v(" "),n("div",{class:e.$style.note},[e._v("\n      Получить новый код можно через "+e._s(e.renderTime)+"\n    ")])])])},o=[]},"4be91":(e,t,n)=>{n.d(t,{s:()=>r,x:()=>o});var r=function(){var e=this,t=e.$createElement;return(e._self._c||t)("AtomWebButton",{directives:[{name:"qa",rawName:"v-qa:id",value:e.testId,expression:"testId",arg:"id"}],class:e.$style.submitButton,attrs:{type:"submit",size:e.size,theme:e.theme,fill:!0,text:e.text,loading:e.loading,disabled:e.disabled},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.$emit("submit")}}})},o=[]}}]);