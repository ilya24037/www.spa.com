(()=>{var e={712:(e,t,a)=>{"use strict";a.r(t),a.d(t,{SELECT_MOBILE_SIZES:()=>l,defaultValues:()=>i});var l={M:"m",L:"l",XL:"xl",XXL:"xxl"},i={size:l.M,loading:!1,value:null,options:[],disabled:!1,placeholder:"",multiple:!1,resetOnOptionsChange:!1,setValueOnSelect:!0,filterable:!0,onlySearchResults:!1,labelKey:"label",indexKey:"value",filterBy:function(e,t,a){return(t||"").toLowerCase().indexOf(a.toLowerCase())>-1},filter:function(e,t){return e.filter((e=>{var a=this.getOptionLabel(e.value);return"string"!=typeof a&&(a=String(a)),this.filterBy(e,a,t)}))},testInfo:{}}},851:(e,t,a)=>{Object.defineProperties(t,{OzSelectMobile:{get:()=>a(569).Z}}),Object.assign(t,a(712))},569:(e,t,a)=>{"use strict";a.d(t,{Z:()=>v});var l=window.__federation__.deps["@bx-fe/ui-kit-popover@5.3.3"]||{},i=window.__federation__.deps["@bx-fe/ui-kit-text-field-wrapper@5.3.2"]||{},s=window.__federation__.deps["@bx-fe/ui-kit-dropdown@5.3.2"]||{},n={functional:!0,name:"icSDropdown",meta:{width:16,height:16,viewBox:"0 0 16 16"},render:(e,t)=>e("svg",Object.assign(Object.assign({},t.data),{},{attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},t.data.attrs),domProps:{innerHTML:'<path fill="currentColor" d="m4 6 4 5 4-5z"/>'}}))},o={functional:!0,name:"icSCancelFilled",meta:{width:16,height:16,viewBox:"0 0 16 16"},render:(e,t)=>e("svg",Object.assign(Object.assign({},t.data),{},{attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},t.data.attrs),domProps:{innerHTML:'<path fill="currentColor" d="M8 16c4.964 0 8-3.036 8-8s-3.036-8-8-8-8 3.036-8 8 3.036 8 8 8M6.85 5.594 8 6.743l1.15-1.15a.889.889 0 1 1 1.256 1.258L9.257 8l1.15 1.15a.889.889 0 1 1-1.258 1.256L8 9.257l-1.15 1.15a.889.889 0 1 1-1.256-1.258L6.743 8l-1.15-1.15a.889.889 0 0 1 1.258-1.256"/>'}}))},r=window.__federation__.deps["@bx-fe/ui-kit-input@5.3.2"]||{},u=window.__federation__.deps["@bx-fe/ui-kit-modal@5.3.2"]||{};function d(e){return"object"==typeof e&&e&&!Array.isArray(e)}function p(e,t){if(e.length!==t.length)return!1;for(var a=0;a<e.length;++a)if(!h(e[a],t[a]))return!1;return!0}function c(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var a in e)if(!h(e[a],t[a]))return!1;return!0}function h(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(!p(e,t))return!1}else if(d(e)&&d(t)){if(!c(e,t))return!1}else if(e!==t)return!1;return!0}var f={data(){return{search:"",mutableValue:this.value,maxWidth:"none",minWidth:"auto",isModalOpen:!1}},computed:{wrapperClasses(){return[this.$style.wrapper,this.$style[`size${e=this.size,t=(e=>null==e?"":String(e))(e),t.charAt(0).toUpperCase()+t.substring(1)}`]];var e,t}},model:{prop:"value",event:"change"},methods:{isExist:e=>null!=e&&""!==e,onChange(e){var t=this.isExist(e)?e:null;this.$emit("change",t)},findOptionByIndexValue(e){return this.mutableOptions.find((t=>function(e,t){return Array.isArray(e)&&Array.isArray(t)?p(e,t):d(e)&&d(t)?c(e,t):e===t}(t[this.indexKey],e)))||e}}},_=a(712),b={name:"OzSelectMobile",components:{OzModal:u.OzModal,IconDropdown:n,OzPopover:l.OzPopover,OzTextFieldWrapper:i.OzTextFieldWrapper,OzDropDown:s.OzDropDown,OzInput:r.OzInput},mixins:[f],props:{size:{type:String,default:_.defaultValues.size,validator:e=>Object.values(_.SELECT_MOBILE_SIZES).includes(e)},loading:{type:Boolean,default:_.defaultValues.loading},value:{type:[Number,String,Boolean,Array,Object],default:_.defaultValues.value},options:{type:Array,default:()=>_.defaultValues.options},disabled:{type:Boolean,default:_.defaultValues.disabled},placeholder:{type:String,default:_.defaultValues.placeholder},multiple:{type:Boolean,default:_.defaultValues.multiple},resetOnOptionsChange:{type:Boolean,default:_.defaultValues.resetOnOptionsChange},setValueOnSelect:{type:Boolean,default:_.defaultValues.setValueOnSelect},filterable:{type:Boolean,default:_.defaultValues.filterable},onlySearchResults:{type:Boolean,default:_.defaultValues.onlySearchResults},labelKey:{type:String,default:_.defaultValues.labelKey},indexKey:{type:String,default:_.defaultValues.indexKey},filterBy:{type:Function,default:_.defaultValues.filterBy},filter:{type:Function,default:_.defaultValues.filter},testInfo:{type:Object,default:()=>_.defaultValues.testInfo}},data(){return{Cross:o,mutableOptions:[],mutableValue:this.value}},computed:{showClearButton(){return""!==this.search&&null!==this.search},fieldPlaceholder(){return this.isValueEmpty?this.placeholder:""},searchPlaceholder(){if(this.isValueEmpty&&this.placeholder&&(!this.search.length||[_.SELECT_MOBILE_SIZES.XL,_.SELECT_MOBILE_SIZES.XXL].includes(this.size)))return this.placeholder},filteredOptions(){if(!this.filterable)return this.mutableOptions.slice();var e=this.onlySearchResults?[]:this.mutableOptions;return this.search.length&&this.filterable?this.filter(this.mutableOptions,this.search,this):e},isValueEmpty(){return!(this.mutableValue&&(Array.isArray(this.mutableValue)?this.valueAsArray.length:"object"==typeof this.mutableValue?Object.keys(this.mutableValue).length:this.valueAsArray.length))},valueAsArray(){if(!this.filteredOptions.length)return[];var e=this.isExist(this.mutableValue);return this.multiple&&e?this.mutableValue:e?[].concat(this.mutableValue):[]},currentLabel(){return this.getOptionLabel(this.mutableValue)},qaIdsModalInput(){return{automatizationId:this.testInfo.automatizationModalInputId,automatizationIconId:this.testInfo.automatizationModalInputIconId}}},watch:{search(e){this.$emit("search",e)},mutableOptions(){this.resetOnOptionsChange&&this.onChange(this.multiple?[]:null)},value(e){this.mutableValue=this.multiple?[...e]:e},options(e){this.mutableOptions=e}},created(){this.mutableOptions=this.options.slice(0)},methods:{openModal(){this.isModalOpen=!0,setTimeout((()=>this.focusSearch()),0)},closeModal(){this.isModalOpen=!1},getOptionLabel(e){if(null===e)return"";var t=e;return(t=this.findOptionByIndexValue(t))[this.labelKey]?t[this.labelKey]:t},select({option:e}){this.setValueOnSelect&&(this.mutableValue=e.value),this.onChange(e.value),this.onAfterSelect()},onAfterSelect(){this.closeModal(),this.search=""},handleClearClick(){this.search="",setTimeout((()=>this.focusSearch()),0)},focusSearch(){this.$refs.searchInput&&this.$refs.searchInput.$refs.inputEl&&this.$refs.searchInput.$refs.inputEl.focus()},optionExists(e){var t=!1;return this.mutableOptions.forEach((a=>{("object"==typeof a&&a[this.labelKey]===e||a===e)&&(t=!0)})),t}}},m={root:"e25_3_3-a",popoverRoot:"e25_3_3-a0",input:"e25_3_3-a1","focus-visible":"e25_3_3-a2",loaded:"e25_3_3-a3",arrowIcon:"e25_3_3-a4",dropDownIcon:"e25_3_3-a5",open:"e25_3_3-a6",disabled:"e25_3_3-a7",wrapper:"e25_3_3-a8",sizeM:"e25_3_3-a9",sizeL:"e25_3_3-b",sizeXl:"e25_3_3-b0",sizeXxl:"e25_3_3-b1",currentValues:"e25_3_3-b2",selectedValue:"e25_3_3-b3",currentValuesActive:"e25_3_3-b4",currentValuesHide:"e25_3_3-b5",loading:"e25_3_3-b6",tag:"e25_3_3-b7",single:"e25_3_3-b8",modal:"e25_3_3-b9",topPart:"e25_3_3-c",close:"e25_3_3-c0",inputWrapper:"e25_3_3-c1",optionList:"e25_3_3-c2",option:"e25_3_3-c3"},y=window.__federation__.deps["@bx-fe/ui-kit-core@5.3.1"].componentNormalizer,v=a.n(y)()(b,(function(){var e=this,t=e._self._c||e.$createElement;return t("div",[t("OzTextFieldWrapper",{attrs:{disabled:e.disabled,placeholder:e.fieldPlaceholder,loading:e.loading,size:e.size,"test-info":e.testInfo,"loading-margin":"",theme:"select"}},[t("OzPopover",{class:e.$style.popoverRoot,attrs:{fill:"",placement:"bottom-start",trigger:"manual",role:"listbox",theme:"dropdown","max-width":e.maxWidth,"min-width":e.minWidth}},[t("div",{class:e.wrapperClasses},[t("div",{class:[e.$style.currentValues,e.loading&&e.$style.loading]},[t("div",{class:e.$style.selectedValue},[e._v("\n            "+e._s(e.currentLabel)+"\n          ")]),e._v(" "),t("input",{directives:[{name:"qa",rawName:"v-qa:id",value:e.testInfo.automatizationId,expression:"testInfo.automatizationId",arg:"id"}],class:[e.$style.input,e.loading&&e.$style.loaded],attrs:{readonly:"",autocomplete:"off",disabled:e.disabled,role:"combobox",type:"text"},on:{click:e.openModal}})]),e._v(" "),t("span",{class:e.$style.arrowIcon},[t("IconDropdown",{directives:[{name:"qa",rawName:"v-qa:id",value:e.testInfo.automatizationIconId,expression:"testInfo.automatizationIconId",arg:"id"}],class:[e.$style.dropDownIcon]})],1)])])],1),e._v(" "),e.isModalOpen?t("OzModal",{attrs:{"test-info":{automatizationId:e.testInfo.automatizationModalId},append:!0,theme:"empty","is-mobile-theme":!0,"close-button":!1}},[t("div",{class:e.$style.modal,attrs:{tabindex:"0"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.closeModal.apply(null,arguments)}}},[t("div",{class:e.$style.topPart},[t("div",{directives:[{name:"qa",rawName:"v-qa:id",value:"search-wrapper",expression:"'search-wrapper'",arg:"id"}],class:e.$style.inputWrapper},[e.filterable?t("OzInput",{ref:"searchInput",attrs:{"test-info":e.qaIdsModalInput,size:"l",icon:e.Cross,loading:e.loading},on:{iconClick:e.handleClearClick},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}):e._e()],1),e._v(" "),t("div",{directives:[{name:"qa",rawName:"v-qa:id",value:e.testInfo.automatizationButtonId,expression:"testInfo.automatizationButtonId",arg:"id"}],class:e.$style.close,on:{click:e.closeModal}},[e._v("\n          Отменить\n        ")])]),e._v(" "),t("OzDropDown",{attrs:{options:e.filteredOptions,size:"l","max-height":"calc(100% - 57px)","test-info":{automatizationId:e.testInfo.automatizationDropdownId},"body-scroll-lock-ignore":""},on:{select:e.select},scopedSlots:e._u([{key:"option",fn:function(t){return[e._t("option",null,{label:t.label,option:t.option,index:t.index})]}}],null,!0)})],1)]):e._e()],1)}),[],!1,(function(e){this.$style=m.locals||m}),null,null).exports}},t={};function a(l){var i=t[l];if(void 0!==i)return i.exports;var s=t[l]={exports:{}};return e[l](s,s.exports,a),s.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l=a(851);window.__federation__.deps["@bx-fe/ui-kit-select-mobile@5.3.3"]||(window.__federation__.deps["@bx-fe/ui-kit-select-mobile@5.3.3"]=Object.defineProperties({},Object.getOwnPropertyDescriptors(l)))})();