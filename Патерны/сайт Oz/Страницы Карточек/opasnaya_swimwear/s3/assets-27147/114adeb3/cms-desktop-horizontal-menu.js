"use strict";(self.webpackChunkMicrofront_catalog_menu_cms_uw=self.webpackChunkMicrofront_catalog_menu_cms_uw||[]).push([["cms-desktop-horizontal-menu"],{ae2a7:(t,e,r)=>{r.a(t,async(t,n)=>{try{var o=r("585cc"),c=r("a5f5b"),l=t([o,c]);[o,c]=l.then?(await l)():l;var d=r.n(c),{DisclosureIcon:h}=((m={}).DisclosureIcon={functional:!0,name:"icSDisclosureDownCompact",meta:{width:16,height:16,viewBox:"0 0 16 16"},render:(t,e)=>t("svg",Object.assign(Object.assign({},e.data),{},{attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},e.data.attrs),domProps:{innerHTML:'<path fill="currentColor" d="M11.707 6.293a1 1 0 0 1 0 1.414l-3 3a1 1 0 0 1-1.414 0l-3-3a1 1 0 0 1 1.414-1.414L8 8.586l2.293-2.293a1 1 0 0 1 1.414 0"/>'}}))},m);e.Z={name:"HeaderCategoryDrop",components:{LinksStub:d(),OzPopover:o.OzPopover,DisclosureIcon:h},props:{item:{type:Object,default:()=>({})},isSaleMode:{type:Boolean,default:!1}},data:()=>({isOpen:!1}),methods:{open(){this.isOpen=!0},close(){this.isOpen=!1}}},n()}catch(t){n(t)}var m})},af8c1:(t,e,r)=>{r.a(t,async(t,n)=>{try{var o=r("2b62e"),c=r.n(o),l=r("5dbed"),d=r("de00b"),h=r("c707e"),m=r("a5f5b"),v=r("3cd16"),w=r("e2f5a"),f=r.n(w),y=t([l,d,h,m,v]);[l,d,h,m,v]=y.then?(await y)():y;var k=r.n(m);e.Z={name:"HeaderCategoryLinks",functional:!0,props:{items:{type:Array,default:()=>[]},pinnedItems:{type:Array,default:()=>[]},showActions:{type:Boolean,default:!1},isRedesignMode:{type:Boolean,default:!1},optTooltip:{type:Object,default:()=>({})}},render(t,{data,props:e,$style:r,_v:n,listeners:o}){var{items:m,pinnedItems:w,isRedesignMode:y,optTooltip:I}=e;function O(e,n,o){var c=e&&f().methods.asyncIconComponent(e);return c&&y?t(c,{class:[r.icon,{[r.defaultColor]:!o}],style:{color:(0,d.getColorByNameOrHex)(n)}}):c&&!y?t(h.DsIconScale,{class:[r.icon,{[r.defaultColor]:!o}],style:{color:(0,d.getColorByNameOrHex)(n)},props:{icon:c,iconName:e,size:"16"}}):[]}function _(e){var n=(0,d.getColorByNameOrHex)(e.color)||(y?r.exDefaultSaleLinkColor:r.exDefaultLinkColor);return e.isSeparator?t("span",{style:{color:n}},["â€¢"]):t(k(),c()([{class:[r.link,{[r.redesign]:e.color&&y}],attrs:{href:e.link,withAtomAction:e.action},style:{color:n}},{on:{click:()=>o.clickOnItem(e)}},{},{directives:[{name:"qa",value:{id:"header-navigation-link"}}]}]),[e.icon&&O(e.icon,e.iconTintColor||"",e.color||""),e.title])}function x(e){return t(v.Z,{attrs:{item:e,isSaleMode:y},on:{clickOnItem:t=>o.clickOnItem(t),viewOnItem:t=>o.viewOnItem(t)}},[e.icon&&O(e.icon,e.iconTintColor||"",e.color||""),e.title?[n(e.title)]:[]])}function S(e){return t(l.DsTooltip,{attrs:{trigger:"manual","force-show":I.isOpened,placement:I.place,"min-width":`${I.width}px`,"max-width":`${I.width}px`,"screen-offset":10}},[e.hasChildItems||e.items&&e.items.length?x(e):_(e),t("template",{slot:"popover"},[t("div",{ref:"optTooltipContainer"},[t("div",{class:r.tooltipArrow,style:{[I.arrowSide]:`${I.arrowPosition}px`,color:(0,d.getColorByNameOrHex)("layerFloor2Inverted")}},[t("svg",{attrs:{width:"16",height:"7",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{fill:"currentColor",d:"m0 0 5.33 5.313c.935.932 1.402 1.397 1.94 1.572a2.38 2.38 0 0 0 1.46 0c.538-.175 1.005-.64 1.94-1.572L16 0H0Z"}})])]),t("div",c()([{class:r.optTitle},{directives:[{name:"detect-viewport",value:{once:!0,callback:()=>o.viewOnItem(e.onboarding)}}]}]),[e.onboarding.title]),t("div",{class:r.optDescription},[e.onboarding.description])])])])}function C(e){return e.map((e,n)=>{var o=e.onboarding&&e.onboarding.title,c=e.isSeparator,l=o?"optElement":c&&"separatorElement";return t("li",{class:[r.linksItem,{[r.redesign]:y},{[r.separator]:c}],key:n,ref:l},[o?S(e):e.hasChildItems||e.items&&e.items.length?x(e):_(e)])})}return t("div",c()([{class:r.wrapper},{directives:data.directives}]),[t("ul",{class:[r.links,{[r.redesign]:y}],ref:"list"},[C(m)]),w&&w.length>0&&t("ul",{class:[r.links,r.pinned]},[C(w)])])}},n()}catch(t){n(t)}})},c2a66:(t,e,r)=>{r.a(t,async(t,n)=>{try{var o=r("79a44"),c=r("46c81"),l=r("8487a"),d=r.n(l),h=r("ed0be"),m=r("3cd7c"),v=r("abb9e"),w=r.n(v),f=r("b08a7"),y=r("fedff"),k=t([h,m,f]);[h,m,f]=k.then?(await k)():k;e.Z=w().extend({name:"CmsHorizontalMenu",mixins:[m.DefaultAtomActionsMixin],components:{HorizontalMenu:f.Z},provide:()=>({popoverZIndex:80}),data:()=>({fadeInTimeout:null,fadeOutTimeout:null,optTooltip:{width:310,place:"bottom-start",arrowSide:"left",arrowPosition:0,isOpened:!1}}),computed:{items(){return this.widgetState.items||[]},pinnedItems(){return this.widgetState.pinnedItems||[]},isRedesign(){return this.widgetState.redesign||!1},menuId(){return this.widgetState.menuId}},async mounted(){this.debouncedCalculateSeparatorPosition=d()(this.calculateSeparatorPosition,500),await this.getCategoryContent(),o.registry.use(c.ComposerActions).listen(["UPDATE_COMPOSER_LAYOUT"],()=>{this.getCategoryContent()}),this.$refs.separatorElement&&window.addEventListener("resize",this.debouncedCalculateSeparatorPosition);var t=this.$refs.optElement;t&&(document.addEventListener("click",this.clickOutsideHandler),window.innerWidth-t.getBoundingClientRect().right>=310?(this.optTooltip.place="bottom-start",this.optTooltip.arrowSide="left"):(this.optTooltip.place="bottom-end",this.optTooltip.arrowSide="right"),this.optTooltip.arrowPosition=t.clientWidth/2,this.fadeInTimeout=setTimeout(()=>{this.optTooltip.isOpened=!0},1e3),this.fadeOutTimeout=setTimeout(()=>{this.optTooltip.isOpened=!1},6e3))},beforeDestroy(){this.$refs.separatorElement&&window.removeEventListener("resize",this.debouncedCalculateSeparatorPosition),this.$refs.optElement&&document.removeEventListener("click",this.clickOutsideHandler),this.fadeInTimeout&&this.fadeOutTimeout&&(clearTimeout(this.fadeInTimeout),clearTimeout(this.fadeOutTimeout))},methods:{async clickOnItem(t){if(t.action&&t.action.behavior){var{res:e}=await this.onAtomAction(t.action);t.action&&"b2bSwitchToSingleLegal"===t.action.link&&await this.onAtomAction(e.nextAction)}t.trackingInfo&&t.trackingInfo.click&&this.trackerSend(t.trackingInfo.click)},calculateSeparatorPosition(){this.$refs.separatorElement.nextSibling.offsetTop>this.$refs.list.offsetTop?this.$refs.separatorElement.style.display="none":this.$refs.separatorElement.style={}},clickOutsideHandler(t){this.$refs.optTooltipContainer&&(this.$refs.optTooltipContainer.parentElement.contains(t.target)||this.$refs.optTooltipContainer.parentElement===t.target||(this.optTooltip.isOpened=!1))},async getCategoryContent(){try{var t=await o.registry.use(y.J).cmsShellHorizontalMenuGetChildV1({menuId:String(this.menuId)}),e=(t,e)=>{for(var i=e.length-1;i>=0;i--)if(e[i]&&e[i].id===t)return i};for(var r of t)if(r.items&&r.items.length){var n=this.items&&e(r.id,this.pinnedItems);if(void 0!==n)this.setWidgetStateValue(`pinnedItems[${n}]['items']`,r.items);else{var c=this.pinnedItems&&e(r.id,this.items);void 0!==c&&this.setWidgetStateValue(`items[${c}]['items']`,r.items)}}}catch(t){o.registry.use(h.NotificationsActions).createNewNotificationDeprecated({type:"error",content:this.$i18n.t("system@error_occured_retry_later")})}}}}),n()}catch(t){n(t)}})},fedff:(t,e,r)=>{r.d(e,{J:()=>o});var n=r("69aed");class o extends n.AbstractApiService{constructor(...t){super(...t),this.serviceName="action",this.servicePath="composer-api.bx/_action"}cmsShellHorizontalMenuGetChildV1(t){return this.fetch({method:"get",path:"v2/shellHorizontalMenuGetChildV1",timeout:1e4},t)}cmsGetPromoIQOS(t){return this.fetch({method:"post",path:"cmsGetPromoIQOS"},{userName:t.userName,userPhone:t.userPhone,telezakaz:t.promoCode}).catch(this.rejectWithResponse("post","cmsGetPromoIQOS"))}}o.__serviceName="AbstractApiService_CmsActionService"},"3cd16":(t,e,r)=>{r.a(t,async(t,n)=>{try{var o=r("872a6"),c=r("65103"),l=r("b6da7"),d=r("695d8"),h=r.n(d),m=t([c]);function v(t){this.$style=l.Z.locals||l.Z}c=(m.then?(await m)():m)[0];var component=h()(c.Z,o.s,o.x,!1,v,null,null);e.Z=component.exports,n()}catch(w){n(w)}})},b08a7:(t,e,r)=>{r.a(t,async(t,n)=>{try{var o=r("842ee"),c=r("b6da7"),l=r("695d8"),d=r.n(l),h=t([o]);function m(t){this.$style=c.Z.locals||c.Z}o=(h.then?(await h)():h)[0];var component=d()(o.Z,undefined,undefined,!1,m,null,null);e.Z=component.exports,n()}catch(v){n(v)}})},84776:(t,e,r)=>{r.a(t,async(t,n)=>{try{r.r(e);var o=r("e47bd"),c=r("6b457"),l=r("b6da7"),d=r("695d8"),h=r.n(d),m=t([c]);function v(t){this.$style=l.Z.locals||l.Z}c=(m.then?(await m)():m)[0];var component=h()(c.Z,o.s,o.x,!1,v,null,null);e.default=component.exports,n()}catch(w){n(w)}})},b6da7:(t,e,r)=>{r.d(e,{Z:()=>n});var n={exDefaultLinkColor:"rgba(7, 7, 7, 1)",exDefaultSaleLinkColor:"rgba(0, 26, 52, 0.6)",wrapper:"uw_h9a",linksItem:"uw_ai",icon:"uw_ia",redesign:"uw_ai0",defaultColor:"uw_a0i",separator:"uw_ia0",links:"uw_i0a",pinned:"uw_ai1",link:"uw_a1i",dropItems:"uw_ia1",dropItem:"uw_i1a",disclosure:"uw_ai2",active:"uw_a2i",dropLink:"uw_ia2",imageContainer:"uw_i2a",tooltipArrow:"uw_ai3",optTitle:"uw_a3i",optDescription:"uw_ia3"}},65103:(t,e,r)=>{r.a(t,async(t,n)=>{try{var o=r("ae2a7"),c=t([o]);o=(c.then?(await c)():c)[0],e.Z=o.Z,n()}catch(t){n(t)}})},"842ee":(t,e,r)=>{r.a(t,async(t,n)=>{try{var o=r("af8c1"),c=t([o]);o=(c.then?(await c)():c)[0],e.Z=o.Z,n()}catch(t){n(t)}})},"6b457":(t,e,r)=>{r.a(t,async(t,n)=>{try{var o=r("c2a66"),c=t([o]);o=(c.then?(await c)():c)[0],e.Z=o.Z,n()}catch(t){n(t)}})},"872a6":(t,e,r)=>{r.d(e,{s:()=>n,x:()=>o});var n=function(){var t,e,r=this,n=r.$createElement,o=r._self._c||n;return o("OzPopover",{attrs:{theme:"dropdownMenu","padding-size":"m",trigger:"hover"},on:{open:r.open,close:r.close},scopedSlots:r._u([{key:"popover",fn:function(){return[o("div",{class:r.$style.dropItems},r._l(r.item.items,function(t,e){return o("LinksStub",{directives:[{name:"qa",rawName:"v-qa:id",value:"header-navigation-sublink",expression:"'header-navigation-sublink'",arg:"id"},{name:"detect-viewport",rawName:"v-detect-viewport",value:{once:!0,callback:function(){return r.$emit("viewOnItem",t)}},expression:"{\n          once: true,\n          callback: () => $emit('viewOnItem', item)\n        }"}],key:"dropdown-"+e,class:["tsBody500Medium",r.$style.dropLink],attrs:{"with-atom-action":t.action,href:t.link},on:{click:function(e){return r.$emit("clickOnItem",t)}}},[r._v("\n        "+r._s(t.title)+"\n      ")])}),1)]},proxy:!0}])},[o("button",{directives:[{name:"qa",rawName:"v-qa:id",value:"header-navigation-drop",expression:"'header-navigation-drop'",arg:"id"}],class:[r.$style.link,r.$style.dropItem,(t={},t[r.$style.sale]=r.item.color&&r.isSaleMode,t)],style:{color:r.item.color||(r.isSaleMode?r.$style.exDefaultSaleLinkColor:r.$style.exDefaultLinkColor)},on:{click:function(t){return r.$emit("clickOnItem",r.item)}}},[r._t("default"),r._v(" "),o("DisclosureIcon",{class:[r.$style.disclosure,(e={},e[r.$style.active]=r.isOpen,e[r.$style.saleMode]=r.isSaleMode,e)]})],2)])},o=[]},e47bd:(t,e,r)=>{r.d(e,{s:()=>n,x:()=>o});var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.widgetState.items&&t.widgetState.items.length?r("HorizontalMenu",{directives:[{name:"qa",rawName:"v-qa:id",value:t.groupStatePath,expression:"groupStatePath",arg:"id"}],attrs:{items:t.items,"pinned-items":t.pinnedItems,"is-redesign-mode":t.isRedesign,"widget-name":t.groupStatePath,"opt-tooltip":t.optTooltip},on:{clickOnItem:t.clickOnItem,viewOnItem:function(e){return t.trackerSend(e.trackingInfo.view)}}}):t._e()},o=[]}}]);