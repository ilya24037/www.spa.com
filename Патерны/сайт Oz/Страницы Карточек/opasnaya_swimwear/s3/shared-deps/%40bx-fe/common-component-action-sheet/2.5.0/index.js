(()=>{var e={159:(e,t,o)=>{"use strict";o.d(t,{C:()=>m});var a=window.__federation__.deps.vue||{},i=o.n(a),s=window.__federation__.deps["@bx-fe/ui-kit-ds-dialog@5.4.1"]||{},n=window.__federation__.deps["@bx-fe/common-feature-atom-actions@1.2.1"]||{},r=window.__federation__.deps["@bx-fe/platform-app-common"]||{};class l extends r.AbstractStoreService{getInitialState(){return{}}setShowLocationModal(e){this.pushState((t=>{t.locationModal=e}))}setShowAdultModal(e){this.pushState((t=>{t.adultModal=e}))}}l.__serviceName="AbstractStoreService_ModalFlags";var c,d={data:()=>({isShowAdultModal:!1}),mounted(){this.modalFlagsSubscription=this.$registry.use(l).onNextState((e=>{this.isShowAdultModal=!!e.adultModal}))},beforeDestroy(){this.modalFlagsSubscription&&this.modalFlagsSubscription.unsubscribe()}},p=o(456);c=n.AtomActionBehaviour.ActionSheet;class h extends n.AtomActionsDispatcher{constructor(...e){super(...e),this[c]=async(e,t,o)=>{var a=()=>e.$refs.actionSheetRef,n=()=>e.$refs.popover;if(e.isMobile){var{cells:r,title:l,withPad:c}=await this.container.resolve("SingletonRegistry").useByName("ComposerService").actionGet({name:`/v2/${t.link}`}),d={};try{d=JSON.parse(t.params.postData).propsData||{}}catch(e){}var h=new(i().extend(s.DsDialog))({propsData:Object.assign({withPortal:!0,isMobileTheme:!0,theme:"empty"},d),parent:e,provide:{isMobile:e.isMobile}}),m=d.theme||"default",u=e.$createElement(p.Z,{props:{cells:r,title:l,withPad:c,theme:m},on:{action:async(t,a,i)=>{var s=await this.handleAtomAction(e,t,Object.assign(Object.assign({},o),{},{trackingInfo:a,event:i}));t=t||{},s&&!1===s.res||t.params&&t.params.hasAdultProducts&&e.isShowAdultModal||h.$destroy()}}});h.$slots.default=[u],h.$mount(),e.$el.appendChild(h.$el)}else{var _=e.actionSheetPopoverState[t.link];if(a()&&_)return;var{cells:b,title:f}=await this.container.resolve("SingletonRegistry").useByName("ComposerService").actionGet({name:`/v2/${t.link}`}),v=a();if(v){e.actionSheetPopoverState[t.link]=!0;var y=Array.isArray(v)?v[0]:v;if(!y)return;var S=new(i().extend(p.Z))({propsData:{cells:b,title:f},parent:e}),g=n();g&&(Array.isArray(g)?g:[g]).forEach((o=>{o&&o.$once("close",(()=>{e.actionSheetPopoverState[t.link]=!1}))})),S.$on("action",((t,a,i)=>{this.handleAtomAction(e,t,Object.assign(Object.assign({},o),{},{trackingInfo:a,event:i})),(g=n())&&(Array.isArray(g)?g:[g]).forEach((e=>{e&&e.hide()}))})),S.$mount(),y.replaceWith(S.$el)}else this.container.resolve("Logger").warning({message:'You should wrap your button with OzPopover and add element with ref="actionSheetRef" to make desktop actionSheet working',zone:"common-action"})}}}}var m={DispatcherCtor:h,data:()=>({actionSheetPopoverState:{}}),mixins:[d]}},456:(e,t,o)=>{"use strict";o.d(t,{Z:()=>v});var a=window.__federation__.deps["@vue/babel-helper-vue-jsx-merge-props"],i=o.n(a),s=window.__federation__.deps["@bx-fe/common-atom-cell@2.5.0"]||{},n=o.n(s),r=window.__federation__.deps["@bx-fe/common-atom-ds-cell@2.6.0"]||{},l=o.n(r),c="q0b2_5_0-a",d="q0b2_5_0-a0",p="q0b2_5_0-a1",h="q0b2_5_0-a2",m="q0b2_5_0-a3",u="q0b2_5_0-a4",_="q0b2_5_0-a5",b="q0b2_5_0-a6",f="q0b2_5_0-a7",v={name:"ActionSheet",inject:{trackingInfo:{default:{}},isAccessibilityMode:{default:!1},trackerSend:{default:()=>()=>{}},isMobile:{default:!1}},props:{title:{type:String,default:""},cells:{type:Array,default:()=>[]},withPad:{type:Boolean,default:!1},theme:{type:String,default:"default"}},data(){return{cellsCopy:this.cells}},mounted(){this.cells.forEach((e=>{var t=e[e.type]||{},o=t.trackingInfo&&t.trackingInfo.view;o&&this.trackerSend(o)}))},methods:{onItemClick(e,t,o,a){this.$emit("action",e.action,e.trackingInfo,a),[s.CELL_TYPES.With24IconCheckboxRadio,s.CELL_TYPES.With48IconCheckboxRadio,s.CELL_TYPES.WithCheckboxRadio,s.CELL_TYPES.WithToggle].includes(t)&&(this.cellsCopy=this.cellsCopy.map(((a,i)=>o===i?Object.assign(Object.assign({},a),{},{[t]:Object.assign(Object.assign({},e),{},{isSelected:!e.isSelected})}):a)))}},render(){var e,t=arguments[0],{cellsCopy:o,title:a,withPad:s,isMobile:r,theme:v,onItemClick:y,isAccessibilityMode:S}=this;return t("div",i()([{class:[c,{[_]:"dsCell"===(null==(e=o[0])?void 0:e.type),[b]:!r,[u]:S,[d]:"bottom"===v}]},{directives:[{name:"qa",value:{id:"action-sheet-block"}}]}]),[r?t("div",{class:[p,"tsBodyControl500Medium"]},[a]):"",t("div",{class:[h,{[m]:s}]},[o.map(((e,o)=>{var a=e[e.type]||e,s="dsCell"===e.type?l():n();return t(s,i()([{key:o,class:f,props:Object.assign({},Object.assign({type:e.type},a))},{on:{click:t=>y(a,e.type,o,t),clickCenterBlock:t=>y("dsCell"===e.type?a.common:a,e.type,o,t)}}]))}))])])}}}},t={};function o(a){var i=t[a];if(void 0!==i)return i.exports;var s=t[a]={exports:{}};return e[a](s,s.exports,o),s.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var a,i={};a=i,Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{get:()=>o(456).Z}),Object.defineProperty(a,"AtomActionsWithActionSheetMixin",{get:()=>o(159).C}),window.__federation__.deps["@bx-fe/common-component-action-sheet@2.5.0"]||(window.__federation__.deps["@bx-fe/common-component-action-sheet@2.5.0"]=Object.defineProperties({},Object.getOwnPropertyDescriptors(i)))})();