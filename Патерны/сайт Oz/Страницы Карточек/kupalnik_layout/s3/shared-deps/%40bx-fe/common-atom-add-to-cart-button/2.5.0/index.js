(()=>{var t={323:(t,e,i)=>{"use strict";i.d(e,{Z:()=>l});var o=window.__federation__.deps["@bx-fe/tracker-types"]||{},r=window.__federation__.deps["@bx-fe/ui-kit-ds-button@5.3.2"]||{},a=window.__federation__.deps["@bx-fe/common-atom-button@2.5.0"]||{},n=window.__federation__.deps["@bx-fe/common-feature-cart@1.3.2"]||{},s={STYLE_TYPE_PRIMARY:{default:{theme:"actionPrimary"},inCart:{theme:"custom",backgroundColor:"bgPositivePrimary",textColor:"textLightKey",iconColor:"graphicPrimaryOnDark"}},STYLE_TYPE_SECONDARY:{default:{theme:"actionSecondary"},inCart:{theme:"custom",backgroundColor:"bgPositiveSecondary",textColor:"textPositive",iconColor:"graphicPositivePrimary"}},STYLE_TYPE_PRIMARY_EXPRESS:{default:{theme:"accentPrimary"},inCart:{theme:"custom",backgroundColor:"bgPositivePrimary",textColor:"textLightKey",iconColor:"graphicPrimaryOnDark"}},STYLE_TYPE_PRIMARY_FRESH:{default:{theme:"custom",backgroundColor:"bgFreshPrimary",textColor:"textLightKey",iconColor:"graphicPrimaryOnDark"},inCart:{theme:"custom",backgroundColor:"bgFreshSecondary",textColor:"textFresh",iconColor:"graphicFresh"}}},c={S:"400",M:"400",L:"500",XL:"500"},d={name:"AtomAddToCartButton",components:{DsButton:r.DsButton},mixins:[a.ButtonAtomMixin,n.AddToCartWithModalMixin,n.CartGlobalStoreMixin],props:Object.assign(Object.assign({},a.ButtonAtomMixin.props),{},{text:{type:String,required:!0,default:""},activeText:{type:String,default:""},size:{type:String,default:"M"},noMinWidth:{type:Boolean,default:!1},theme:{type:String,default:"STYLE_TYPE_PRIMARY"},isActive:{type:Boolean,default:!1}}),data:()=>({processing:!1}),computed:{isInCart(){var{id:t,selectedDeliverySchema:e}=this.action||{},i=this.itemsHash[t];return!!i&&(i.selectedDeliverySchema===e||this.isActive)},buttonThemeParams(){return(s[this.theme]||s.STYLE_TYPE_PRIMARY)[this.isInCart?"inCart":"default"]},buttonSize(){return c[this.size]}},methods:{async onClick(){this.isInCart?await this.removeFromCart():await this.addToCart()},async addToCart(){this.processing=!0;var{id:t,quantity:e=1,selectedDeliverySchema:i}=this.action,{success:o,cartItems:r}=await this.addToCartWithAction(t,e,i);if(o){var a=r[t];this.sendCartAdd(e,a.quantity,a.selectedDeliverySchema)}this.processing=!1},async removeFromCart(){this.processing=!0;var{id:t,selectedDeliverySchema:e}=this.action,{success:i}=await this.addToCartWithAction(t,0,e);i&&this.sendCartRemove(),this.processing=!1},sendCartAdd(t,e,i){var r=this.trackingInfo&&this.trackingInfo.click||{},a={quantity:t,totalQuantity:e};i&&(a.selectedDeliverySchema=i),this.$emit("addToCart",{custom:a,trackingInfo:{click:Object.assign(Object.assign({},r),{},{actionType:o.EActionTypes.TO_CART_ACTION})}})},sendCartRemove(){var t=this.trackingInfo&&this.trackingInfo.click||{};this.$emit("removeFromCart",{trackingInfo:{click:Object.assign(Object.assign({},t),{},{actionType:o.EActionTypes.REMOVE_ACTION})}})}}},m=window.__federation__.deps["vue-loader-runtime"].componentNormalizer,l=i.n(m)()(d,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("DsButton",t._b({directives:[{name:"qa",rawName:"v-qa",value:{id:t.testInfo.automatizationId||"atom-add-to-cart"},expression:"{ id: testInfo.automatizationId || 'atom-add-to-cart' }"}],attrs:{size:t.buttonSize,title:t.isInCart&&t.activeText||t.text,disabled:!t.action},on:{click:t.onClick}},"DsButton",t.buttonThemeParams,!1))],1)}),[],!1,null,null,null).exports}},e={};function i(o){var r=e[o];if(void 0!==r)return r.exports;var a=e[o]={exports:{}};return t[o](a,a.exports,i),a.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var o in e)i.o(e,o)&&!i.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var o,r={};o=r,Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"default",{get:()=>i(323).Z}),window.__federation__.deps["@bx-fe/common-atom-add-to-cart-button@2.5.0"]||(window.__federation__.deps["@bx-fe/common-atom-add-to-cart-button@2.5.0"]=Object.defineProperties({},Object.getOwnPropertyDescriptors(r)))})();