"use strict";(self.webpackChunkMicrofront_catalog_menu_cms_uw=self.webpackChunkMicrofront_catalog_menu_cms_uw||[]).push([["cms-desktop-header"],{"3658e":(e,t,r)=>{r.a(e,async(e,n)=>{try{var o=r("e6a13"),d=r("a5f5b"),c=e([o,d]);[o,d]=c.then?(await c)():c;var l=r.n(d);t.Z={name:"Logo",functional:!0,props:{link:{type:String,default:""},image:{type:String,default:""},stateIdProp:{type:String,default:void 0}},render(e,{data,props:t,$style:r}){var{link,image,stateIdProp:n}=t,d=e(o.DsImage,{props:{size:200,useCdn:!!image},attrs:{alt:"Ozon",src:image||"https://cdn1.ozone.ru/graphics/assets/svg/logo2019.svg",elementtiming:`lcp_eltiming_${n}`}});return e(l(),{class:[r.imageWrapper,data.class],props:{href:link}},[d])}},n()}catch(e){n(e)}})},"5b511":(e,t,r)=>{r.a(e,async(e,n)=>{try{var o=r("2b62e"),d=r.n(o),c=r("cca41"),l=e([c]);c=(l.then?(await l)():l)[0],t.Z={name:"OzonHeader",props:{link:{type:String,default:"/"},image:{type:String,default:""},fullScreen:{type:Boolean,default:!1},isSticky:{type:Boolean,default:!1},needExtraSpace:{type:Boolean,default:!1},stateIdProp:{type:String,default:void 0},isRedesign:{type:Boolean,default:!1},isPagesWithoutRedesign:{type:Boolean,default:!1},isWithoutBackground:{type:Boolean,default:!1},isCatalogMenuOpened:{type:Boolean,default:!1}},render(){var e=arguments[0],{$style:t,$data:r}=this,{link,image,fullScreen:n,isSticky:o,needExtraSpace:l,stateIdProp:h,isRedesign:y,isPagesWithoutRedesign:v,isWithoutBackground:w,isCatalogMenuOpened:f}=this.$props,{headerTop:m,horizontalMenu:k,bigPromoCounter:B}=this.$slots;var S=[t.header,{[t.withBigPromo]:B},{[t.extra]:l},{[t.fullScreen]:n},{[t.redesign]:y},{[t.isCatalogMenuOpened]:f},{[t.isSticky]:o}],_=[t.headerTop,{[t.isSticky]:o}],P=[t.headerTopInner,{[t.roundedInStick]:!v&&y},{[t.isSticky]:o}];return e("header",d()([{class:S,attrs:{itemscope:"itemscope",itemtype:"http://schema.org/WPHeader"},style:{backgroundColor:w?"transparent":"#fff"}},{directives:r.directives}]),[e("div",{attrs:{id:"stickyHeader"},class:_},[e("div",{class:P},[image?[e(c.Z,{attrs:{"state-id-prop":h,image,link},class:t.headerLogo})]:[],m||[]])]),k||[],B||[]])}},n()}catch(e){n(e)}})},"0f0a8":(e,t,r)=>{r.a(e,async(e,n)=>{try{var o=r("cca41"),d=r("79a44"),c=r("abb9e"),l=r.n(c),h=r("ee5bb"),y=r.n(h),v=r("1c004"),w=r("d0725"),f=r.n(w),m=r("82977"),k=e([o,v]);[o,v]=k.then?(await k)():k,t.Z=l().extend({name:"OzonHeaderWidget",mixins:[f()],components:{HeaderLogo:o.Z,OzonHeader:v.Z,PlaceholderRender:y()("header")},data:()=>({isSticky:!1,detectViewportSettings:{track:!1},catalogMenuOpened:!1,currentUrl:"",routerSub:()=>{}}),beforeMount(){var{pathname:e}=window.location;this.currentUrl=e,this.setDetectViewportSettings()},mounted(){d.registry.use(m.b).listen("CatalogMenuOpened",({payload:e})=>{this.catalogMenuOpened=e}),this.afterRouteEnter(({to:e})=>{this.currentUrl=e,this.setIsSticky(),this.setDetectViewportSettings()}),this.setIsSticky()},beforeDestroy(){this.routerSub()},computed:{shouldStick(){var e=this.currentUrl.includes("gocheckout"),t=this.currentUrl.includes("product/compare"),r=this.currentUrl.includes("cart");return!e&&!t&&!r},isRedesign(){return this.widgetState.isRedesignHeader||!1},pagesWithoutRedesign(){return this.currentUrl.includes("product/")},bottomBannerStyle(){var e=this.widgetState.bottomBackground;return e&&{background:`url(${e}) 100% 100% / cover no-repeat`}},isBigPromoCounter(){return this.notEmptyPlaceholder("bigPromoCounter")}},methods:{setIsSticky(){this.shouldStick?this.isSticky=window.scrollY>=this.$el.offsetHeight:this.isSticky=!1},setDetectViewportSettings(){this.detectViewportSettings=this.shouldStick?{callback:e=>{this.isSticky=!e},emitInvisible:!0,detectHalf:!1,top:"-40px",threshold:0}:{track:!1}}},provide(){return{popoverZIndex:parseInt(this.$styleExport.exZIndexPopover,10)+parseInt(this.$styleExport.exAdditionalZIndex,10)}}}),n()}catch(e){n(e)}})},82977:(e,t,r)=>{r.d(t,{b:()=>o});var n=r("69aed");class o extends n.EventBus{}o.__serviceName="EventBus_CatalogMenuEvents"},cca41:(e,t,r)=>{r.a(e,async(e,n)=>{try{var o=r("2ccd0"),d=r("1b9c8"),c=r("695d8"),l=r.n(c),h=e([o]);function y(e){this.$style=d.Z.locals||d.Z}o=(h.then?(await h)():h)[0];var component=l()(o.Z,undefined,undefined,!1,y,null,null);t.Z=component.exports,n()}catch(v){n(v)}})},"1c004":(e,t,r)=>{r.a(e,async(e,n)=>{try{var o=r("9d920"),d=r("4d1e8"),c=r("695d8"),l=r.n(c),h=e([o]);function y(e){this.$style=d.Z.locals||d.Z}o=(h.then?(await h)():h)[0];var component=l()(o.Z,undefined,undefined,!1,y,null,null);t.Z=component.exports,n()}catch(v){n(v)}})},"4aa7a":(e,t,r)=>{r.a(e,async(e,n)=>{try{r.r(t);var o=r("d6ace"),d=r("b74bb"),c=r("4d1e8"),l=r("47591"),h=r("695d8"),y=r.n(h),v=e([d]);function w(e){this.$style=c.Z.locals||c.Z,this.$styleExport=l.Z.locals||l.Z}d=(v.then?(await v)():v)[0];var component=y()(d.Z,o.s,o.x,!1,w,null,null);t.default=component.exports,n()}catch(f){n(f)}})},47591:(e,t,r)=>{r.d(t,{Z:()=>n});var n={exZIndexPopover:"500",exAdditionalZIndex:"3"}},"1b9c8":(e,t,r)=>{r.d(t,{Z:()=>n});var n={imageWrapper:"uw_o4"}},"4d1e8":(e,t,r)=>{r.d(t,{Z:()=>n});var n={header:"uw_ha4",extra:"uw_h4a",fullScreen:"uw_ah5",withBigPromo:"uw_a5h",isSticky:"uw_ha5",headerTop:"uw_h5a",headerTopInner:"uw_ah6",logo:"uw_a6h",catalogMenu:"uw_ha6",searchBar:"uw_h6a",userMenu:"uw_ah7",stepsBar:"uw_a7h",addressBar:"uw_ha7",headerBottom:"uw_h7a",redesign:"uw_ah8",withBigPromoCounter:"uw_a8h",roundedInStick:"uw_ha8",headerRoundedFadeIn:"uw_h8a",headerLogo:"uw_ah9",isCatalogMenuOpened:"uw_a9h",bottomBannerBg:"uw_ha9"}},"2ccd0":(e,t,r)=>{r.a(e,async(e,n)=>{try{var o=r("3658e"),d=e([o]);o=(d.then?(await d)():d)[0],t.Z=o.Z,n()}catch(e){n(e)}})},"9d920":(e,t,r)=>{r.a(e,async(e,n)=>{try{var o=r("5b511"),d=e([o]);o=(d.then?(await d)():d)[0],t.Z=o.Z,n()}catch(e){n(e)}})},b74bb:(e,t,r)=>{r.a(e,async(e,n)=>{try{var o=r("0f0a8"),d=e([o]);o=(d.then?(await d)():d)[0],t.Z=o.Z,n()}catch(e){n(e)}})},d6ace:(e,t,r)=>{r.d(t,{s:()=>n,x:()=>o});var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("OzonHeader",{directives:[{name:"qa",rawName:"v-qa:id",value:e.groupStatePath,expression:"groupStatePath",arg:"id"},{name:"detect-viewport",rawName:"v-detect-viewport",value:e.detectViewportSettings,expression:"detectViewportSettings"}],attrs:{image:e.widgetState.logo.image||"",link:e.widgetState.logo.link||"","full-screen":e.widgetState.fullScreen||!1,"need-extra-space":e.widgetState.needExtraSpace||!1,"is-without-background":e.widgetState.isWithoutBackground,"is-redesign":e.isRedesign,"is-sticky":e.isSticky,"state-id-prop":e.stateId,"is-pages-without-redesign":e.pagesWithoutRedesign,"is-catalog-menu-opened":e.catalogMenuOpened},scopedSlots:e._u([{key:"headerTop",fn:function(){return[e.notEmptyPlaceholder("catalogMenu")?r("PlaceholderRender",{class:e.$style.catalogMenu,attrs:{placeholders:e.placeholders,place:"catalogMenu"}}):e._e(),e._v(" "),e.notEmptyPlaceholder("searchBar")?r("PlaceholderRender",{class:e.$style.searchBar,attrs:{placeholders:e.placeholders,place:"searchBar"}}):e.notEmptyPlaceholder("stepsBar")?e._e():r("div",{class:e.$style.searchBar}),e._v(" "),e.notEmptyPlaceholder("stepsBar")?r("PlaceholderRender",{class:e.$style.stepsBar,attrs:{placeholders:e.placeholders,place:"stepsBar"}}):e._e(),e._v(" "),e.notEmptyPlaceholder("userMenu")?r("PlaceholderRender",{class:e.$style.userMenu,attrs:{placeholders:e.placeholders,place:"userMenu"}}):e._e()]},proxy:!0},{key:"horizontalMenu",fn:function(){var t,n;return[e.notEmptyPlaceholder("horizontalMenu")?r("div",{class:[e.$style.headerBottom,(t={},t[e.$style.extra]=e.notEmptyPlaceholder("addressBar"),t)]},[e.notEmptyPlaceholder("horizontalMenu")?r("PlaceholderRender",{class:e.$style.horizontalMenu,attrs:{placeholders:e.placeholders,place:"horizontalMenu"}}):e._e(),e._v(" "),e.notEmptyPlaceholder("addressBar")?r("PlaceholderRender",{class:[e.$style.addressBar,(n={},n[e.$style.withBigPromoCounter]=e.isBigPromoCounter,n)],attrs:{placeholders:e.placeholders,place:"addressBar"}}):e._e()],1):e._e()]},proxy:!0},{key:"bigPromoCounter",fn:function(){return[e.bottomBannerStyle&&e.bottomBannerStyle.background?r("div",{class:e.$style.bottomBannerBg,style:e.bottomBannerStyle},[e.isBigPromoCounter?r("PlaceholderRender",{class:e.$style.bottomBanner,attrs:{placeholders:e.placeholders,place:"bigPromoCounter"}}):e._e()],1):e._e()]},proxy:!0}])})},o=[]}}]);