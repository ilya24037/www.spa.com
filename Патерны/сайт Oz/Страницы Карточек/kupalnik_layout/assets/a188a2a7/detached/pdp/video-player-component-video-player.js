"use strict";(self.webpackChunkDetached_pdp=self.webpackChunkDetached_pdp||[]).push([["video-player-component-video-player"],{"0d5bb":(e,t,o)=>{o.a(e,async(e,l)=>{try{var n=o("1dcb5"),r=o("8136d"),d=o("ce27b"),h=o.n(d),c=o("69aed"),y=o("79a44"),f=o("9311e"),_=o("ecabc"),v=o("1e564"),m=o("f0f9e"),w=o("3ccd9"),B=e([r]);r=(B.then?(await B)():B)[0];t.Z={name:"SvelteVideoPlayer",mixins:[v.Z,m.Z,w.Z,(0,_.composerStateMixin)({enableVideoPrefetchSW:e=>e._get("experimentsConfig.enableVideoPrefetchSW",!1),prefetchWebGalleryVideoSW:e=>e._get("experimentsConfig.prefetchWebGalleryVideoSW",!1),prefetchListPhotosVideoSW:e=>e._get("experimentsConfig.prefetchListPhotosVideoSW",!1),prefetchWebReviewGalleryVideoSW:e=>e._get("experimentsConfig.prefetchWebReviewGalleryVideoSW",!1)})],inject:{crossoriginMode:{default:""}},props:{src:{type:String,default:""},startTime:{type:Number,default:0},tryAutoplay:{type:Boolean,default:!1},initialMuted:{type:Boolean,default:!1},initialVolume:{type:Number,default:1},loop:{type:Boolean,default:!1},showSettings:{type:Boolean,default:!0},showFullscreenControl:{type:Boolean,default:!0},showAudioControl:{type:Boolean,default:!0},showBottomBar:{type:Boolean,default:!0},hotkeysEnabled:{type:Boolean,default:!0},fitToContainer:{type:Boolean,default:!1},oneLineControls:{type:Boolean,default:!1},showLargePlayButtonOnStart:{type:Boolean,default:!0},showLargePlayButtonOnPause:{type:Boolean,default:!1},showLargePlayButtonOnEnd:{type:Boolean,default:!1},singlePlayerInstance:{type:Boolean,default:!1},onlyToggleAudioControl:{type:Boolean,default:!1},hideUiOnPointerLeave:{type:Boolean,default:!0},hideUiWhenIdleSeconds:{type:Number,default:3},srcListForPreload:{type:Array,default:()=>[]},cellTrackingInfo:{type:Object,default:()=>({})},crossorigin:{type:String,default:void 0},videoObjectFitCover:{type:Boolean,default:!1}},data:()=>({allowedToShow:!1,videoData:{}}),computed:{crossoriginAttr(){return void 0===this.crossorigin?this.crossoriginMode:this.crossorigin},videoPrefetchEnabled(){return this.enableVideoPrefetchSW&&(this.prefetchWebGalleryVideoSW||this.prefetchListPhotosVideoSW||this.prefetchWebReviewGalleryVideoSW)},eventHandlers(){return{[n.rg.Play]:e=>{this.$emit(n.rg.Play,e)},[n.rg.Pause]:e=>{this.$emit(n.rg.Pause,e)},[n.rg.Ended]:e=>{this.$emit(n.rg.Ended,e)},[n.rg.ViewStart]:e=>{this.$emit(n.rg.ViewStart,e)},[n.rg.ViewFinish]:e=>{this.$emit(n.rg.ViewFinish,e)},[n.rg.ShowUi]:e=>{this.$emit(n.rg.ShowUi,e)},[n.rg.HideUi]:e=>{this.$emit(n.rg.HideUi,e)},[n.rg.LoadedMetadata]:e=>{this.$emit(n.rg.LoadedMetadata,e)},[n.rg.TimeUpdate]:e=>{this.$emit(n.rg.TimeUpdate,e)},[n.rg.DurationChange]:e=>{this.$emit(n.rg.DurationChange,e)},[n.rg.CanPlay]:e=>{this.$emit(n.rg.CanPlay,e)},[n.rg.VolumeChange]:e=>{this.$emit(n.rg.VolumeChange,e)}}},swPrefetchParams(){return{sourcePreload:this.videoPrefetchEnabled?"manual_duration":"default",videoChunkDuration:Number(JSON.parse(this.$config.get("videoChunkSizes")||"{}")[this.productType]),videoDuration:this.videoData.duration,videoContentType:this.videoData.contentType}}},created(){this.videoPrefetchEnabled&&(this.videoDurationSubscription=y.registry.use(f.v).onNextState(e=>{this.videoData=e.videos[this.src]||{}}))},beforeDestroy(){this.videoDurationSubscription&&this.videoDurationSubscription.unsubscribe()},mounted(){this.$nextTick(()=>{this.allowedToShow=!0})},methods:{onPlayerInit(e){this.player=h()(e,"detail"),this.isPlayerObjectAttached=!0,this.$emit("playerInit")},onVideoTap(){this.$emit("videoTap")},onToggleVolume(){this.$emit("toggleVolume")},createVideoPrefetchUrl:c.createVideoPrefetchUrl}},l()}catch(e){l(e)}})},"323dd":(e,t,o)=>{o.a(e,async(e,l)=>{try{o.r(t);var n=o("19854"),r=o("fd97a"),d=o("695d8"),h=o.n(d),c=e([r]);r=(c.then?(await c)():c)[0];var component=h()(r.Z,n.s,n.x,!1,null,null,null);t.default=component.exports,l()}catch(e){l(e)}})},fd97a:(e,t,o)=>{o.a(e,async(e,l)=>{try{var n=o("0d5bb"),r=e([n]);n=(r.then?(await r)():r)[0],t.Z=n.Z,l()}catch(e){l(e)}})},19854:(e,t,o)=>{o.d(t,{s:()=>l,x:()=>n});var l=function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.allowedToShow?o("video-player",e._g({attrs:{src:e.videoPrefetchEnabled&&e.videoData.duration?e.createVideoPrefetchUrl(e.videoUrl):e.videoUrl,try_autoplay:""+e.tryAutoplay,show_settings:""+e.showSettings,hotkeys_enabled:""+e.hotkeysEnabled,show_fullscreen_control:""+e.showFullscreenControl,show_audio_control:""+e.showAudioControl,fit_to_container:""+e.fitToContainer,initial_volume:""+e.initialVolume,initial_muted:""+e.initialMuted,one_line_controls:""+e.oneLineControls,show_bottom_bar:""+e.showBottomBar,single_playing_instance:""+e.singlePlayerInstance,show_large_play_button_on_start:""+e.showLargePlayButtonOnStart,show_large_play_button_on_pause:""+e.showLargePlayButtonOnPause,show_large_play_button_on_end:""+e.showLargePlayButtonOnEnd,only_toggle_audio_control:""+e.onlyToggleAudioControl,hide_ui_when_idle_seconds:""+e.hideUiWhenIdleSeconds,hide_ui_on_pointer_leave:""+e.hideUiOnPointerLeave,src_list_for_preload:""+JSON.stringify(e.srcListForPreload),metrics_events_meta:""+JSON.stringify(e.metricsEventsMeta),video_object_fit_cover:""+e.videoObjectFitCover,loop:""+e.loop,crossorigin:e.crossoriginAttr,sw_prefetch_params:""+JSON.stringify(e.swPrefetchParams),force_disable_metrics:"true",send_sentry_event:"false"},on:{error:e.logVideoError,videoTap:e.onVideoTap,playerInit:e.onPlayerInit,toggleVolume:e.onToggleVolume}},e.eventHandlers)):e._e()},n=[]}}]);