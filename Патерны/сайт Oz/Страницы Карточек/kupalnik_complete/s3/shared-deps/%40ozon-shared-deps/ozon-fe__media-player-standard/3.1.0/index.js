!function(){var e={914:function(){(function(){"use strict";if("undefined"==typeof window)return;function e(){}function t(e,t){for(const i in t)e[i]=t[i];return e}function i(e){return e()}function r(){return Object.create(null)}function s(e){e.forEach(i)}function n(e){return"function"==typeof e}function o(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let a,l;function d(e,t){return a||(a=document.createElement("a")),a.href=t,e===a.href}function c(e){return 0===Object.keys(e).length}function u(t,i,r){t.$$.on_destroy.push(function(t,...i){if(null==t)return e;const r=t.subscribe(...i);return r.unsubscribe?()=>r.unsubscribe():r}(i,r))}function h(e,t,i,r){if(e){const s=_(e,t,i,r);return e[0](s)}}function _(e,i,r,s){return e[1]&&s?t(r.ctx.slice(),e[1](s(i))):r.ctx}function p(e,t,i,r){if(e[2]&&r){const s=e[2](r(i));if(void 0===t.dirty)return s;if("object"==typeof s){const e=[],i=Math.max(t.dirty.length,s.length);for(let r=0;r<i;r+=1)e[r]=t.dirty[r]|s[r];return e}return t.dirty|s}return t.dirty}function m(e,t,i,r,s,n){if(s){const o=_(t,i,r,n);e.p(o,s)}}function f(e){if(e.ctx.length>32){const t=[],i=e.ctx.length/32;for(let e=0;e<i;e++)t[e]=-1;return t}return-1}function g(e){const t={};for(const i in e)"$"!==i[0]&&(t[i]=e[i]);return t}function v(e){return null==e?"":e}function w(e,t,i){return e.set(i),t}function $(e,t){e.appendChild(t)}function E(e,t,i){const r=function(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}(e);if(!r.getElementById(t)){const e=x("style");e.id=t,e.textContent=i,function(e,t){$(e.head||e,t),t.sheet}(r,e)}}function y(e,t,i){e.insertBefore(t,i||null)}function b(e){e.parentNode&&e.parentNode.removeChild(e)}function C(e,t){for(let i=0;i<e.length;i+=1)e[i]&&e[i].d(t)}function x(e){return document.createElement(e)}function R(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function S(e){return document.createTextNode(e)}function P(){return S(" ")}function T(){return S("")}function L(e,t,i,r){return e.addEventListener(t,i,r),()=>e.removeEventListener(t,i,r)}function D(e,t,i){null==i?e.removeAttribute(t):e.getAttribute(t)!==i&&e.setAttribute(t,i)}function O(e,t){t=""+t,e.data!==t&&(e.data=t)}function M(e,t,i,r){null==i?e.style.removeProperty(t):e.style.setProperty(t,i,r?"important":"")}function I(e,t,i){e.classList[i?"add":"remove"](t)}function A(e){const t={};for(const i of e)t[i.name]=i.value;return t}function k(e){l=e}function q(){if(!l)throw new Error("Function called outside component initialization");return l}function N(e){q().$$.on_mount.push(e)}function U(){const e=q();return(t,i,{cancelable:r=!1}={})=>{const s=e.$$.callbacks[t];if(s){const n=function(e,t,{bubbles:i=!1,cancelable:r=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(e,i,r,t),s}(t,i,{cancelable:r});return s.slice().forEach((t=>{t.call(e,n)})),!n.defaultPrevented}return!0}}const V=[],B=[];let F=[];const H=[],z=Promise.resolve();let W=!1;function j(e){F.push(e)}const K=new Set;let Y=0;function G(){if(0!==Y)return;const e=l;do{try{for(;Y<V.length;){const e=V[Y];Y++,k(e),Z(e.$$)}}catch(e){throw V.length=0,Y=0,e}for(k(null),V.length=0,Y=0;B.length;)B.pop()();for(let e=0;e<F.length;e+=1){const t=F[e];K.has(t)||(K.add(t),t())}F.length=0}while(V.length);for(;H.length;)H.pop()();W=!1,K.clear(),k(e)}function Z(e){if(null!==e.fragment){e.update(),s(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(j)}}const X=new Set;let Q,J;function ee(){Q={r:0,c:[],p:Q}}function te(){Q.r||s(Q.c),Q=Q.p}function ie(e,t){e&&e.i&&(X.delete(e),e.i(t))}function re(e,t,i,r){if(e&&e.o){if(X.has(e))return;X.add(e),Q.c.push((()=>{X.delete(e),r&&(i&&e.d(1),r())})),e.o(t)}else r&&r()}function se(e,t){re(e,1,1,(()=>{t.delete(e.key)}))}function ne(e,t,i,r,n,o,a,l,d,c,u,h){let _=e.length,p=o.length,m=_;const f={};for(;m--;)f[e[m].key]=m;const g=[],v=new Map,w=new Map,$=[];for(m=p;m--;){const e=h(n,o,m),s=i(e);let l=a.get(s);l?r&&$.push((()=>l.p(e,t))):(l=c(s,e),l.c()),v.set(s,g[m]=l),s in f&&w.set(s,Math.abs(m-f[s]))}const E=new Set,y=new Set;function b(e){ie(e,1),e.m(l,u),a.set(e.key,e),u=e.first,p--}for(;_&&p;){const t=g[p-1],i=e[_-1],r=t.key,s=i.key;t===i?(u=t.first,_--,p--):v.has(s)?!a.has(r)||E.has(r)?b(t):y.has(s)?_--:w.get(r)>w.get(s)?(y.add(r),b(t)):(E.add(s),_--):(d(i,a),_--)}for(;_--;){const t=e[_];v.has(t.key)||d(t,a)}for(;p;)b(g[p-1]);return s($),g}function oe(e){e&&e.c()}function ae(e,t,r,o){const{fragment:a,after_update:l}=e.$$;a&&a.m(t,r),o||j((()=>{const t=e.$$.on_mount.map(i).filter(n);e.$$.on_destroy?e.$$.on_destroy.push(...t):s(t),e.$$.on_mount=[]})),l.forEach(j)}function le(e,t){const i=e.$$;null!==i.fragment&&(function(e){const t=[],i=[];F.forEach((r=>-1===e.indexOf(r)?t.push(r):i.push(r))),i.forEach((e=>e())),F=t}(i.after_update),s(i.on_destroy),i.fragment&&i.fragment.d(t),i.on_destroy=i.fragment=null,i.ctx=[])}function de(t,i,n,o,a,d,c,u=[-1]){const h=l;k(t);const _=t.$$={fragment:null,ctx:[],props:d,update:e,not_equal:a,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i.context||(h?h.$$.context:[])),callbacks:r(),dirty:u,skip_bound:!1,root:i.target||h.$$.root};c&&c(_.root);let p=!1;if(_.ctx=n?n(t,i.props||{},((e,i,...r)=>{const s=r.length?r[0]:i;return _.ctx&&a(_.ctx[e],_.ctx[e]=s)&&(!_.skip_bound&&_.bound[e]&&_.bound[e](s),p&&function(e,t){-1===e.$$.dirty[0]&&(V.push(e),W||(W=!0,z.then(G)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(t,e)),i})):[],_.update(),p=!0,s(_.before_update),_.fragment=!!o&&o(_.ctx),i.target){if(i.hydrate){const e=function(e){return Array.from(e.childNodes)}(i.target);_.fragment&&_.fragment.l(e),e.forEach(b)}else _.fragment&&_.fragment.c();i.intro&&ie(t.$$.fragment),ae(t,i.target,i.anchor,i.customElement),G()}k(h)}"function"==typeof HTMLElement&&(J=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:e}=this.$$;this.$$.on_disconnect=e.map(i).filter(n);for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(e,t,i){this[e]=i}disconnectedCallback(){s(this.$$.on_disconnect)}$destroy(){le(this,1),this.$destroy=e}$on(t,i){if(!n(i))return e;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(i),()=>{const e=r.indexOf(i);-1!==e&&r.splice(e,1)}}$set(e){this.$$set&&!c(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}});class ce{$destroy(){le(this,1),this.$destroy=e}$on(t,i){if(!n(i))return e;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(i),()=>{const e=r.indexOf(i);-1!==e&&r.splice(e,1)}}$set(e){this.$$set&&!c(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ue=.1,he=160;var _e,pe,me,fe,ge,ve,we,$e,Ee;function ye(e){return{all:e=e||new Map,on(t,i){const r=e?.get(t);r?r.push(i):e?.set(t,[i])},off(t,i){const r=e?.get(t);r&&(i?r.splice(r.indexOf(i)>>>0,1):e?.set(t,[]))},emit(t,i){let r=e?.get(t);r&&r.slice().forEach((e=>{e(i)})),r=e?.get("*"),r&&r.slice().forEach((e=>{e(t,i)}))}}}let be;!function(e){e.Play="play",e.Pause="pause",e.DurationChange="durationChange",e.LoadingStateChange="loadingStateChange",e.VolumeChange="volumeChange",e.TimeUpdate="timeUpdate",e.BufferedUpdate="bufferedUpdate",e.PlaybackRateChange="playbackRateChange",e.Ended="ended",e.ViewStart="viewStart",e.ViewFinish="viewFinish",e.Rewind="rewind",e.LoadedMetadata="loadedMetadata",e.Error="error",e.LoadStart="loadStart",e.CanPlay="canPlay",e.CanPlayTrough="canPlayThrough",e.ShowUi="showUi",e.HideUi="hideUi",e.FailedExtraRequestHeaders="failedExtraRequestHeaders"}(_e||(_e={})),function(e){e.VideoTap="videoTap",e.EpisodeReached="episodeReached",e.FullScreenStateChange="fullScreenStateChange",e.ToggleVolume="toggleVolume",e.ChangeVolume="changeVolume",e.PlayerInit="playerInit",e.BackToLive="backToLive",e.VideoClick="videoClick",e.ChangePlaybackRate="changePlaybackRate"}(pe||(pe={})),function(e){e[e.HaveNothing=0]="HaveNothing",e[e.HaveMetadata=1]="HaveMetadata",e[e.HaveCurrentData=2]="HaveCurrentData",e[e.HaveFutureData=3]="HaveFutureData",e[e.HaveEnoughData=4]="HaveEnoughData"}(me||(me={})),function(e){e.PauseVideo="Pause video",e.EndVideo="End video",e.ChangeSource="Change source",e.ClosePip="Close Pip",e.CloseBrowserTab="Close browser tab",e.EndStream="End stream",e.DestroyComponent="Destroy component"}(fe||(fe={})),function(e){e.StartupTime="STARTUP_TIME",e.StallCount="STALL_COUNT",e.StallDuration="STALL_DURATION",e.StallWaitRatio="STALL_WAIT_RATIO",e.StallRate="STALL_RATE",e.ErrorsCount="ERRORS_COUNT",e.ViewTime="VIEW_TIME",e.TimeWeighedBitrate="TIME_WEIGHED_BITRATE",e.EwmaBandwidth="EWMA_BANDWIDTH",e.PlayerLoadTime="LOAD_TIME"}(ge||(ge={})),function(e){e.Play="player.play"}(ve||(ve={})),function(e){e.UNKNOWN="unknown",e.VOD="vod",e.LIVE="live"}(we||(we={})),"function"==typeof SuppressedError&&SuppressedError,function(e){e.HLS="hls",e.MP4="mp4",e.DASH="mpd"}($e||($e={})),function(e){e.MediaAttach="mediaAttach",e.ScriptLoadError="scriptLoadError",e.Error="error",e.LogError="logError",e.Recover="recover",e.LevelUpdated="levelUpdated",e.LevelSwitching="levelSwitching",e.LevelSwitched="levelSwitched",e.ManifestParsed="manifestParsed",e.FragLoaded="FragLoaded",e.FragChanged="FragChanged",e.ManifestUpdated="manifestUpdated",e.StreamInitialized="streamInitialized",e.FragmentLoadingCompleted="fragmentLoadingCompleted",e.ServiceWorkerError="serviceWorkerError"}(Ee||(Ee={}));const Ce=new Uint8Array(16);function xe(){if(!be&&(be="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!be))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return be(Ce)}const Re=[];for(let en=0;en<256;++en)Re.push((en+256).toString(16).slice(1));var Se={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function Pe(e,t,i){if(Se.randomUUID&&!t&&!e)return Se.randomUUID();const r=(e=e||{}).random||(e.rng||xe)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){i=i||0;for(let e=0;e<16;++e)t[i+e]=r[e];return t}return function(e,t=0){return Re[e[t+0]]+Re[e[t+1]]+Re[e[t+2]]+Re[e[t+3]]+"-"+Re[e[t+4]]+Re[e[t+5]]+"-"+Re[e[t+6]]+Re[e[t+7]]+"-"+Re[e[t+8]]+Re[e[t+9]]+"-"+Re[e[t+10]]+Re[e[t+11]]+Re[e[t+12]]+Re[e[t+13]]+Re[e[t+14]]+Re[e[t+15]]}(r)}const Te=(e,t,i)=>{let r;if(!["hls","dash","mp4"].includes(t))return null;if("mp4"===t)switch(e){case 2:return"NETWORK_ERROR";case 3:return"DECODING_ERROR";case 4:return"OTHER_ERROR";default:return null}else if("hls"===t){if(r=window.Hls?.ErrorDetails,!r)return null;if(!i)return null;switch(e){case r.MANIFEST_LOAD_ERROR:case r.MANIFEST_LOAD_TIMEOUT:case r.MANIFEST_PARSING_ERROR:case r.LEVEL_LOAD_ERROR:case r.FRAG_LOAD_TIMEOUT:case r.FRAG_LOAD_ERROR:return"NETWORK_ERROR";case r.FRAG_DECRYPT_ERROR:case r.FRAG_PARSING_ERROR:case r.BUFFER_APPEND_ERROR:case r.BUFFER_NUDGE_ON_STALL:case r.MANIFEST_INCOMPATIBLE_CODECS_ERROR:case r.BUFFER_INCOMPATIBLE_CODECS_ERROR:case r.BUFFER_STALLED_ERROR:return"DECODING_ERROR";case r.KEY_SYSTEM_NO_KEYS:case r.KEY_SYSTEM_NO_ACCESS:case r.KEY_SYSTEM_LICENSE_REQUEST_FAILED:case r.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED:case r.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED:case r.KEY_SYSTEM_SESSION_UPDATE_FAILED:case r.KEY_SYSTEM_STATUS_INTERNAL_ERROR:case r.KEY_LOAD_TIMEOUT:case r.INTERNAL_EXCEPTION:return"OTHER_ERROR";default:return null}}else if(r=window.dashjs.MediaPlayer.errors,!r)return null;switch(e){case r.MANIFEST_ERROR_ID_NOSTREAMS_CODE:case r.MANIFEST_ERROR_ID_PARSE_CODE:case r.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE:case r.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE:case r.DOWNLOAD_ERROR_ID_MANIFEST_CODE:case r.DOWNLOAD_ERROR_ID_CONTENT_CODE:case r.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE:return"NETWORK_ERROR";case r.MEDIASOURCE_TYPE_UNSUPPORTED_CODE:case r.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE:case r.TIMED_TEXT_ERROR_ID_PARSE_CODE:return"DECODING_ERROR";case r.KEY_SESSION_CREATED_ERROR_CODE:case r.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE:case r.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE:case r.MEDIA_KEYERR_CLIENT_CODE:case r.MEDIA_KEYERR_CODE:case r.MEDIA_KEYERR_DOMAIN_CODE:case r.MEDIA_KEYERR_HARDWARECHANGE_CODE:case r.MEDIA_KEYERR_OUTPUT_CODE:case r.MEDIA_KEYERR_SERVICE_CODE:case r.MEDIA_KEYERR_UNKNOWN_CODE:case r.MEDIA_KEY_MESSAGE_ERROR_CODE:case r.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE:case r.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE:case r.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE:case r.SERVER_CERTIFICATE_UPDATED_ERROR_CODE:return"OTHER_ERROR";default:return null}},Le=/\.m3u8/,De=/\.mpd/,Oe=/.(mp4|m4s|m4v|m4a|avi|webm|mkv|wmv|mpg|mov|flv)$/i,Me="/s3/media-player/media-player-sw.js";class Ie{_emitter=ye();sourceSettings;videoElement=null;type=$e.MP4;src=null;isMediaNative;isDestroyed=!1;constructor(e,t={}){this.src=e,this.sourceSettings=t}_emit(e,t){this._emitter.emit(e,t)}_clearAllEventListeners(){this._emitter.all.clear()}on(e,t){this._emitter.on(e,t)}off(e,t){this._emitter.off(e,t)}recover(){}changeLevel(e=-1){}getBandwidthEstimate(){return NaN}destroy(){this._clearAllEventListeners(),this.videoElement.src="",this.videoElement=null,this.isDestroyed=!0}}class Ae extends Ie{type=$e.HLS;_hls=null;_currentErrorType=null;extraRequestHeadersEntries=[];isScriptLoaded=!1;debug=!1;constructor(e,t={}){super(e,t),this.getDebugOption()}getDebugOption(){try{this.debug=Boolean(localStorage.getItem("o3-hls-debug"))}catch{}}_onXhrSetup(e){this.extraRequestHeadersEntries.forEach((([t,i])=>{e.setRequestHeader(t,i)}))}attach(e){this.videoElement=e;const t=()=>{if(!this.isDestroyed)if(window.Hls.isSupported()){const e=this.sourceSettings.hlsOptions||{},t=this.sourceSettings.extraRequestHeaders,i=this.sourceSettings.startTime??-1;this.extraRequestHeadersEntries=Object.entries(t||{}),this._hls=new window.Hls({maxBufferLength:5,maxBufferSize:5e6,backBufferLength:5,startPosition:i,currentLevel:-1,...this.extraRequestHeadersEntries.length?{xhrSetup:this._onXhrSetup.bind(this)}:{},...e,debug:this.debug}),this._hls.attachMedia(this.videoElement),this._hls.on(window.Hls.Events.MEDIA_ATTACHED,(()=>{this._hls.loadSource(this.src),this._emit(`m-${Ee.MediaAttach}`)})),this._hls.on(window.Hls.Events.FRAG_LOADED,((e,t)=>{this._emit(`m-${Ee.FragLoaded}`,{...t,rootUrl:this.src})})),this._hls.on(window.Hls.Events.MANIFEST_PARSED,((e,t)=>{const i=t?.levels?.some((e=>e?.details?.live));this._emit(`m-${Ee.ManifestParsed}`,{event:e,data:t,isLiveStream:i})})),this._hls.on(window.Hls.Events.LEVEL_UPDATED,((e,t)=>{this._emit(`m-${Ee.LevelUpdated}`,{event:e,data:t})})),this._hls.on(window.Hls.Events.ERROR,((e,t)=>{t.fatal&&(this._currentErrorType=t.type),this._emit(`m-${Ee.Error}`,{fatal:t.fatal,details:t.details})})),this._hls.on(window.Hls.Events.FRAG_CHANGED,((e,t)=>{const{level:i,sn:r,_url:s}=t?.frag||{},n=i?this._hls.levels[i]:void 0;this._emit(`m-${Ee.FragChanged}`,{level:{height:n?.height},sequenceNumber:r,url:s})})),this._hls.on(window.Hls.Events.LEVEL_SWITCHING,((e,t)=>{this._emit(`m-${Ee.LevelSwitching}`,{event:e,data:t})})),this._hls.on(window.Hls.Events.LEVEL_SWITCHED,((e,t)=>{const i=this._hls.levels[t.level];this._emit(`m-${Ee.LevelSwitched}`,{level:{height:i.height}})})),this.isMediaNative=!1}else this.videoElement.canPlayType("application/vnd.apple.mpegurl")?(this.videoElement.src=this.src,setTimeout((()=>{this._emit(`m-${Ee.MediaAttach}`)})),this.isMediaNative=!0):this._emit(`m-${Ee.LogError}`,{errorCode:"hls is not supported",fatal:!0})},i="media-player/hls.js",r=document.getElementById(i);if(r)r.getAttribute("data-loaded")?setTimeout(t):r.addEventListener("load",t);else{const e=document.createElement("script");e.src="https://cdn2.ozone.ru/s3/media-player/hls.min.1.5.17.js",e.id=i,e.addEventListener("load",(()=>{e.setAttribute("data-loaded","true"),t()})),e.addEventListener("error",(e=>{this._emit(`m-${Ee.ScriptLoadError}`,{data:e,fatal:!0,message:"hls.min.js load error"})})),document.head.appendChild(e)}}recover(){if(this._hls)switch(this._currentErrorType){case window.Hls.ErrorTypes.NETWORK_ERROR:this._hls.startLoad(),this._currentErrorType=null,this._emit(`m-${Ee.Recover}`);break;case window.Hls.ErrorTypes.MEDIA_ERROR:this._hls.recoverMediaError(),this._currentErrorType=null,this._emit(`m-${Ee.Recover}`);break;default:this._hls.destroy()}}changeLevel(e){this._hls.currentLevel=e}getBandwidthEstimate(){return Math.round(this._hls?.bandwidthEstimate)}destroy(){super.destroy(),this._hls&&(this._hls.detachMedia(),this._hls.destroy(),this._hls=null)}}class ke extends Ie{type=$e.DASH;_dash;constructor(e,t={}){super(e,t)}attach(e){this.videoElement=e;const t=()=>{if(!this.isDestroyed)if(window.dashjs.supportsMediaSource()){const e=this.sourceSettings.startTime||-1,t=window.dashjs.MediaPlayer({startTime:e});this._dash=t.create(),Object.keys(this.sourceSettings.extraRequestHeaders||{}).length&&this._dash.extend("RequestModifier",(()=>({modifyRequestHeader:e=>{for(const t in this.sourceSettings.extraRequestHeaders)e.setRequestHeader(t,this.sourceSettings.extraRequestHeaders[t]);return e}}))),this._dash.initialize(this.videoElement,this.src,!1),this._emit(`m-${Ee.MediaAttach}`),this._dash.on(Ee.StreamInitialized,(()=>{const e=this._dash.getBitrateInfoListFor("video");this._emit(`m-${Ee.StreamInitialized}`,{bitrates:e})})),this._dash.on([`${Ee.ManifestUpdated}`],(e=>{this._emit(`m-${Ee.ManifestUpdated}`,e)})),this._dash.on(Ee.FragmentLoadingCompleted,(e=>{this._emit(`m-${Ee.FragmentLoadingCompleted}`,{...e,rootUrl:this.src})})),this._dash.on("error",(({error:e})=>{this._emit(`m-${Ee.Error}`,{code:e.code})})),this.isMediaNative=!1}else this._emit(`m-${Ee.LogError}`,{message:"dash is not supported",fatal:!0})},i="media-player/dash.js",r=document.getElementById(i);if(r)r.getAttribute("data-loaded")?setTimeout(t):r.addEventListener("load",t);else{const e=document.createElement("script");e.src="https://cdn2.ozone.ru/s3/media-player/dash.min.js",e.id=i,e.addEventListener("load",(()=>{e.setAttribute("data-loaded","true"),t()})),e.addEventListener("error",(e=>{this._emit(`m-${Ee.ScriptLoadError}`,{data:e,fatal:!0,message:"dash.min.js load error"})})),document.head.appendChild(e)}}getBandwidthEstimate(){return this._dash?.getAverageThroughput("video")}destroy(){super.destroy(),this._dash.reset(),this._dash=null}changeLevel(e=-1){this._dash.getSettings().streaming.abr.autoSwitchBitrate=!1,this._dash.setQualityFor("video",e,!0)}}const qe={1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED"};let Ne=class{_firstCanPlayThroughtEventPassed=!1;_emitter=ye();_startTime=void 0;_waitCanPlayThroughEventPassed=!1;_currentTimeOnLastTimeUpdate=0;_onTimeUpdateTimeout=null;_viewDurationInterval=null;_seekingFrom=0;_prevVolume=1;_rewinding=!1;_levelsSwitched=[];loop=!1;initTime=Date.now();source;uniqueVideoSrcIdentifier=null;actualLive=!1;perfStallCount=0;perfPrevStallDate=null;perfStallDuration=0;perfStartLoadSourceDate=null;perfStartupTime=void 0;perfErrorsCount=0;perfViewTime=0;playerLoadTime=void 0;perfErrorsDetails={};videoElement=null;playing=!1;loading=!1;duration=0;viewDuration=0;buffered=0;firstCanPlayEventPassed=!1;liveStreamMode=!1;metricsEventsMeta={};constructor(e){const{videoElement:t,playerSettings:i,metricsEventsMeta:r}=e;this.videoElement=t,this.loop=i?.loop,this._startTime=i.startTime,this._configureVideoElement(i),this._addVideoElementEventListeners(),this.uniqueVideoSrcIdentifier=Pe(),this.metricsEventsMeta=r}_getTimeWeighedBitrate(e,t,i){if(e<=0||t<=0||e>t)return 0;const r=+e/t*+(i/1024/1024).toFixed(2);return!r||isNaN(r)?0:r}get _perfTimeWeighedBitrate(){let e=0;const t=this.perfViewTime;if(t>0)for(let i=0;i<this._levelsSwitched.length;i++){const r=this._levelsSwitched[i],s=(this._levelsSwitched?.[i+1]?.startWatched||t)-r.startWatched;s>0&&(e+=this._getTimeWeighedBitrate(s,t,r.bitrate))}return+e.toFixed(2)}get _perfBandwidthEstimate(){return this.source?this.source.getBandwidthEstimate():null}_resetPlayerState(){this.loading=!1,this.duration=0,this.playing=!1,this._waitCanPlayThroughEventPassed=!1,this._firstCanPlayThroughtEventPassed=!1,this._currentTimeOnLastTimeUpdate=0,clearTimeout(this._onTimeUpdateTimeout),this._onTimeUpdateTimeout=null,this._seekingFrom=0,this._prevVolume=1,this.buffered=0,this._rewinding=!1,this._clearViewDurationInterval(),this.perfStallCount=0,this.perfPrevStallDate=null,this.perfStallDuration=0,this.perfStartLoadSourceDate=null,this.perfStartupTime=void 0,this.perfErrorsCount=0,this.perfViewTime=0,this._levelsSwitched=[]}_destroySource(){this.source&&this.source.destroy()}_videoElementEvents={loadstart:this._onLoadStart.bind(this),loadedmetadata:this._onLoadedmetadata.bind(this),play:this.onPlay.bind(this),pause:this.onPause.bind(this),durationchange:this._onDurationChange.bind(this),waiting:this._onWaiting.bind(this),canplay:this.canPlay.bind(this),canplaythrough:this.canPlayThrough.bind(this),volumechange:this._onVolumeChange.bind(this),timeupdate:this._onTimeUpdate.bind(this),progress:this._onProgress.bind(this),ratechange:this._onRateChange.bind(this),ended:this.onEnded.bind(this),seeking:this._onSeeking.bind(this),seeked:this._onSeeked.bind(this),error:this.onError.bind(this)};_addVideoElementEventListeners(){Object.entries(this._videoElementEvents).forEach((([e,t])=>{this.videoElement.addEventListener(e,t)}))}_removeVideoElementListeners(){Object.entries(this._videoElementEvents).forEach((([e,t])=>{this.videoElement.removeEventListener(e,t)}))}_onChangeSource(){this.playing&&this._emit(`m-${_e.ViewFinish}`,{number:Math.round(this.viewDuration),status:fe.ChangeSource})}_emit(e,t){this._emitter.emit(e,t)}_clearAllEventListeners(){this._emitter.all.clear()}_configureVideoElement(e){if(!this.videoElement)return;const t=e.initialVolume;this.videoElement.muted=e.initialMuted,this.videoElement.playsInline=!0,this.videoElement.disablePictureInPicture=!0,this.videoElement.muted?(this._prevVolume=t,this.videoElement.volume=0):this.videoElement.volume=t}_restart(){this.play()}_onLoadStart(){this._emit(`m-${_e.LoadStart}`)}_onLoadedmetadata(){this._emit(`m-${_e.LoadedMetadata}`),void 0!==this._startTime&&(this.currentTime=this._startTime),this._onDurationChange()}_onDurationChange(){isNaN(this.videoElement?.duration)||(this.duration=this.videoElement.duration,this._emit(`m-${_e.DurationChange}`,this.duration))}_onSeeking(){this._rewinding&&(this._seekingFrom=this._currentTimeOnLastTimeUpdate)}_onSeeked(){this._rewinding&&(this._emit(`m-${_e.Rewind}`,{videoTimescaleFrom:Math.round(this._seekingFrom),videoTimescaleTo:Math.round(this.currentTime)}),this._seekingFrom=null,this._rewinding=!1)}_onVolumeChange(){this._emit(`m-${_e.VolumeChange}`,{muted:this.muted,volume:this.volume})}_onWaiting(){!this.firstCanPlayEventPassed||this._rewinding||this.perfPrevStallDate||this.onStallStart(),this.loading=!0,this._emit(`m-${_e.LoadingStateChange}`,!0)}_onTimeUpdate(){this._onTimeUpdateTimeout=setTimeout((()=>{this.videoElement&&(this._currentTimeOnLastTimeUpdate=this.currentTime)}),50),this._emit(`m-${_e.TimeUpdate}`,this.currentTime)}_onProgress(){try{this.duration>0&&this.videoElement.buffered.length>0&&(this.buffered=this.videoElement.buffered.end(this.videoElement.buffered.length-1),this._emit(`m-${_e.BufferedUpdate}`,this.buffered))}catch(e){return null}}_onRateChange(){this._emit(`m-${_e.PlaybackRateChange}`,this.playbackRate)}_startViewDurationInterval(){this.viewDuration=0,this._viewDurationInterval=setInterval((()=>{this.loading||(this.viewDuration++,this.perfViewTime++)}),1e3)}_clearViewDurationInterval(){clearInterval(this._viewDurationInterval),this.viewDuration=0}get isMediaNative(){return this.source?.isMediaNative}getCurrentVideoResolution(){return{width:this.videoElement?.videoWidth||0,height:this.videoElement?.videoHeight||0}}get currentTime(){return this.videoElement?.currentTime}set currentTime(e){isFinite(e)&&this.videoElement&&(this.videoElement.currentTime=Number(e))}get playbackRate(){return this.videoElement?.playbackRate}set playbackRate(e){this.videoElement&&(this.videoElement.playbackRate=e)}get muted(){return this.videoElement?.muted}set muted(e){this.videoElement?.muted!==e&&this.videoElement&&(e?(this._prevVolume=this.videoElement?.volume,this.videoElement.volume=0):this.videoElement.volume=this._prevVolume||1,this.videoElement.muted=e)}get volume(){return this.videoElement?.volume}set volume(e){this.videoElement&&(this.videoElement.muted=0===e,this.videoElement.volume=e)}onPlay(){this.playing=!0,this._emit(`m-${_e.Play}`),this.videoElement.readyState===me.HaveEnoughData?(this._emit(`m-${_e.ViewStart}`,{number:Math.round(this.currentTime)}),this._startViewDurationInterval()):this._waitCanPlayThroughEventPassed=!0}onPause(){this.playing=!1,this._emit(`m-${_e.Pause}`);const e=this.videoElement.ended?fe.EndVideo:fe.PauseVideo;this._emit(`m-${_e.ViewFinish}`,{number:Math.round(this.viewDuration),status:e}),this._clearViewDurationInterval()}onError(e){const t=(i=this.videoElement.error.code,qe[i]||null);var i;this._emit(`m-${_e.Error}`,{...e,errorType:t,message:this.videoElement.error.message,fatal:!!this.perfErrorsDetails.fatalError,identifier:this.uniqueVideoSrcIdentifier})}onEnded(){this.loop?(this._firstCanPlayThroughtEventPassed=!1,this.firstCanPlayEventPassed=!1,this._restart()):this._emit(`m-${_e.Ended}`)}canPlay(){this.perfStartLoadSourceDate&&(this.perfStartupTime=(Date.now()-this.perfStartLoadSourceDate)/1e3,this.perfStartLoadSourceDate=null),this.firstCanPlayEventPassed||(this.firstCanPlayEventPassed=!0),this.perfPrevStallDate&&this.onStallEnd(),this._emit(`m-${_e.CanPlay}`)}canPlayThrough(){this._firstCanPlayThroughtEventPassed||(this._firstCanPlayThroughtEventPassed=!0,this._emit(`m-${_e.CanPlayTrough}`)),this.loading=!1,this._emit(`m-${_e.LoadingStateChange}`,!1),this._waitCanPlayThroughEventPassed&&(this.playing&&(this._emit(`m-${_e.ViewStart}`,{number:Math.round(this.currentTime)}),this._startViewDurationInterval()),this._waitCanPlayThroughEventPassed=!1)}addEventSourceListeners(){this.source.on(`m-${Ee.MediaAttach}`,(()=>{this.perfStartLoadSourceDate=Date.now(),this._emit(`m-${Ee.MediaAttach}`)})),this.source.on(`m-${Ee.ManifestParsed}`,(e=>{this._emit(`m-${Ee.ManifestParsed}`,e)})),this.source.on(`m-${Ee.LogError}`,(e=>{const{fatal:t,message:i}=e;this._emit(`m-${_e.Error}`,{...e,fatal:t,message:i,identifier:this.uniqueVideoSrcIdentifier})})),this.source.on(`m-${Ee.ScriptLoadError}`,(e=>{const{fatal:t,message:i}=e;this._emit(`m-${_e.Error}`,{...e,fatal:t,message:i,identifier:this.uniqueVideoSrcIdentifier})})),this.source.on(`m-${Ee.Error}`,(e=>{let t;if(this.source instanceof ke){const i=e?.code;t=function(e){const t=window.dashjs.MediaPlayer.errors;switch(e){case t.MANIFEST_ERROR_ID_MULTIPLEXED_CODE:return"MANIFEST_ERROR_ID_MULTIPLEXED";case t.MANIFEST_ERROR_ID_NOSTREAMS_CODE:return"MANIFEST_ERROR_ID_NOSTREAMS";case t.MANIFEST_ERROR_ID_PARSE_CODE:return"MANIFEST_ERROR_ID_PARSE";case t.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE:return"MANIFEST_LOADER_LOADING_FAILURE_ERROR";case t.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE:return"MANIFEST_LOADER_PARSING_FAILURE_ERROR";case t.DOWNLOAD_ERROR_ID_MANIFEST_CODE:return"DOWNLOAD_ERROR_ID_MANIFEST";case t.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE:return"FRAGMENT_LOADER_LOADING_FAILURE_ERROR";case t.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE:return"FRAGMENT_LOADER_NULL_REQUEST_ERROR";case t.SEGMENT_BASE_LOADER_ERROR_CODE:return"SEGMENT_BASE_LOADER_ERROR";case t.APPEND_ERROR_CODE:return"APPEND_ERROR";case t.MEDIASOURCE_TYPE_UNSUPPORTED_CODE:return"MEDIASOURCE_TYPE_UNSUPPORTED";case t.REMOVE_ERROR_CODE:return"REMOVE_ERROR";case t.DOWNLOAD_ERROR_ID_CONTENT_CODE:return"DOWNLOAD_ERROR_ID_CONTENT";case t.KEY_SESSION_CREATED_ERROR_CODE:return"KEY_SESSION_CREATED_ERROR";case t.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE:return"KEY_STATUS_CHANGED_EXPIRED_ERROR";case t.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE:return"KEY_SYSTEM_ACCESS_DENIED_ERROR";case t.MEDIA_KEYERR_CLIENT_CODE:return"MEDIA_KEYERR_CLIENT";case t.MEDIA_KEYERR_CODE:return"MEDIA_KEYERR";case t.MEDIA_KEYERR_DOMAIN_CODE:return"MEDIA_KEYERR_DOMAIN";case t.MEDIA_KEYERR_HARDWARECHANGE_CODE:return"MEDIA_KEYERR_HARDWARECHANGE";case t.MEDIA_KEYERR_OUTPUT_CODE:return"MEDIA_KEYERR_OUTPUT";case t.MEDIA_KEYERR_SERVICE_CODE:return"MEDIA_KEYERR_SERVICE";case t.MEDIA_KEYERR_UNKNOWN_CODE:return"MEDIA_KEYERR_UNKNOWN";case t.MEDIA_KEY_MESSAGE_ERROR_CODE:return"MEDIA_KEY_MESSAGE_ERROR";case t.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE:return"MEDIA_KEY_MESSAGE_LICENSER_ERROR";case t.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE:return"MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR";case t.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE:return"MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR";case t.SERVER_CERTIFICATE_UPDATED_ERROR_CODE:return"SERVER_CERTIFICATE_UPDATED_ERROR_CODE";case t.CAPABILITY_MEDIASOURCE_ERROR_CODE:case t.DATA_UPDATE_FAILED_ERROR:return"OtherError";case t.TIMED_TEXT_ERROR_ID_PARSE_CODE:return"TIMED_TEXT_ERROR_ID_PARSE";case t.TIME_SYNC_FAILED_ERROR_CODE:return"TIME_SYNC_FAILED_ERROR";case t.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE:return"XLINK_LOADER_LOADING_FAILURE_ERROR";case t.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE:return"URL_RESOLUTION_FAILED_GENERIC_ERROR";case t.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE:return"DOWNLOAD_ERROR_ID_INITIALIZATION";case t.DOWNLOAD_ERROR_ID_SIDX_CODE:return"DOWNLOAD_ERROR_ID_SIDX";case t.DOWNLOAD_ERROR_ID_XLINK_CODE:return"DOWNLOAD_ERROR_ID_XLINK";default:return"OTHER_ERROR"}}(i)}else if(this.source instanceof Ae){const{details:i}=e||{};t=i}this._emit(`m-${_e.Error}`,{errorType:t,fatal:!!this.perfErrorsDetails.fatalError,identifier:this.uniqueVideoSrcIdentifier})})),this.source.on(`m-${Ee.Recover}`,(()=>{this._emit(`m-${Ee.Recover}`)})),this.source.on(`m-${Ee.LevelUpdated}`,(e=>{this._emit(`m-${Ee.LevelUpdated}`,e)})),this.source.on(`m-${Ee.ManifestUpdated}`,(e=>{this._emit(`m-${Ee.ManifestUpdated}`,e)})),this.source.on(`m-${Ee.LevelSwitching}`,(e=>{const t={bitrate:e.data.bitrate,startWatched:this.perfViewTime};this._levelsSwitched.push(t),this._emit(`m-${Ee.LevelSwitching}`,e)})),this.source.on(`m-${Ee.ServiceWorkerError}`,(()=>{this.perfErrorsCount++,this._emit(`m-${_e.Error}`,{errorType:"ServiceWorkerError",identifier:this.uniqueVideoSrcIdentifier}),this._emit(`m-${Ee.ServiceWorkerError}`)})),this.source.on(`m-${Ee.StreamInitialized}`,(e=>{this._emit(`m-${Ee.StreamInitialized}`,e)}))}changeLevel(e){this.source.changeLevel(e)}changeActualLive(e){this.actualLive=e}changeProgress(...e){const[t]=e;this.rewind(t)}onStallStart(){this.perfStallCount++,this.perfPrevStallDate=Date.now()}onStallEnd(){this.perfStallDuration=this.perfStallDuration+(Date.now()-this.perfPrevStallDate)/1e3,this.perfPrevStallDate=null}changeLiveStreamMode(e){this.liveStreamMode=e}resetSource(){this.source&&this._onChangeSource(),this._destroySource(),this._resetPlayerState(),this._emit(`m-${_e.DurationChange}`,this.duration),this.source=null,this.uniqueVideoSrcIdentifier=null}getPerformanceInfo(){return{metrics:{[ge.StartupTime]:this.perfStartupTime,[ge.StallCount]:this.perfStallCount,[ge.StallDuration]:this.perfStallDuration,[ge.StallWaitRatio]:this.perfStallDuration/this.perfViewTime,[ge.StallRate]:this.perfStallCount/this.perfViewTime,[ge.ErrorsCount]:this.perfErrorsCount,[ge.ViewTime]:this.perfViewTime,[ge.TimeWeighedBitrate]:this._perfTimeWeighedBitrate,[ge.EwmaBandwidth]:this._perfBandwidthEstimate,[ge.PlayerLoadTime]:this.playerLoadTime}}}getMetaInfo(){return{identifier:this.uniqueVideoSrcIdentifier,videoResolution:this.getCurrentVideoResolution()}}on(e,t){this._emitter.on(e,t)}off(e,t){this._emitter.off(e,t)}async play(){await this.videoElement.play().then().catch((()=>({})))}pause(){this.videoElement.pause()}rewind(e){this._rewinding=!0,this.currentTime=e}loadSource(e){this.playerLoadTime=(Date.now()-this.initTime)/1e3,this.source&&this._onChangeSource(),this._destroySource(),this._resetPlayerState(),this.source=e,this.addEventSourceListeners(),this.source.attach(this.videoElement),this.uniqueVideoSrcIdentifier||(this.uniqueVideoSrcIdentifier=Pe())}recoverSource(){this.source.recover()}destroy(){this._destroySource(),this._removeVideoElementListeners(),this._clearAllEventListeners(),this._clearViewDurationInterval(),clearTimeout(this._onTimeUpdateTimeout),this.videoElement=null}};Ne=function(e,t,i,r){var s,n=arguments.length,o=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(n<3?s(o):n>3?s(t,i,o):s(t,i))||o);return n>3&&o&&Object.defineProperty(t,i,o),o}([function(e){return class extends e{firstPlayEventPassed=!1;firstEndedEventPassed=!1;src="";firstCanPlayTimerStart;firstCanPlayTimerCount;firstCanPlayTimer;mediaPlayerMetricsUpdateInterval;mediaPlayerFirstPlayTimeoutError=!1;getPlayerMetricsEventPayload(e,t){return{timestamp:performance.now(),identifier:this.uniqueVideoSrcIdentifier,externalMeta:this.metricsEventsMeta?.[e]||{},playerProps:{src:this.src,liveStreamMode:this.liveStreamMode},...t||{}}}setSourceEventListner(e,t,i=(e=>e)){this.source.on(e,(e=>this.windowDispatchEvent(t,i(e))))}windowDispatchEvent(e,t={}){window.dispatchEvent(new CustomEvent(e,{detail:this.getPlayerMetricsEventPayload(e,t)}))}canPlayThrough(){super.canPlayThrough(),window.dispatchEvent(new CustomEvent("mediaPlayerCanPlayThrough",{detail:this.getPlayerMetricsEventPayload("mediaPlayerCanPlayThrough",{loadTime:this.playerLoadTime,startupTime:this.perfStartupTime,videoResolution:this.getCurrentVideoResolution(),errorsCount:this.perfErrorsCount,errorsDetails:this.perfErrorsDetails})}))}canPlay(){if(super.canPlay(),!this.firstCanPlayEventPassed){const e=performance.now()-this.firstCanPlayTimerStart;this.firstCanPlayEventPassed=!0,e>=5e3&&(this.mediaPlayerFirstPlayTimeoutError||(this.perfErrorsCount++,this.perfErrorsDetails.timeoutError=!0))}window.dispatchEvent(new CustomEvent("mediaPlayerCanPlay",{detail:this.getPlayerMetricsEventPayload("mediaPlayerCanPlay",{loadTime:this.playerLoadTime,startupTime:this.perfStartupTime,videoResolution:this.getCurrentVideoResolution()})}))}onPlay(){this.windowDispatchEvent("mediaPlayerPlay"),this.firstPlayEventPassed||(window.dispatchEvent(new CustomEvent("mediaPlayerFirstPlay",{detail:this.getPlayerMetricsEventPayload("mediaPlayerFirstPlay")})),this.firstPlayEventPassed=!0),super.onPlay()}onPause(){this.windowDispatchEvent("mediaPlayerPause"),super.onPause()}onEnded(){this.firstEndedEventPassed||(window.dispatchEvent(new CustomEvent("mediaPlayerMetricsUpdate",{detail:this.getPlayerMetricsEventPayload("mediaPlayerMetricsUpdate",{stallCount:this.perfStallCount,stallDuration:this.perfStallDuration,viewTime:this.perfViewTime,errorsCount:this.perfErrorsCount,errorsDetails:{...this.perfErrorsDetails}})})),window.dispatchEvent(new CustomEvent("mediaPlayerFirstEnded",{detail:this.getPlayerMetricsEventPayload("mediaPlayerFirstEnded")})),this.firstEndedEventPassed=!0),super.onEnded()}onError(e){const t=Te(this.videoElement.error.code,"mp4");this.perfErrorsDetails.fatalError=t,this.perfErrorsCount++,t&&window.dispatchEvent(new CustomEvent("mediaPlayerFatalError",{detail:this.getPlayerMetricsEventPayload("mediaPlayerFatalError",{stallCount:this.perfStallCount,stallDuration:this.perfStallDuration,viewTime:this.perfViewTime,errorsCount:this.perfErrorsCount,errorsDetails:{...this.perfErrorsDetails}})})),super.onError(e)}loadSource(e){super.loadSource(e),this.firstCanPlayTimer=setInterval((()=>this.canplayIntervalHandler()),1e3)}destroy(){window.dispatchEvent(new CustomEvent("mediaPlayerMetricsUpdate",{detail:this.getPlayerMetricsEventPayload("mediaPlayerMetricsUpdate",{stallCount:this.perfStallCount,stallDuration:this.perfStallDuration,viewTime:this.perfViewTime,errorsCount:this.perfErrorsCount,errorsDetails:{...this.perfErrorsDetails}})})),window.dispatchEvent(new CustomEvent("mediaPlayerFirstEnded",{detail:this.getPlayerMetricsEventPayload("mediaPlayerFirstEnded",{destroyed:!0})})),super.destroy(),clearInterval(this.mediaPlayerMetricsUpdateInterval)}addEventSourceListeners(){this.source.on(`m-${Ee.FragLoaded}`,(e=>{const{rootUrl:t}=e;if(t===this.src){const t=e?.frag?._url;window.dispatchEvent(new CustomEvent("mediaPlayerUrlsUpdate",{detail:this.getPlayerMetricsEventPayload("mediaPlayerUrlsUpdate",{urls:[t]})}))}})),this.source.on(`m-${Ee.FragmentLoadingCompleted}`,(e=>{const{rootUrl:t}=e;if(t!==this.src)return;const i=e?.request?.url;window.dispatchEvent(new CustomEvent("mediaPlayerUrlsUpdate",{detail:this.getPlayerMetricsEventPayload("mediaPlayerUrlsUpdate",{urls:[i]})}))})),this.source.on(`m-${Ee.LevelUpdated}`,(({data:e})=>{const t=e?.details?.url;window.dispatchEvent(new CustomEvent("mediaPlayerUrlsUpdate",{detail:this.getPlayerMetricsEventPayload("mediaPlayerUrlsUpdate",{urls:[t]})}))})),this.source.on(`m-${Ee.ScriptLoadError}`,(e=>{this.perfErrorsCount++,e.fatal&&(this.perfErrorsDetails.fatalError="NETWORK_ERROR",window.dispatchEvent(new CustomEvent("mediaPlayerFatalError",{detail:this.getPlayerMetricsEventPayload("mediaPlayerFatalError",{stallCount:this.perfStallCount,stallDuration:this.perfStallDuration,viewTime:this.perfViewTime,errorsCount:this.perfErrorsCount,errorsDetails:{...this.perfErrorsDetails}})})))})),this.source.on(`m-${Ee.LogError}`,(e=>{this.perfErrorsCount++,e.fatal&&(this.perfErrorsDetails.fatalError="OTHER_ERROR",window.dispatchEvent(new CustomEvent("mediaPlayerFatalError",{detail:this.getPlayerMetricsEventPayload("mediaPlayerFatalError",{stallCount:this.perfStallCount,stallDuration:this.perfStallDuration,viewTime:this.perfViewTime,errorsCount:this.perfErrorsCount,errorsDetails:{...this.perfErrorsDetails}})})))})),this.source.on(`m-${Ee.Error}`,(e=>{let t=null;if(this.source instanceof ke){const i=e?.code;t=Te(i,"dash")}else if(this.source instanceof Ae){const{details:i,fatal:r}=e||{};t=Te(i,"hls",r)}this.perfErrorsDetails.fatalError=t,this.perfErrorsCount++,t&&window.dispatchEvent(new CustomEvent("mediaPlayerFatalError",{detail:this.getPlayerMetricsEventPayload("mediaPlayerFatalError",{stallCount:this.perfStallCount,stallDuration:this.perfStallDuration,viewTime:this.perfViewTime,errorsCount:this.perfErrorsCount,errorsDetails:{...this.perfErrorsDetails}})}))})),this.setSourceEventListner(`m-${Ee.LevelSwitched}`,"mediaPlayerLevelSwitched"),this.setSourceEventListner(`m-${Ee.FragChanged}`,"mediaPlayerFragChanged"),this.setSourceEventListner(`m-${Ee.ManifestParsed}`,"mediaPlayerManifestParsed",(({isLiveStream:e})=>({isLiveStream:e}))),super.addEventSourceListeners()}changeActualLive(e){this.windowDispatchEvent("mediaPlayerActualLivePlay",{actualLive:e}),super.changeActualLive(e)}onStallStart(){this.windowDispatchEvent("mediaPlayerStallStart"),super.onStallStart()}onStallEnd(){this.windowDispatchEvent("mediaPlayerStallEnd"),super.onStallEnd()}changeProgress(...e){const[t,i]=e;this.windowDispatchEvent("mediaPlayerRewind",{time:t,isLive:i}),super.changeProgress(...e)}canplayIntervalHandler(){this.firstCanPlayTimerCount=performance.now(),this.firstCanPlayEventPassed?clearInterval(this.firstCanPlayTimer):this.firstCanPlayTimerCount-this.firstCanPlayTimerStart>=5e3&&(this.perfErrorsCount++,this.perfErrorsDetails.timeoutError=!0,this.mediaPlayerFirstPlayTimeoutError=!0,window.dispatchEvent(new CustomEvent("mediaPlayerFirstPlayTimeoutError",{detail:this.getPlayerMetricsEventPayload("mediaPlayerFirstPlayTimeoutError",{errorsCount:this.perfErrorsCount,errorsDetails:{...this.perfErrorsDetails}})})),clearInterval(this.firstCanPlayTimer))}updateMetricsIntervalHandler(){this.firstEndedEventPassed?clearInterval(this.mediaPlayerMetricsUpdateInterval):window&&window.dispatchEvent(new CustomEvent("mediaPlayerMetricsUpdate",{detail:this.getPlayerMetricsEventPayload("mediaPlayerMetricsUpdate",{stallCount:this.perfStallCount,stallDuration:this.perfStallDuration,viewTime:this.perfViewTime,errorsCount:this.perfErrorsCount,errorsDetails:{...this.perfErrorsDetails}})}))}constructor(...e){super(...e);const t=e[0],{src:i}=t;this.src=i,this.firstCanPlayTimerStart=performance.now(),this.firstCanPlayTimerCount=this.firstCanPlayTimerStart,window&&this.windowDispatchEvent("mediaPlayerInit"),this.mediaPlayerMetricsUpdateInterval=setInterval((()=>this.updateMetricsIntervalHandler()),1e3)}}}],Ne);const Ue=[];function Ve(t,i=e){let r;const s=new Set;function n(e){if(o(t,e)&&(t=e,r)){const e=!Ue.length;for(const i of s)i[1](),Ue.push(i,t);if(e){for(let e=0;e<Ue.length;e+=2)Ue[e][0](Ue[e+1]);Ue.length=0}}}return{set:n,update:function(e){n(e(t))},subscribe:function(o,a=e){const l=[o,a];return s.add(l),1===s.size&&(r=i(n)||e),o(t),()=>{s.delete(l),0===s.size&&r&&(r(),r=null)}}}}class Be{isPlayerObjectAttached=Ve(!1);playing=Ve(!1);playingValue=!1;duration=Ve(0);durationValue=0;currentTime=Ve(0);buffered=Ve(0);playbackRate=Ve(1);levels=Ve([]);subtitlesExist=Ve(!1);activeLevel=Ve(0);actualLive=Ve(!1);autoLevel=Ve(!0);isFetchedLevelInfo=Ve(!1);notStarted=Ve(!1);ended=Ve(!1);prevPlayingState=Ve(!1);prevPlayingStateValue=!1;isMounted=Ve(!1);volumeValue=0;volume=Ve(this.volumeValue);muted=Ve(!1);mutedValue=!1;player;mediaRef;metricsEventsMeta;dispatch;dispatchExternal;id=0;tryPlayed=!1;constructor({id:e,src:t,initialVolume:i,initialMuted:r,mediaRef:s,startTime:n,loop:o,metricsEventsMeta:a,liveStreamMode:l,dispatch:d,dispatchExternal:c}){this.id=e,this.volume.update((()=>i)),this.muted.update((()=>r)),this.mediaRef=s,this.dispatch=d,this.dispatchExternal=c,this.player=new Ne({videoElement:s,playerSettings:{initialMuted:r,initialVolume:i,startTime:n,loop:o},src:t,metricsEventsMeta:a,liveStreamMode:l}),this.isPlayerObjectAttached.update((()=>!0)),this.duration.subscribe((e=>{this.durationValue=e})),this.playing.subscribe((e=>{this.playingValue=e})),this.prevPlayingState.subscribe((e=>{this.prevPlayingStateValue=e})),this.muted.subscribe((e=>{this.mutedValue=e})),this.volume.subscribe((e=>{this.volumeValue=e}))}addGlobalPlayerBusEventListeners(){document.addEventListener(ve.Play,this.onPlayerBusPlay)}removeGlobalPlayerBusEventListeners(){document.removeEventListener(ve.Play,this.onPlayerBusPlay)}onPlayerBusPlay=e=>{e.detail?.id!==this.id&&this.player?.pause()};async play(){this.tryPlayed=!0;try{await(this.player?.play())}catch(e){}}setPlayerState(){this.muted.update((()=>this.player.muted)),this.volume.update((()=>this.player.volume)),this.playing.update((()=>this.player.playing)),this.duration.update((()=>this.player.duration)),this.buffered.update((()=>this.player.buffered)),this.currentTime.update((()=>this.player.currentTime)),this.playbackRate.update((()=>this.player.playbackRate)),this.isFetchedLevelInfo.update((()=>this.player.isMediaNative))}addPlayerEventListeners(e=!1){const t={[`m-${_e.Play}`]:()=>{this.notStarted.update((()=>!1)),this.playing.update((()=>!0)),this.ended.update((()=>!1)),this.dispatchExternal(_e.Play),this.dispatchExternal(ve.Play,{id:this.id})},[`m-${_e.Pause}`]:()=>{this.playing.update((()=>!1)),this.dispatchExternal(_e.Pause)},[`m-${_e.DurationChange}`]:e=>{e!==this.durationValue&&(this.duration.update((()=>e)),this.dispatchExternal(_e.DurationChange,{duration:e}))},[`m-${_e.VolumeChange}`]:({volume:e,muted:t})=>{if(0===e&&!t)return this.muted.update((()=>!0)),void this.dispatchExternal(pe.ToggleVolume,{enabled:!1});t!==this.mutedValue&&(this.muted.update((()=>t)),this.dispatchExternal(pe.ToggleVolume,{enabled:!t})),e!==this.volumeValue&&(this.volume.update((()=>e)),this.dispatchExternal(_e.VolumeChange,{volume:e}))},[`m-${_e.TimeUpdate}`]:e=>{this.currentTime.update((()=>e)),this.dispatchExternal(_e.TimeUpdate,{currentTime:e})},[`m-${_e.BufferedUpdate}`]:e=>{this.buffered.update((()=>e)),this.dispatchExternal(_e.BufferedUpdate,{buffered:e})},[`m-${_e.PlaybackRateChange}`]:e=>{this.playbackRate.update((()=>e)),this.dispatchExternal(_e.PlaybackRateChange,e)},[`m-${_e.Ended}`]:()=>{this.ended.update((()=>!0)),this.dispatchExternal(_e.Ended)},[`m-${_e.Rewind}`]:e=>{this.dispatchExternal(_e.Rewind,e)},[`m-${_e.ViewStart}`]:()=>{this.dispatchExternal(_e.ViewStart)},[`m-${_e.ViewFinish}`]:e=>{this.dispatchExternal(_e.ViewFinish,e)},[`m-${_e.LoadedMetadata}`]:()=>{this.dispatchExternal(_e.LoadedMetadata)},[`m-${_e.CanPlay}`]:()=>{this.dispatchExternal(_e.CanPlay)},[`m-${_e.CanPlayTrough}`]:()=>{this.dispatchExternal(_e.CanPlayTrough)},[`m-${_e.LoadStart}`]:()=>{this.dispatchExternal(_e.LoadStart)},[`m-${_e.LoadingStateChange}`]:e=>{this.dispatchExternal(_e.LoadingStateChange,{isLoading:e})},[`m-${Ee.ManifestParsed}`]:({data:e})=>{const t=e.levels;e?.subtitleTracks?.length&&this.subtitlesExist.update((()=>!!e?.subtitleTracks?.length)),this.levels.update((()=>t.map(((e,t)=>({...e,realIndex:t}))).sort(((e,t)=>e.height-t.height)))),this.dispatchExternal(Ee.ManifestParsed)},[`m-${Ee.StreamInitialized}`]:e=>{const t=e.bitrates;this.levels.update((()=>t.map((({height:e,width:t,qualityIndex:i})=>({height:e,width:t,realIndex:i}))).sort(((e,t)=>e.height-t.height))))},[`m-${Ee.LevelUpdated}`]:({data:e})=>{this.isFetchedLevelInfo.update((()=>!0)),this.dispatchExternal(Ee.LevelUpdated,e)},[`m-${Ee.LevelSwitching}`]:({data:e})=>{this.activeLevel.update((()=>e?.level)),this.dispatchExternal(Ee.LevelSwitching,e)},[`m-${Ee.MediaAttach}`]:()=>{this.notStarted.update((()=>!0)),e&&this.play(),this.dispatchExternal(Ee.MediaAttach)},[`m-${Ee.Error}`]:e=>{this.dispatchExternal(_e.Error,e)},[`m-${Ee.ManifestUpdated}`]:e=>{this.dispatchExternal(Ee.ManifestUpdated,e)},[`m-${Ee.ServiceWorkerError}`]:()=>{this.dispatchExternal(_e.FailedExtraRequestHeaders,{message:"service worker can't add extra headers, reload page"})}};Object.entries(t).forEach((([e,t])=>{this.player.on(e,(i=>{t&&t(i),e===`m-${_e.TimeUpdate}`?this.dispatch(`m-${_e.TimeUpdate}`,{currentTime:i,progress:Number(i)/this.durationValue*100}):this.dispatch(e,i)}))}))}onChangeTime(e,t=!1){const i=Math.min(e,this.player.duration);this.onChangeProgress(i,t)}onTogglePlayPause(){this.playingValue?this.player?.pause():this.player?.play()}onChangeProgress(e,t){this.player.changeProgress(e,t)}onMouseDownProgress(){this.playingValue&&(this.prevPlayingState?.update((()=>!0)),this.player.pause())}onMouseUpProgress(){this.prevPlayingStateValue&&this.player?.play(),this.prevPlayingState?.update((()=>!1))}onChangePlaybackRate(e){e!==this.player.playbackRate&&this.dispatchExternal(pe.ChangePlaybackRate,{value:e}),this.player.playbackRate=e}onChangeLevel(e){this.activeLevel.update((()=>e)),this.autoLevel.update((()=>!1)),this.player.changeLevel(e)}onChangeActualLive(e){this.actualLive.update((()=>e)),this.player.changeActualLive(e)}onToggleAutoLevel(){this.autoLevel.update((()=>!0)),this.player.changeLevel(-1)}onToggleMuted(e){e!==this.mutedValue&&this.dispatchExternal(pe.ToggleVolume,{enabled:!e}),this.player.muted=e,this.muted.update((()=>e))}onChangeVolume(e){e!==this.volumeValue&&this.dispatchExternal(pe.ChangeVolume,{value:e}),this.player.volume=e,this.volume.update((()=>e))}onChangeLiveStreamMode(e){this.player.changeLiveStreamMode(e)}onUpdateSource(e){this.subtitlesExist.update((()=>!1)),e?this.player?.loadSource(e):this.player?.resetSource()}}function Fe(t){let i,r;return{c(){i=R("svg"),r=R("path"),D(r,"d","M8.68131 4C7.89528 4 7.40285 4.58389 7.13183 5.05258C6.84104 5.55549 6.62948 6.21236 6.47154 6.91472C6.15224 8.33465 6 10.1836 6 12C6 13.8164 6.15225 15.6654 6.47154 17.0853C6.62948 17.7876 6.84104 18.4445 7.13184 18.9474C7.40285 19.4161 7.89528 20 8.68131 20C9.73645 20 11.0211 19.609 12.2871 19.0684C13.5767 18.5177 14.9406 17.7706 16.1845 16.9718C17.4262 16.1743 18.5744 15.3086 19.4237 14.5115C19.8467 14.1145 20.2166 13.7149 20.4877 13.3325C20.7355 12.9829 21 12.5124 21 12C21 11.4876 20.7355 11.0171 20.4877 10.6675C20.2166 10.2851 19.8467 9.88553 19.4237 9.48852C18.5744 8.69136 17.4262 7.82569 16.1845 7.02824C14.9406 6.22943 13.5767 5.48228 12.2871 4.93159C11.0211 4.39102 9.73645 4 8.68131 4Z"),D(r,"fill","white"),D(i,"width","24"),D(i,"height","24"),D(i,"viewBox","0 0 24 24"),D(i,"fill","none"),D(i,"xmlns","http://www.w3.org/2000/svg")},m(e,t){y(e,i,t),$(i,r)},p:e,i:e,o:e,d(e){e&&b(i)}}}class He extends ce{constructor(e){super(),de(this,e,null,Fe,o,{})}}function ze(t){let i,r,s;return{c(){i=R("svg"),r=R("path"),s=R("path"),D(r,"d","M4 12C4 5 4.61775 4 7.5 4C10.3822 4 11 5 11 12C11 19 10.3822 20 7.5 20C4.61775 20 4 19 4 12Z"),D(r,"fill","white"),D(s,"d","M13 12C13 5 13.6178 4 16.5 4C19.3822 4 20 5 20 12C20 19 19.3822 20 16.5 20C13.6178 20 13 19 13 12Z"),D(s,"fill","white"),D(i,"width","24"),D(i,"height","24"),D(i,"viewBox","0 0 24 24"),D(i,"fill","none"),D(i,"xmlns","http://www.w3.org/2000/svg")},m(e,t){y(e,i,t),$(i,r),$(i,s)},p:e,i:e,o:e,d(e){e&&b(i)}}}class We extends ce{constructor(e){super(),de(this,e,null,ze,o,{})}}function je(t){let i,r;return{c(){i=R("svg"),r=R("path"),D(r,"d","M8.29289 1.29289C8.68342 0.902369 9.31658 0.902369 9.70711 1.29289C10.0976 1.68342 10.0976 2.31658 9.70711 2.70711L8.41421 4H12C16.9017 4.07088 21 8.04141 21 13C21 17.9706 16.9706 22 12 22C7.02944 22 3 17.9706 3 13C3 12.4477 3.44772 12 4 12C4.55228 12 5 12.4477 5 13C5 16.866 8.13401 20 12 20C15.866 20 19 16.866 19 13C18.9357 9.18829 15.8636 6 12 6H8.41421L9.70711 7.29289C10.0976 7.68342 10.0976 8.31658 9.70711 8.70711C9.31658 9.09763 8.68342 9.09763 8.29289 8.70711L5.29289 5.70711C4.90237 5.31658 4.90237 4.68342 5.29289 4.29289L8.29289 1.29289Z"),D(r,"fill","white"),D(i,"width","24"),D(i,"height","24"),D(i,"viewBox","0 0 24 24"),D(i,"fill","none"),D(i,"xmlns","http://www.w3.org/2000/svg")},m(e,t){y(e,i,t),$(i,r)},p:e,i:e,o:e,d(e){e&&b(i)}}}class Ke extends ce{constructor(e){super(),de(this,e,null,je,o,{})}}function Ye(e){return function(e){return q().$$.context.get(e)}(e)}function Ge(e,t){!function(e,t){q().$$.context.set(e,t)}(e,t)}function Ze(e){E(e,"svelte-4pfbxt",".playIconWrapper.svelte-4pfbxt{color:white;fill:white;scale:1.8}.pauseIconWrapper.svelte-4pfbxt{scale:1.9}.endIconWrapper.svelte-4pfbxt{scale:1.6}.playBtn.svelte-4pfbxt{display:flex;align-items:center;justify-content:center;width:116px;height:116px;background-color:rgba(3, 8, 13, 0.48);color:rgba(255, 255, 255, 0.95);border-radius:50%;outline:none;border:none;box-shadow:none;cursor:pointer}.playBtn.svelte-4pfbxt:hover{background-color:rgba(3, 8, 13, 0.58)}")}function Xe(e){let t,i,r;return i=new Ke({}),{c(){t=x("div"),oe(i.$$.fragment),D(t,"class","endIconWrapper svelte-4pfbxt")},m(e,s){y(e,t,s),ae(i,t,null),r=!0},i(e){r||(ie(i.$$.fragment,e),r=!0)},o(e){re(i.$$.fragment,e),r=!1},d(e){e&&b(t),le(i)}}}function Qe(e){let t,i,r;return i=new We({}),{c(){t=x("div"),oe(i.$$.fragment),D(t,"class","pauseIconWrapper svelte-4pfbxt")},m(e,s){y(e,t,s),ae(i,t,null),r=!0},i(e){r||(ie(i.$$.fragment,e),r=!0)},o(e){re(i.$$.fragment,e),r=!1},d(e){e&&b(t),le(i)}}}function Je(e){let t,i,r;return i=new He({}),{c(){t=x("div"),oe(i.$$.fragment),D(t,"class","playIconWrapper svelte-4pfbxt")},m(e,s){y(e,t,s),ae(i,t,null),r=!0},i(e){r||(ie(i.$$.fragment,e),r=!0)},o(e){re(i.$$.fragment,e),r=!1},d(e){e&&b(t),le(i)}}}function et(e){let t,i,r,s,n,o,a,l;const d=[Je,Qe,Xe],c=[];function u(e,t){return e[0]||e[1]?e[0]&&!e[1]?1:2:0}return i=u(e),r=c[i]=d[i](e),{c(){t=x("button"),r.c(),D(t,"class",s=v(`playBtn ${e[2]}`)+" svelte-4pfbxt"),D(t,"qa-id",n=e[6]["qa-id"]),M(t,"scale",e[3])},m(r,s){y(r,t,s),c[i].m(t,null),o=!0,a||(l=L(t,"click",e[8]),a=!0)},p(e,[a]){let l=i;i=u(e),i!==l&&(ee(),re(c[l],1,1,(()=>{c[l]=null})),te(),r=c[i],r||(r=c[i]=d[i](e),r.c()),ie(r,1),r.m(t,null)),(!o||4&a&&s!==(s=v(`playBtn ${e[2]}`)+" svelte-4pfbxt"))&&D(t,"class",s),(!o||64&a&&n!==(n=e[6]["qa-id"]))&&D(t,"qa-id",n),8&a&&M(t,"scale",e[3])},i(e){o||(ie(r),o=!0)},o(e){re(r),o=!1},d(e){e&&b(t),c[i].d(),a=!1,l()}}}function tt(e,i,r){let s,n;const o=U();let{playing:a=!1}=i,{ended:l=!1}=i,{custom_play_button_class:d}=i;const c=Ye("playerRect");return u(e,c,(e=>r(7,n=e))),e.$$set=e=>{r(6,i=t(t({},i),g(e))),"playing"in e&&r(0,a=e.playing),"ended"in e&&r(1,l=e.ended),"custom_play_button_class"in e&&r(2,d=e.custom_play_button_class)},e.$$.update=()=>{var t;128&e.$$.dirty&&r(3,(t=n.width,s=t<480?.6:t<640?.8:1))},i=g(i),[a,l,d,s,o,c,i,n,()=>o("click")]}class it extends ce{constructor(e){super(),de(this,e,tt,et,o,{playing:0,ended:1,custom_play_button_class:2},Ze)}}function rt(t){let i,r,s,n;return{c(){i=R("svg"),r=R("path"),s=R("path"),n=R("path"),D(r,"d","M9.37868 4.62132L6.62132 7.37868C6.2235 7.7765 5.56267 8 5.00006 8C3 8 3 10.3965 3 11.9999C3 13.6032 3 16 5.00006 16C5.56267 16 6.2235 16.2235 6.62132 16.6213L9.37868 19.3787C9.7765 19.7765 10.3161 20 10.8787 20C13 20 13 15 13 12C13 9 13 4 10.8787 4C10.3161 4 9.7765 4.2235 9.37868 4.62132Z"),D(r,"fill","white"),D(s,"d","M15.2929 8.29288C15.6834 7.90236 16.3195 7.90533 16.7101 8.29585C16.7997 8.38652 16.8798 8.48561 16.9563 8.58749C17.0818 8.75495 17.2397 8.99327 17.3944 9.30278C17.7056 9.92506 18 10.8272 18 12C18 13.1728 17.7056 14.0749 17.3944 14.6972C17.2397 15.0067 17.0818 15.245 16.9563 15.4125C16.88 15.5141 16.7995 15.6136 16.7101 15.7041C16.3195 16.0947 15.6834 16.0976 15.2929 15.7071C14.9057 15.3199 14.9024 14.6943 15.2829 14.303C15.4147 14.1551 15.5175 13.979 15.6056 13.8028C15.7944 13.4251 16 12.8272 16 12C16 11.1728 15.7944 10.5749 15.6056 10.1972C15.4485 9.88305 15.2982 9.71369 15.2829 9.69699C14.9024 9.30573 14.9057 8.68006 15.2929 8.29288Z"),D(s,"fill","white"),D(n,"d","M19.7141 5.29999C19.3236 4.90947 18.6834 4.9024 18.2929 5.29292C17.904 5.68177 17.9024 6.31117 18.2879 6.70209C18.6276 7.06045 18.8867 7.5094 19.1056 7.94724C19.5444 8.82495 20 10.1728 20 12C20 13.8273 19.5444 15.1751 19.1056 16.0528C18.8853 16.4933 18.6682 16.8175 18.5125 17.025C18.4419 17.1191 18.3689 17.2125 18.2879 17.298C17.9024 17.6889 17.904 18.3183 18.2929 18.7071C18.6834 19.0977 19.3181 19.0962 19.7086 18.7057C19.8556 18.5569 19.9872 18.3921 20.1125 18.225C20.3318 17.9326 20.6147 17.5068 20.8944 16.9472C21.4556 15.825 22 14.1728 22 12C22 9.82726 21.4556 8.1751 20.8944 7.05282C20.6147 6.49331 20.3318 6.06749 20.1125 5.77503C19.9887 5.60998 19.8586 5.4476 19.7141 5.29999Z"),D(n,"fill","white"),D(i,"width","24"),D(i,"height","24"),D(i,"viewBox","0 0 24 24"),D(i,"fill","none"),D(i,"xmlns","http://www.w3.org/2000/svg")},m(e,t){y(e,i,t),$(i,r),$(i,s),$(i,n)},p:e,i:e,o:e,d(e){e&&b(i)}}}class st extends ce{constructor(e){super(),de(this,e,null,rt,o,{})}}function nt(t){let i,r,s;return{c(){i=R("svg"),r=R("path"),s=R("path"),D(r,"d","M6.62132 7.37868L9.37868 4.62132C9.7765 4.2235 10.3161 4 10.8787 4C13 4 13 9 13 12C13 15 13 20 10.8787 20C10.3161 20 9.7765 19.7765 9.37868 19.3787L6.62132 16.6213C6.2235 16.2235 5.56267 16 5.00006 16C3 16 3 13.6033 3 12C3 10.3967 3 8 5.00006 8C5.56267 8 6.2235 7.7765 6.62132 7.37868Z"),D(r,"fill","white"),D(s,"d","M16.7071 9.29289C16.3166 8.90237 15.6834 8.90237 15.2929 9.29289C14.9024 9.68342 14.9024 10.3166 15.2929 10.7071L16.5858 12L15.2929 13.2929C14.9024 13.6834 14.9024 14.3166 15.2929 14.7071C15.6834 15.0976 16.3166 15.0976 16.7071 14.7071L18 13.4142L19.2929 14.7071C19.6834 15.0976 20.3166 15.0976 20.7071 14.7071C21.0976 14.3166 21.0976 13.6834 20.7071 13.2929L19.4142 12L20.7071 10.7071C21.0976 10.3166 21.0976 9.68342 20.7071 9.29289C20.3166 8.90237 19.6834 8.90237 19.2929 9.29289L18 10.5858L16.7071 9.29289Z"),D(s,"fill","white"),D(i,"width","24"),D(i,"height","24"),D(i,"viewBox","0 0 24 24"),D(i,"fill","none"),D(i,"xmlns","http://www.w3.org/2000/svg")},m(e,t){y(e,i,t),$(i,r),$(i,s)},p:e,i:e,o:e,d(e){e&&b(i)}}}class ot extends ce{constructor(e){super(),de(this,e,null,nt,o,{})}}function at(e){E(e,"svelte-1y4nlaz",".audioControl.svelte-1y4nlaz{display:flex;cursor:pointer;height:24px}.range.svelte-1y4nlaz{position:relative;display:flex;justify-content:flex-start;width:var(--exRangeWidth);max-width:0;height:100%;box-sizing:border-box;text-align:center;transition:0.1s}.visible.svelte-1y4nlaz{max-width:var(--exRangeWidth);margin-left:var(--exThumbSize)}.barWrapper.svelte-1y4nlaz{position:relative;width:100%;max-width:0;height:100%;box-sizing:border-box;text-align:center;transition:0.2s}.visibleBarWrapper.svelte-1y4nlaz{max-width:100%}.input.svelte-1y4nlaz{position:absolute;z-index:5;width:100%;height:100%;margin:0;display:inline-block;opacity:0;cursor:pointer}.bar.svelte-1y4nlaz{position:absolute;height:4px;top:50%;left:0;border-radius:44px;margin-top:-1px;width:100%;background-color:rgba(255, 255, 255, 0.6);pointer-events:none}.progress.svelte-1y4nlaz{position:absolute;border-radius:44px;top:50%;left:0;margin-top:-1px;height:4px;background:rgb(245, 247, 250);pointer-events:none}.thumb.svelte-1y4nlaz{position:absolute;top:50%;margin-top:-3.2px;width:var(--exThumbSize);height:var(--exThumbSize);background:rgb(245, 247, 250);border-radius:50%;pointer-events:none;box-shadow:0 6px 16px 2px rgba(0, 26, 52, 0.16), 0 0 0 1px rgba(0, 26, 52, 0.05)}")}function lt(e){let t,i;return t=new ot({}),{c(){oe(t.$$.fragment)},m(e,r){ae(t,e,r),i=!0},i(e){i||(ie(t.$$.fragment,e),i=!0)},o(e){re(t.$$.fragment,e),i=!1},d(e){le(t,e)}}}function dt(e){let t,i;return t=new st({}),{c(){oe(t.$$.fragment)},m(e,r){ae(t,e,r),i=!0},i(e){i||(ie(t.$$.fragment,e),i=!0)},o(e){re(t.$$.fragment,e),i=!1},d(e){le(t,e)}}}function ct(e){let t,i,r,s,n,o,a,l,d,c=e[4]&&ut(e);return{c(){t=x("div"),i=x("input"),s=P(),n=x("div"),o=x("div"),a=P(),c&&c.c(),D(i,"type","range"),D(i,"step","0.1"),D(i,"class","input svelte-1y4nlaz"),i.value=e[0],D(i,"max","1"),D(i,"min","0"),D(i,"qa-id",r=`${e[11]["qa-id"]}.volume-bar`),D(o,"class","bar svelte-1y4nlaz"),D(n,"class","barWrapper svelte-1y4nlaz"),I(n,"visibleBarWrapper",e[4]),D(t,"class","range svelte-1y4nlaz"),I(t,"visible",e[3])},m(r,u){y(r,t,u),$(t,i),$(t,s),$(t,n),$(n,o),$(n,a),c&&c.m(n,null),l||(d=L(i,"input",e[7]),l=!0)},p(e,s){1&s&&(i.value=e[0]),2048&s&&r!==(r=`${e[11]["qa-id"]}.volume-bar`)&&D(i,"qa-id",r),e[4]?c?c.p(e,s):(c=ut(e),c.c(),c.m(n,null)):c&&(c.d(1),c=null),16&s&&I(n,"visibleBarWrapper",e[4]),8&s&&I(t,"visible",e[3])},d(e){e&&b(t),c&&c.d(),l=!1,d()}}}function ut(e){let t,i,r,s;return{c(){t=x("div"),i=P(),r=x("div"),D(t,"class","progress svelte-1y4nlaz"),M(t,"width",e[6]),D(r,"class","thumb svelte-1y4nlaz"),D(r,"qa-id",s=`${e[11]["qa-id"]}.volume-bar.thumb`),M(r,"left",`${e[2]}%`)},m(e,s){y(e,t,s),y(e,i,s),y(e,r,s)},p(e,i){64&i&&M(t,"width",e[6]),2048&i&&s!==(s=`${e[11]["qa-id"]}.volume-bar.thumb`)&&D(r,"qa-id",s),4&i&&M(r,"left",`${e[2]}%`)},d(e){e&&b(t),e&&b(i),e&&b(r)}}}function ht(e){let t,i,r,n,o,a,l,d,c,u;const h=[dt,lt],_=[];function p(e,t){return e[1]?1:0}r=p(e),n=_[r]=h[r](e);let m=e[5]&&ct(e);return{c(){t=x("div"),i=x("div"),n.c(),a=P(),m&&m.c(),D(i,"class","audioControlIcon"),D(i,"qa-id",o=`${e[11]["qa-id"]}.volume-btn`),D(t,"class","audioControl svelte-1y4nlaz"),M(t,"--exRangeWidth",_t+"px"),M(t,"--exThumbSize",pt+"px"),D(t,"qa-id",l=`${e[11]["qa-id"]}`)},m(s,n){y(s,t,n),$(t,i),_[r].m(i,null),$(t,a),m&&m.m(t,null),d=!0,c||(u=[L(i,"click",e[8]),L(t,"mouseenter",e[9]),L(t,"mouseleave",e[10])],c=!0)},p(e,[s]){let a=r;r=p(e),r!==a&&(ee(),re(_[a],1,1,(()=>{_[a]=null})),te(),n=_[r],n||(n=_[r]=h[r](e),n.c()),ie(n,1),n.m(i,null)),(!d||2048&s&&o!==(o=`${e[11]["qa-id"]}.volume-btn`))&&D(i,"qa-id",o),e[5]?m?m.p(e,s):(m=ct(e),m.c(),m.m(t,null)):m&&(m.d(1),m=null),(!d||2048&s&&l!==(l=`${e[11]["qa-id"]}`))&&D(t,"qa-id",l)},i(e){d||(ie(n),d=!0)},o(e){re(n),d=!1},d(e){e&&b(t),_[r].d(),m&&m.d(),c=!1,s(u)}}}const _t=56,pt=8;function mt(e,i,r){let s,n,o,{volume:a=1}=i,{muted:l=!1}=i,{is_mobile:d=!1}=i,{only_toggle_audio_control:c=!1}=i,u=!1,h=!1,_=null;const p=U();return e.$$set=e=>{r(11,i=t(t({},i),g(e))),"volume"in e&&r(0,a=e.volume),"muted"in e&&r(1,l=e.muted),"is_mobile"in e&&r(12,d=e.is_mobile),"only_toggle_audio_control"in e&&r(13,c=e.only_toggle_audio_control)},e.$$.update=()=>{1&e.$$.dirty&&r(2,s=100*a*((_t-pt)/_t)),4&e.$$.dirty&&r(6,n=`calc(${s}% + ${pt/2}px)`),12288&e.$$.dirty&&r(5,o=!d&&!c)},i=g(i),[a,l,s,u,h,o,n,e=>{p("m-volumeChange",e?.target?.value)},()=>{p("m-toggleMuted",!l)},function(){o&&(r(3,u=!0),clearTimeout(_),_=setTimeout((()=>{clearTimeout(_),r(4,h=!0)}),200))},function(){o&&(r(4,h=!1),clearTimeout(_),_=setTimeout((()=>{clearTimeout(_),r(3,u=!1)}),200))},i,d,c]}class ft extends ce{constructor(e){super(),de(this,e,mt,ht,o,{volume:0,muted:1,is_mobile:12,only_toggle_audio_control:13},at)}}function gt(t){let i,r;return{c(){i=R("svg"),r=R("path"),D(r,"d","M8.77971 6.42223C8.38846 6.30058 7.99459 6.18796 7.60102 6.07415C5.84621 5.56671 5.39693 5.4368 4.20576 7.49996C3.0146 9.56312 3.35174 9.88725 4.6686 11.1532C4.96394 11.4372 5.25841 11.722 5.55938 12C5.25849 12.2779 4.9641 12.5626 4.66884 12.8465C3.35198 14.1124 3.0146 14.4368 4.20576 16.5C5.39693 18.5631 5.84646 18.4331 7.60127 17.9257C7.99365 17.8122 8.38964 17.699 8.7797 17.5777C8.86985 17.9769 8.9695 18.3753 9.0676 18.7725C9.50555 20.546 9.61768 21 12 21C14.3824 21 14.4945 20.546 14.9324 18.7725C15.0307 18.3748 15.1301 17.9774 15.2203 17.5777C15.6106 17.6991 16.0034 17.8114 16.396 17.9249C18.1508 18.4324 18.603 18.5631 19.7942 16.5C20.9854 14.4368 20.6482 14.1127 19.3314 12.8467C19.036 12.5628 18.7416 12.278 18.4406 12C18.7416 11.722 19.0361 11.4372 19.3314 11.1532C20.6483 9.88725 20.9854 9.56313 19.7943 7.49996C18.6031 5.4368 18.1538 5.56671 16.399 6.07415C16.0054 6.18796 15.6116 6.30058 15.2203 6.42223C15.13 6.02259 15.0306 5.6252 14.9324 5.22747C14.4945 3.45404 14.3824 3 12 3C9.61768 3 9.50523 3.45534 9.06728 5.22877C8.96917 5.62606 8.86988 6.02303 8.77971 6.42223ZM12 15C10.3431 15 9 13.6569 9 12C9 10.3431 10.3431 9 12 9C13.6569 9 15 10.3431 15 12C15 13.6569 13.6569 15 12 15Z"),D(r,"fill","white"),D(i,"width","24"),D(i,"height","24"),D(i,"viewBox","0 0 24 24"),D(i,"fill","none"),D(i,"xmlns","http://www.w3.org/2000/svg")},m(e,t){y(e,i,t),$(i,r)},p:e,i:e,o:e,d(e){e&&b(i)}}}class vt extends ce{constructor(e){super(),de(this,e,null,gt,o,{})}}function wt(t){let i,r;return{c(){i=R("svg"),r=R("path"),D(r,"d","M11.7071 5.29289C12.0976 5.68342 12.0976 6.31658 11.7071 6.70711L7.41421 11H20C20.5523 11 21 11.4477 21 12C21 12.5523 20.5523 13 20 13H7.41421L11.7071 17.2929C12.0976 17.6834 12.0976 18.3166 11.7071 18.7071C11.3166 19.0976 10.6834 19.0976 10.2929 18.7071L4.29289 12.7071C3.90237 12.3166 3.90237 11.6834 4.29289 11.2929L10.2929 5.29289C10.6834 4.90237 11.3166 4.90237 11.7071 5.29289Z"),D(r,"fill","white"),D(i,"width","24"),D(i,"height","24"),D(i,"viewBox","0 0 24 24"),D(i,"fill","none"),D(i,"xmlns","http://www.w3.org/2000/svg")},m(e,t){y(e,i,t),$(i,r)},p:e,i:e,o:e,d(e){e&&b(i)}}}class $t extends ce{constructor(e){super(),de(this,e,null,wt,o,{})}}function Et(t){let i,r;return{c(){i=R("svg"),r=R("path"),D(r,"d","M18.7071 7.29289C19.0976 7.68342 19.0976 8.31658 18.7071 8.70711L10.7071 16.7071C10.3166 17.0976 9.68342 17.0976 9.29289 16.7071L5.29289 12.7071C4.90237 12.3166 4.90237 11.6834 5.29289 11.2929C5.68342 10.9024 6.31658 10.9024 6.70711 11.2929L10 14.5858L17.2929 7.29289C17.6834 6.90237 18.3166 6.90237 18.7071 7.29289Z"),D(r,"fill","white"),D(i,"width","24"),D(i,"height","24"),D(i,"viewBox","0 0 24 24"),D(i,"fill","none"),D(i,"xmlns","http://www.w3.org/2000/svg")},m(e,t){y(e,i,t),$(i,r)},p:e,i:e,o:e,d(e){e&&b(i)}}}class yt extends ce{constructor(e){super(),de(this,e,null,Et,o,{})}}const bt=e=>{e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()};function Ct(e){E(e,"svelte-ow1uc2",".settingsMenu.svelte-ow1uc2.svelte-ow1uc2{position:absolute;top:100%;right:0;height:fit-content;padding:4px 0;background-color:rgba(0, 17, 34, 0.7);transform:translate(0, calc(-100% - 58px));box-shadow:0 8px 16px -2px rgba(0, 0, 0, 0.12);filter:drop-shadow(0 0 2px rgba(0, 0, 0, 0.12));border-radius:16px;box-sizing:border-box;z-index:100;overflow:auto}.items.svelte-ow1uc2.svelte-ow1uc2{display:flex;flex-direction:column;max-height:380px;margin:10px 0;overflow:auto}.item.svelte-ow1uc2.svelte-ow1uc2{display:flex;justify-content:space-between;width:100%;padding:10px 12px;color:rgba(255, 255, 255, 0.95);font-weight:400;font-size:15px;line-height:24px;text-align:left;cursor:pointer;box-sizing:border-box;white-space:nowrap}.item.svelte-ow1uc2.svelte-ow1uc2:hover{background-color:rgba(97, 131, 162, 0.1)}.value.svelte-ow1uc2.svelte-ow1uc2{margin-left:50px}.title.svelte-ow1uc2.svelte-ow1uc2{display:flex;align-items:center;justify-content:left;gap:16px;width:100%;padding:10px 12px;color:rgba(255, 255, 255, 0.95);font-size:15px;font-weight:600;line-height:24px;text-align:center;border-bottom:1px solid rgba(255, 255, 255, 0.15);box-sizing:border-box}.title.svelte-ow1uc2>div.svelte-ow1uc2{display:flex;align-items:center;cursor:pointer}.rateControl.svelte-ow1uc2.svelte-ow1uc2{width:168px;height:fit-content}.rate.svelte-ow1uc2.svelte-ow1uc2{display:flex;justify-content:space-between;width:100%;padding:10px 12px;color:rgba(255, 255, 255, 0.95);font-weight:400;font-size:15px;line-height:24px;text-align:left;cursor:pointer;box-sizing:border-box}.rate.svelte-ow1uc2.svelte-ow1uc2:hover{background-color:rgba(97, 131, 162, 0.1)}.levelControl.svelte-ow1uc2.svelte-ow1uc2{width:168px;height:fit-content}.level.svelte-ow1uc2.svelte-ow1uc2{display:flex;justify-content:space-between;width:100%;padding:10px 12px;color:rgba(255, 255, 255, 0.95);font-weight:400;font-size:15px;line-height:24px;text-align:left;cursor:pointer;box-sizing:border-box}.level.svelte-ow1uc2.svelte-ow1uc2:hover{background-color:rgba(97, 131, 162, 0.1)}.iconWrapper.svelte-ow1uc2.svelte-ow1uc2{display:flex}")}function xt(e,t,i){const r=e.slice();return r[29]=t[i],r}function Rt(e,t,i){const r=e.slice();return r[32]=t[i],r}function St(e){let t,i,r,s,n,o,a=e[9]&&Pt(e),l=e[7]===e[6].Settings&&Lt(e),d=e[7]===e[6].Rates&&Dt(e),c=e[7]===e[6].Levels&&kt(e);return{c(){t=x("div"),a&&a.c(),i=P(),l&&l.c(),r=P(),d&&d.c(),s=P(),c&&c.c(),D(t,"class","settingsMenu svelte-ow1uc2"),D(t,"qa-id",n=`${e[20]["qa-id"]}`),M(t,"max-height",e[8])},m(e,n){y(e,t,n),a&&a.m(t,null),$(t,i),l&&l.m(t,null),$(t,r),d&&d.m(t,null),$(t,s),c&&c.m(t,null),o=!0},p(e,u){e[9]?a?(a.p(e,u),512&u[0]&&ie(a,1)):(a=Pt(e),a.c(),ie(a,1),a.m(t,i)):a&&(ee(),re(a,1,1,(()=>{a=null})),te()),e[7]===e[6].Settings?l?l.p(e,u):(l=Lt(e),l.c(),l.m(t,r)):l&&(l.d(1),l=null),e[7]===e[6].Rates?d?(d.p(e,u),192&u[0]&&ie(d,1)):(d=Dt(e),d.c(),ie(d,1),d.m(t,s)):d&&(ee(),re(d,1,1,(()=>{d=null})),te()),e[7]===e[6].Levels?c?(c.p(e,u),192&u[0]&&ie(c,1)):(c=kt(e),c.c(),ie(c,1),c.m(t,null)):c&&(ee(),re(c,1,1,(()=>{c=null})),te()),(!o||1048576&u[0]&&n!==(n=`${e[20]["qa-id"]}`))&&D(t,"qa-id",n),256&u[0]&&M(t,"max-height",e[8])},i(e){o||(ie(a),ie(d),ie(c),o=!0)},o(e){re(a),re(d),re(c),o=!1},d(e){e&&b(t),a&&a.d(),l&&l.d(),d&&d.d(),c&&c.d()}}}function Pt(e){let t,i,r,s,n=e[12]===e[6].Settings&&Tt(e);return{c(){t=x("div"),n&&n.c(),i=P(),r=S(e[9]),D(t,"class","title svelte-ow1uc2")},m(e,o){y(e,t,o),n&&n.m(t,null),$(t,i),$(t,r),s=!0},p(e,o){e[12]===e[6].Settings?n?(n.p(e,o),4160&o[0]&&ie(n,1)):(n=Tt(e),n.c(),ie(n,1),n.m(t,i)):n&&(ee(),re(n,1,1,(()=>{n=null})),te()),(!s||512&o[0])&&O(r,e[9])},i(e){s||(ie(n),s=!0)},o(e){re(n),s=!1},d(e){e&&b(t),n&&n.d()}}}function Tt(e){let t,i,r,s,n,o;return i=new $t({}),{c(){t=x("div"),oe(i.$$.fragment),D(t,"qa-id",r=`${e[20]["qa-id"]}.back-btn`),D(t,"class","svelte-ow1uc2")},m(r,a){y(r,t,a),ae(i,t,null),s=!0,n||(o=L(t,"click",e[19]),n=!0)},p(e,i){(!s||1048576&i[0]&&r!==(r=`${e[20]["qa-id"]}.back-btn`))&&D(t,"qa-id",r)},i(e){s||(ie(i.$$.fragment,e),s=!0)},o(e){re(i.$$.fragment,e),s=!1},d(e){e&&b(t),le(i),n=!1,o()}}}function Lt(e){let t,i,r,n,o,a,l,d,c,u,h,_,p,m;return{c(){t=x("div"),i=x("div"),r=S("\n          "),n=x("div"),o=S(e[11]),l=P(),d=x("div"),c=S(" \n          "),u=x("div"),h=S(e[10]),D(n,"class","value svelte-ow1uc2"),D(i,"class","item svelte-ow1uc2"),D(i,"qa-id",a=`${e[20]["qa-id"]}.level`),D(u,"class","value svelte-ow1uc2"),D(d,"class","item svelte-ow1uc2"),D(d,"qa-id",_=`${e[20]["qa-id"]}.playback-rate`),D(t,"class","items svelte-ow1uc2")},m(s,a){y(s,t,a),$(t,i),$(i,r),$(i,n),$(n,o),$(t,l),$(t,d),$(d,c),$(d,u),$(u,h),p||(m=[L(i,"click",e[17]),L(d,"click",e[18])],p=!0)},p(e,t){2048&t[0]&&O(o,e[11]),1048576&t[0]&&a!==(a=`${e[20]["qa-id"]}.level`)&&D(i,"qa-id",a),1024&t[0]&&O(h,e[10]),1048576&t[0]&&_!==(_=`${e[20]["qa-id"]}.playback-rate`)&&D(d,"qa-id",_)},d(e){e&&b(t),p=!1,s(m)}}}function Dt(e){let t,i,r=[],s=new Map,n=e[1];const o=e=>e[32].value;for(let a=0;a<n.length;a+=1){let t=Rt(e,n,a),i=o(t);s.set(i,r[a]=At(i,t))}return{c(){t=x("div");for(let e=0;e<r.length;e+=1)r[e].c();D(t,"class","rateControl svelte-ow1uc2")},m(e,s){y(e,t,s);for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(t,null);i=!0},p(e,i){1064966&i[0]&&(n=e[1],ee(),r=ne(r,i,o,1,e,n,s,t,se,At,null,Rt),te())},i(e){if(!i){for(let e=0;e<n.length;e+=1)ie(r[e]);i=!0}},o(e){for(let t=0;t<r.length;t+=1)re(r[t]);i=!1},d(e){e&&b(t);for(let t=0;t<r.length;t+=1)r[t].d()}}}function Ot(e){let t,i=e[32].title+"";return{c(){t=S(i)},m(e,i){y(e,t,i)},p(e,r){2&r[0]&&i!==(i=e[32].title+"")&&O(t,i)},d(e){e&&b(t)}}}function Mt(t){let i;return{c(){i=S("")},m(e,t){y(e,i,t)},p:e,d(e){e&&b(i)}}}function It(e){let t,i,r,s;return i=new yt({}),{c(){t=x("div"),oe(i.$$.fragment),D(t,"qa-id",r=`${e[20]["qa-id"]}.playback-rate.${e[32].title}.checked`),D(t,"class","iconWrapper svelte-ow1uc2")},m(e,r){y(e,t,r),ae(i,t,null),s=!0},p(e,i){(!s||1048578&i[0]&&r!==(r=`${e[20]["qa-id"]}.playback-rate.${e[32].title}.checked`))&&D(t,"qa-id",r)},i(e){s||(ie(i.$$.fragment,e),s=!0)},o(e){re(i.$$.fragment,e),s=!1},d(e){e&&b(t),le(i)}}}function At(e,t){let i,r,s,n,o,a,l;function d(e,t){return"1x"===e[32].title?Mt:Ot}let c=d(t),u=c(t),h=t[32].value===t[2]&&It(t);function _(...e){return t[24](t[32],...e)}return{key:e,first:null,c(){i=x("div"),u.c(),r=P(),h&&h.c(),s=P(),D(i,"class","rate svelte-ow1uc2"),D(i,"qa-id",n=`${t[20]["qa-id"]}.playback-rate.${t[32].title}`),this.first=i},m(e,t){y(e,i,t),u.m(i,null),$(i,r),h&&h.m(i,null),$(i,s),o=!0,a||(l=L(i,"click",_),a=!0)},p(e,a){c===(c=d(t=e))&&u?u.p(t,a):(u.d(1),u=c(t),u&&(u.c(),u.m(i,r))),t[32].value===t[2]?h?(h.p(t,a),6&a[0]&&ie(h,1)):(h=It(t),h.c(),ie(h,1),h.m(i,s)):h&&(ee(),re(h,1,1,(()=>{h=null})),te()),(!o||1048578&a[0]&&n!==(n=`${t[20]["qa-id"]}.playback-rate.${t[32].title}`))&&D(i,"qa-id",n)},i(e){o||(ie(h),o=!0)},o(e){re(h),o=!1},d(e){e&&b(i),u.d(),h&&h.d(),a=!1,l()}}}function kt(e){let t,i,r,s,n,o,a,l,d=[],c=new Map,u=e[3];const h=e=>e[29].realIndex;for(let p=0;p<u.length;p+=1){let t=xt(e,u,p),i=h(t);c.set(i,d[p]=Nt(i,t))}let _=e[5]&&Ut(e);return{c(){t=x("div");for(let e=0;e<d.length;e+=1)d[e].c();i=P(),r=x("div"),s=S("\n          "),_&&_.c(),D(r,"class","level svelte-ow1uc2"),D(r,"qa-id",n=`${e[20]["qa-id"]}.level.auto`),D(t,"class","levelControl svelte-ow1uc2")},m(n,c){y(n,t,c);for(let e=0;e<d.length;e+=1)d[e]&&d[e].m(t,null);$(t,i),$(t,r),$(r,s),_&&_.m(r,null),o=!0,a||(l=L(r,"click",e[16]),a=!0)},p(e,s){1081400&s[0]&&(u=e[3],ee(),d=ne(d,s,h,1,e,u,c,t,se,Nt,i,xt),te()),e[5]?_?(_.p(e,s),32&s[0]&&ie(_,1)):(_=Ut(e),_.c(),ie(_,1),_.m(r,null)):_&&(ee(),re(_,1,1,(()=>{_=null})),te()),(!o||1048576&s[0]&&n!==(n=`${e[20]["qa-id"]}.level.auto`))&&D(r,"qa-id",n)},i(e){if(!o){for(let e=0;e<u.length;e+=1)ie(d[e]);ie(_),o=!0}},o(e){for(let t=0;t<d.length;t+=1)re(d[t]);re(_),o=!1},d(e){e&&b(t);for(let t=0;t<d.length;t+=1)d[t].d();_&&_.d(),a=!1,l()}}}function qt(e){let t,i,r,s;return i=new yt({}),{c(){t=x("div"),oe(i.$$.fragment),D(t,"qa-id",r=`${e[20]["qa-id"]}.level.${e[29].height}p.checked`),D(t,"class","iconWrapper svelte-ow1uc2")},m(e,r){y(e,t,r),ae(i,t,null),s=!0},p(e,i){(!s||1048584&i[0]&&r!==(r=`${e[20]["qa-id"]}.level.${e[29].height}p.checked`))&&D(t,"qa-id",r)},i(e){s||(ie(i.$$.fragment,e),s=!0)},o(e){re(i.$$.fragment,e),s=!1},d(e){e&&b(t),le(i)}}}function Nt(e,t){let i,r,s,n,o,a,l,d=`${t[29].height}p`,c=!t[5]&&t[29].realIndex===t[4]&&qt(t);function u(...e){return t[25](t[29],...e)}return{key:e,first:null,c(){i=x("div"),r=S(d),s=P(),c&&c.c(),D(i,"class","level svelte-ow1uc2"),D(i,"qa-id",n=`${t[20]["qa-id"]}.level.${t[29].height}p`),this.first=i},m(e,t){y(e,i,t),$(i,r),$(i,s),c&&c.m(i,null),o=!0,a||(l=L(i,"click",u),a=!0)},p(e,s){t=e,(!o||8&s[0])&&d!==(d=`${t[29].height}p`)&&O(r,d),t[5]||t[29].realIndex!==t[4]?c&&(ee(),re(c,1,1,(()=>{c=null})),te()):c?(c.p(t,s),56&s[0]&&ie(c,1)):(c=qt(t),c.c(),ie(c,1),c.m(i,null)),(!o||1048584&s[0]&&n!==(n=`${t[20]["qa-id"]}.level.${t[29].height}p`))&&D(i,"qa-id",n)},i(e){o||(ie(c),o=!0)},o(e){re(c),o=!1},d(e){e&&b(i),c&&c.d(),a=!1,l()}}}function Ut(e){let t,i,r,s;return i=new yt({}),{c(){t=x("div"),oe(i.$$.fragment),D(t,"qa-id",r=`${e[20]["qa-id"]}.level.auto.checked`),D(t,"class","iconWrapper svelte-ow1uc2")},m(e,r){y(e,t,r),ae(i,t,null),s=!0},p(e,i){(!s||1048576&i[0]&&r!==(r=`${e[20]["qa-id"]}.level.auto.checked`))&&D(t,"qa-id",r)},i(e){s||(ie(i.$$.fragment,e),s=!0)},o(e){re(i.$$.fragment,e),s=!1},d(e){e&&b(t),le(i)}}}function Vt(e){let t,i,r=e[0]&&St(e);return{c(){r&&r.c(),t=T()},m(e,s){r&&r.m(e,s),y(e,t,s),i=!0},p(e,i){e[0]?r?(r.p(e,i),1&i[0]&&ie(r,1)):(r=St(e),r.c(),ie(r,1),r.m(t.parentNode,t)):r&&(ee(),re(r,1,1,(()=>{r=null})),te())},i(e){i||(ie(r),i=!0)},o(e){re(r),i=!1},d(e){r&&r.d(e),e&&b(t)}}}function Bt(e,i,r){let s;var n;!function(e){e[e.Settings=0]="Settings",e[e.Levels=1]="Levels",e[e.Rates=2]="Rates"}(n||(n={}));const o=[{title:"0,25x",value:.25},{title:"0,5x",value:.5},{title:"0,75x",value:.75},{title:"1x",value:1},{title:"1,25x",value:1.25},{title:"1,5x",value:1.5},{title:"2,0x",value:2}],a=U();let l,{show:d=!1}=i,{rates:c=o}=i,{active_rate:h=1}=i,{levels:_=[]}=i,{active_level:p=-1}=i,{auto_level:m=!0}=i,{show_level_settings:f=!1}=i,{show_rate_settings:v=!1}=i,w=n.Settings,$="",E="",y="",b=n.Settings;const C=Ye("playerRect");function x(e,t){r(12,b=e&&!t?n.Levels:!e&&t?n.Rates:n.Settings),r(7,w=b)}function R(e,t){bt(e),a("m-changePlaybackRate",t.value),r(7,w=b)}function S(e,t){bt(e),a("m-changeLevel",t.realIndex),r(7,w=b)}return u(e,C,(e=>r(23,s=e))),e.$$set=e=>{r(20,i=t(t({},i),g(e))),"show"in e&&r(0,d=e.show),"rates"in e&&r(1,c=e.rates),"active_rate"in e&&r(2,h=e.active_rate),"levels"in e&&r(3,_=e.levels),"active_level"in e&&r(4,p=e.active_level),"auto_level"in e&&r(5,m=e.auto_level),"show_level_settings"in e&&r(21,f=e.show_level_settings),"show_rate_settings"in e&&r(22,v=e.show_rate_settings)},e.$$.update=()=>{if(6291457&e.$$.dirty[0]&&(d||x(f,v)),8388608&e.$$.dirty[0]&&r(8,l=s.height?s.height-100+"px":"200px"),6291456&e.$$.dirty[0]&&x(f,v),192&e.$$.dirty[0]&&(w===n.Rates?r(9,$=""):w===n.Levels?r(9,$=""):r(9,$="")),4&e.$$.dirty[0]&&r(10,E=1===h?"":`${h}x`),56&e.$$.dirty[0]){const e=_.find((e=>e.realIndex===p));r(11,y=e?m?` (${e.height}p)`:`${e.height}p`:"")}},i=g(i),[d,c,h,_,p,m,n,w,l,$,E,y,b,C,R,S,function(e){bt(e),a("m-toggleAutoLevel"),r(7,w=b)},function(e){bt(e),r(7,w=n.Levels)},function(e){bt(e),r(7,w=n.Rates)},function(e){bt(e),r(7,w=b)},i,f,v,s,(e,t)=>R(t,e),(e,t)=>S(t,e)]}class Ft extends ce{constructor(e){super(),de(this,e,Bt,Vt,o,{show:0,rates:1,active_rate:2,levels:3,active_level:4,auto_level:5,show_level_settings:21,show_rate_settings:22},Ct,[-1,-1])}}function Ht(t){let i,r,s,n,o;return{c(){i=R("svg"),r=R("path"),s=R("path"),n=R("path"),o=R("path"),D(r,"d","M3 4C3 3.44772 3.44772 3 4 3H9C9.55229 3 10 3.44772 10 4C10 4.55228 9.55229 5 9 5H5V9C5 9.55229 4.55228 10 4 10C3.44772 10 3 9.55229 3 9V4Z"),D(r,"fill","white"),D(s,"d","M20 3C20.5523 3 21 3.44772 21 4V9C21 9.55229 20.5523 10 20 10C19.4477 10 19 9.55229 19 9V5H15C14.4477 5 14 4.55228 14 4C14 3.44772 14.4477 3 15 3H20Z"),D(s,"fill","white"),D(n,"d","M3 15V20C3 20.5523 3.44772 21 4 21H9C9.55229 21 10 20.5523 10 20C10 19.4477 9.55229 19 9 19H5V15C5 14.4477 4.55228 14 4 14C3.44772 14 3 14.4477 3 15Z"),D(n,"fill","white"),D(o,"d","M19 15V19H15C14.4477 19 14 19.4477 14 20C14 20.5523 14.4477 21 15 21H20C20.5523 21 21 20.5523 21 20V15C21 14.4477 20.5523 14 20 14C19.4477 14 19 14.4477 19 15Z"),D(o,"fill","white"),D(i,"width","24"),D(i,"height","24"),D(i,"viewBox","0 0 24 24"),D(i,"fill","none"),D(i,"xmlns","http://www.w3.org/2000/svg")},m(e,t){y(e,i,t),$(i,r),$(i,s),$(i,n),$(i,o)},p:e,i:e,o:e,d(e){e&&b(i)}}}class zt extends ce{constructor(e){super(),de(this,e,null,Ht,o,{})}}function Wt(t){let i,r,s,n,o;return{c(){i=R("svg"),r=R("path"),s=R("path"),n=R("path"),o=R("path"),D(r,"d","M10 9C10 9.55228 9.55228 10 9 10H4C3.44771 10 3 9.55228 3 9C3 8.44772 3.44771 8 4 8H8V4C8 3.44771 8.44772 3 9 3C9.55228 3 10 3.44771 10 4V9Z"),D(r,"fill","white"),D(s,"d","M15 10C14.4477 10 14 9.55228 14 9V4C14 3.44771 14.4477 3 15 3C15.5523 3 16 3.44771 16 4V8H20C20.5523 8 21 8.44772 21 9C21 9.55228 20.5523 10 20 10H15Z"),D(s,"fill","white"),D(n,"d","M10 20V15C10 14.4477 9.55228 14 9 14H4C3.44771 14 3 14.4477 3 15C3 15.5523 3.44771 16 4 16H8V20C8 20.5523 8.44772 21 9 21C9.55228 21 10 20.5523 10 20Z"),D(n,"fill","white"),D(o,"d","M16 20V16H20C20.5523 16 21 15.5523 21 15C21 14.4477 20.5523 14 20 14H15C14.4477 14 14 14.4477 14 15V20C14 20.5523 14.4477 21 15 21C15.5523 21 16 20.5523 16 20Z"),D(o,"fill","white"),D(i,"width","24"),D(i,"height","24"),D(i,"viewBox","0 0 24 24"),D(i,"fill","none"),D(i,"xmlns","http://www.w3.org/2000/svg")},m(e,t){y(e,i,t),$(i,r),$(i,s),$(i,n),$(i,o)},p:e,i:e,o:e,d(e){e&&b(i)}}}class jt extends ce{constructor(e){super(),de(this,e,null,Wt,o,{})}}function Kt(t){let i,r,s;return{c(){i=R("svg"),r=R("path"),s=R("path"),D(r,"d","M6.52814 5.11833C6.8533 4.94431 7.24784 4.96338 7.5547 5.16795L10.5547 7.16795C10.8329 7.35342 11 7.66565 11 8C11 8.33436 10.8329 8.64659 10.5547 8.83205L7.5547 10.8321C7.24784 11.0366 6.8533 11.0557 6.52814 10.8817C6.20298 10.7077 6 10.3688 6 10V6C6 5.63121 6.20298 5.29235 6.52814 5.11833Z"),D(r,"fill","white"),D(s,"d","M8 2C4.68629 2 2 4.68629 2 8C2 11.3137 4.68629 14 8 14C11.3137 14 14 11.3137 14 8C14 4.68629 11.3137 2 8 2ZM0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8Z"),D(s,"fill","white"),D(i,"width","16"),D(i,"height","16"),D(i,"viewBox","0 0 16 16"),D(i,"fill","none"),D(i,"xmlns","http://www.w3.org/2000/svg")},m(e,t){y(e,i,t),$(i,r),$(i,s)},p:e,i:e,o:e,d(e){e&&b(i)}}}class Yt extends ce{constructor(e){super(),de(this,e,null,Kt,o,{})}}function Gt(t){let i,r,s;return{c(){i=R("svg"),r=R("path"),s=R("path"),D(r,"d","M6 5C6.55228 5 7 5.44772 7 6V10C7 10.5523 6.55228 11 6 11C5.44772 11 5 10.5523 5 10V6C5 5.44772 5.44772 5 6 5ZM10 5C10.5523 5 11 5.44772 11 6V10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10V6C9 5.44772 9.44772 5 10 5Z"),D(r,"fill","white"),D(s,"d","M8 2C4.68629 2 2 4.68629 2 8C2 11.3137 4.68629 14 8 14C11.3137 14 14 11.3137 14 8C14 4.68629 11.3137 2 8 2ZM0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8Z"),D(s,"fill","white"),D(i,"width","16"),D(i,"height","16"),D(i,"viewBox","0 0 16 16"),D(i,"fill","none"),D(i,"xmlns","http://www.w3.org/2000/svg")},m(e,t){y(e,i,t),$(i,r),$(i,s)},p:e,i:e,o:e,d(e){e&&b(i)}}}class Zt extends ce{constructor(e){super(),de(this,e,null,Gt,o,{})}}function Xt(t){let i,r;return{c(){i=R("svg"),r=R("path"),D(r,"fill-rule","evenodd"),D(r,"clip-rule","evenodd"),D(r,"d","M1 2C1 1.44772 1.44772 1 2 1H6C6.55228 1 7 1.44772 7 2C7 2.55228 6.55228 3 6 3H3V6C3 6.55228 2.55228 7 2 7C1.44772 7 1 6.55228 1 6V2ZM9 2C9 1.44772 9.44772 1 10 1H14C14.5523 1 15 1.44772 15 2V6C15 6.55228 14.5523 7 14 7C13.4477 7 13 6.55228 13 6V3H10C9.44772 3 9 2.55228 9 2ZM2 9C2.55228 9 3 9.44772 3 10V13H6C6.55228 13 7 13.4477 7 14C7 14.5523 6.55228 15 6 15H2C1.44772 15 1 14.5523 1 14V10C1 9.44772 1.44772 9 2 9ZM14 9C14.5523 9 15 9.44772 15 10V14C15 14.5523 14.5523 15 14 15H10C9.44772 15 9 14.5523 9 14C9 13.4477 9.44772 13 10 13H13V10C13 9.44772 13.4477 9 14 9Z"),D(r,"fill","white"),D(i,"width","16"),D(i,"height","16"),D(i,"viewBox","0 0 16 16"),D(i,"fill","none"),D(i,"xmlns","http://www.w3.org/2000/svg")},m(e,t){y(e,i,t),$(i,r)},p:e,i:e,o:e,d(e){e&&b(i)}}}class Qt extends ce{constructor(e){super(),de(this,e,null,Xt,o,{})}}function Jt(t){let i,r;return{c(){i=R("svg"),r=R("path"),D(r,"d","M6 1C6.55228 1 7 1.44772 7 2V6C7 6.55228 6.55228 7 6 7H2C1.44772 7 1 6.55228 1 6C1 5.44772 1.44772 5 2 5H5V2C5 1.44772 5.44772 1 6 1ZM10 1C10.5523 1 11 1.44772 11 2V5H14C14.5523 5 15 5.44772 15 6C15 6.55228 14.5523 7 14 7H10C9.44772 7 9 6.55228 9 6V2C9 1.44772 9.44772 1 10 1ZM1 10C1 9.44772 1.44772 9 2 9H6C6.55228 9 7 9.44772 7 10V14C7 14.5523 6.55228 15 6 15C5.44772 15 5 14.5523 5 14V11H2C1.44772 11 1 10.5523 1 10ZM9 10C9 9.44772 9.44772 9 10 9H14C14.5523 9 15 9.44772 15 10C15 10.5523 14.5523 11 14 11H11V14C11 14.5523 10.5523 15 10 15C9.44772 15 9 14.5523 9 14V10Z"),D(r,"fill","white"),D(i,"width","16"),D(i,"height","16"),D(i,"viewBox","0 0 16 16"),D(i,"fill","none"),D(i,"xmlns","http://www.w3.org/2000/svg")},m(e,t){y(e,i,t),$(i,r)},p:e,i:e,o:e,d(e){e&&b(i)}}}class ei extends ce{constructor(e){super(),de(this,e,null,Jt,o,{})}}function ti(t){let i,r;return{c(){i=R("svg"),r=R("path"),D(r,"d","M22 12C22 19.5 21 20 12 20C3 20 2 19.5 2 12C2 4.5 3 4 12 4C21 4 22 4.5 22 12ZM7 11C7.55228 11 8 10.5523 8 10C8 9.44772 7.55228 9 7 9C6.44772 9 6 9.44772 6 10C6 10.5523 6.44772 11 7 11ZM17 15C17.5523 15 18 14.5523 18 14C18 13.4477 17.5523 13 17 13C16.4477 13 16 13.4477 16 14C16 14.5523 16.4477 15 17 15ZM10 9C9.44772 9 9 9.44772 9 10C9 10.5523 9.44772 11 10 11H17C17.5523 11 18 10.5523 18 10C18 9.44772 17.5523 9 17 9H10ZM6 14C6 14.5523 6.44772 15 7 15H14C14.5523 15 15 14.5523 15 14C15 13.4477 14.5523 13 14 13H7C6.44772 13 6 13.4477 6 14Z"),D(r,"fill","white"),D(r,"fill-opacity","0.95"),D(i,"width","24"),D(i,"height","24"),D(i,"viewBox","0 0 24 24"),D(i,"fill","none"),D(i,"xmlns","http://www.w3.org/2000/svg")},m(e,t){y(e,i,t),$(i,r)},p:e,i:e,o:e,d(e){e&&b(i)}}}class ii extends ce{constructor(e){super(),de(this,e,null,ti,o,{})}}function ri(t){let i,r,s;return{c(){i=R("svg"),r=R("path"),s=R("path"),D(r,"d","M4.70711 3.29289C4.31658 2.90237 3.68342 2.90237 3.29289 3.29289C2.90237 3.68342 2.90237 4.31658 3.29289 4.70711L3.7099 5.12411C2.26022 6.16974 2 8.17408 2 12C2 19.5 3 20 12 20C14.7772 20 16.7926 19.9524 18.252 19.6662L19.2929 20.7071C19.6834 21.0976 20.3166 21.0976 20.7071 20.7071C21.0976 20.3166 21.0976 19.6834 20.7071 19.2929L4.70711 3.29289ZM13.5858 15H7C6.44772 15 6 14.5523 6 14C6 13.4477 6.44772 13 7 13H11.5858L13.5858 15ZM7 11C6.44772 11 6 10.5523 6 10C6 9.44772 6.44772 9 7 9C7.55228 9 8 9.44772 8 10C8 10.5523 7.55228 11 7 11Z"),D(r,"fill","white"),D(r,"fill-opacity","0.95"),D(s,"d","M17 11C17 11 15.543 11 14.6094 11C13.7607 11 13.7716 10.9551 14.3536 11.5371L15.8165 13C16.1857 13.3692 16.1093 13.3535 16.5104 13.1279C16.6551 13.0464 16.8221 13 17 13C17.5523 13 18 13.4477 18 14C18 14.1705 17.9573 14.331 17.8821 14.4714C17.6589 14.8882 17.6186 14.8021 18 15.1835L20.1114 17.2949C20.9797 18.1632 21.2092 18.1551 21.5708 16.9383C21.9149 15.7804 22 14.1881 22 12C22 4.5 21 4 12 4C10.4378 4 9.11672 4.01506 8 4.07918C7 4.1366 7.03115 4.21467 7.79887 4.98238L11.2989 8.48238C11.7441 8.92758 11.8368 9 12.4688 9C14.2383 9 17 9 17 9C17.5523 9 18 9.44772 18 10C18 10.5523 17.5523 11 17 11Z"),D(s,"fill","white"),D(s,"fill-opacity","0.95"),D(i,"width","24"),D(i,"height","24"),D(i,"viewBox","0 0 24 24"),D(i,"fill","none"),D(i,"xmlns","http://www.w3.org/2000/svg")},m(e,t){y(e,i,t),$(i,r),$(i,s)},p:e,i:e,o:e,d(e){e&&b(i)}}}class si extends ce{constructor(e){super(),de(this,e,null,ri,o,{})}}function ni(e){E(e,"svelte-1ogh9ir",".root.svelte-1ogh9ir{padding-right:16px;color:rgba(255, 255, 255, 0.6);font-weight:600;font-size:15px;user-select:none;display:flex;align-items:center;overflow:hidden;flex-wrap:nowrap}.dot.svelte-1ogh9ir{padding-right:12px}.dot.narrow.svelte-1ogh9ir{padding-right:6px}.text.svelte-1ogh9ir{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}")}function oi(t){let i,r,s,n,o,a,l,d=(t[0]?t[0].text:"")+"";return{c(){i=x("div"),r=x("div"),s=x("span"),n=S(""),a=S(d),D(s,"class",o=v(`dot ${t[1]&&"narrow"}`)+" svelte-1ogh9ir"),D(r,"class","text svelte-1ogh9ir"),D(i,"class","root svelte-1ogh9ir"),D(i,"qa-id",l=`${t[3]["qa-id"]}`)},m(e,t){y(e,i,t),$(i,r),$(r,s),$(s,n),$(r,a)},p(e,[t]){2&t&&o!==(o=v(`dot ${e[1]&&"narrow"}`)+" svelte-1ogh9ir")&&D(s,"class",o),1&t&&d!==(d=(e[0]?e[0].text:"")+"")&&O(a,d),8&t&&l!==(l=`${e[3]["qa-id"]}`)&&D(i,"qa-id",l)},i:e,o:e,d(e){e&&b(i)}}}function ai(e,i,r){let s,n,{episode:o=null}=i;const a=Ye("playerRect");return u(e,a,(e=>r(4,n=e))),e.$$set=e=>{r(3,i=t(t({},i),g(e))),"episode"in e&&r(0,o=e.episode)},e.$$.update=()=>{16&e.$$.dirty&&r(1,s=n.width<420)},i=g(i),[o,s,a,i,n]}class li extends ce{constructor(e){super(),de(this,e,ai,oi,o,{episode:0},ni)}}function di(e,t=!0){const i=Math.floor(e/3600),r=Math.floor(e%3600/60),s=Math.floor(e%60),n=[];return t&&!i||n.push(ci(i)),n.push(ci(r),ci(s)),n.join(":")}function ci(e){return String(e).padStart(2,"0")}var ui;function hi(e){E(e,"svelte-1x004wh",".time.svelte-1x004wh{display:flex;flex-shrink:0;height:100%;align-items:center;font-size:14px;user-select:none;position:relative}.time.hidden.svelte-1x004wh{display:none}.time.nonInteractive.svelte-1x004wh{pointer-events:none}.narrow.time.svelte-1x004wh{justify-content:center;font-size:12px;font-weight:500;letter-spacing:0.2px;flex-grow:1;height:16px}.currentTime.svelte-1x004wh{margin-right:4px;color:rgba(255, 255, 255, 0.95)}.separatorTime.svelte-1x004wh{color:rgba(255, 255, 255, 0.45)}.totalTime.svelte-1x004wh{margin-left:4px;color:rgba(255, 255, 255, 0.45)}.tooltip.svelte-1x004wh{position:absolute;top:-58px;left:-100%;display:flex;align-items:center;width:fit-content;height:24px;padding:4px 8px;background-color:rgba(3, 8, 13, 0.48);color:white;border-radius:6px;white-space:nowrap;font-size:12px;font-weight:400;line-height:16px;box-sizing:border-box;pointer-events:none;opacity:1}.tooltipHidden.svelte-1x004wh{opacity:0}")}function _i(e){let t,i,r,s=di(e[0])+"";return{c(){t=x("div"),i=S(s),D(t,"class","currentTime svelte-1x004wh"),D(t,"qa-id",r=`${e[9]["qa-id"]}.current-time`)},m(e,r){y(e,t,r),$(t,i)},p(e,n){1&n&&s!==(s=di(e[0])+"")&&O(i,s),512&n&&r!==(r=`${e[9]["qa-id"]}.current-time`)&&D(t,"qa-id",r)},d(e){e&&b(t)}}}function pi(e){let t;return{c(){t=x("div"),t.textContent="/",D(t,"class","separatorTime svelte-1x004wh")},m(e,i){y(e,t,i)},d(e){e&&b(t)}}}function mi(e){let t,i,r,s=di(e[1])+"";return{c(){t=x("div"),i=S(s),D(t,"class","totalTime svelte-1x004wh"),D(t,"qa-id",r=`${e[9]["qa-id"]}.total-time`)},m(e,r){y(e,t,r),$(t,i)},p(e,n){2&n&&s!==(s=di(e[1])+"")&&O(i,s),512&n&&r!==(r=`${e[9]["qa-id"]}.total-time`)&&D(t,"qa-id",r)},d(e){e&&b(t)}}}function fi(t){let i,r,s,n,o=(t[5]||t[7])&&_i(t),a=t[5]&&pi(),l=(t[5]||t[6])&&mi(t);return{c(){i=x("div"),o&&o.c(),r=P(),a&&a.c(),s=P(),l&&l.c(),D(i,"class",n=v(`time ${t[3]}`)+" svelte-1x004wh"),I(i,"hidden",t[4]===ui.None),I(i,"nonInteractive",t[2]||!t[7])},m(e,t){y(e,i,t),o&&o.m(i,null),$(i,r),a&&a.m(i,null),$(i,s),l&&l.m(i,null)},p(e,[t]){e[5]||e[7]?o?o.p(e,t):(o=_i(e),o.c(),o.m(i,r)):o&&(o.d(1),o=null),e[5]?a||(a=pi(),a.c(),a.m(i,s)):a&&(a.d(1),a=null),e[5]||e[6]?l?l.p(e,t):(l=mi(e),l.c(),l.m(i,null)):l&&(l.d(1),l=null),8&t&&n!==(n=v(`time ${e[3]}`)+" svelte-1x004wh")&&D(i,"class",n),24&t&&I(i,"hidden",e[4]===ui.None),140&t&&I(i,"nonInteractive",e[2]||!e[7])},i:e,o:e,d(e){e&&b(i),o&&o.d(),a&&a.d(),l&&l.d()}}}function gi(e,i,r){let s,n,o,a,l,{current_time:d=0}=i,{total_time:c=0}=i,{show_current_time:h=!1}=i,{show_duration:_=!1}=i,{live:p=!1}=i,{bottom_bar_theme:m="default"}=i;const f=Ye("playerRect");u(e,f,(e=>r(14,l=e)));let v=$(l.width,s),w=0;function $(e,t){return!h&&!_||p&&!h?ui.None:p&&h||!t||(e<420||!_)&&h?ui.OnlyTimePassed:!h&&_&&t?ui.OnlyTotal:ui.Full}return N((()=>{r(4,v=$(l.width,s))})),e.$$set=e=>{r(9,i=t(t({},i),g(e))),"current_time"in e&&r(0,d=e.current_time),"total_time"in e&&r(1,c=e.total_time),"show_current_time"in e&&r(10,h=e.show_current_time),"show_duration"in e&&r(11,_=e.show_duration),"live"in e&&r(2,p=e.live),"bottom_bar_theme"in e&&r(3,m=e.bottom_bar_theme)},e.$$.update=()=>{2&e.$$.dirty&&r(13,s=Number.isFinite(c)&&c>0),28672&e.$$.dirty&&l.width!==w&&(r(12,w=l.width),r(4,v=$(l.width,s))),24576&e.$$.dirty&&r(4,v=$(l.width,s)),16&e.$$.dirty&&r(7,n=v===ui.OnlyTimePassed),16&e.$$.dirty&&r(6,o=v===ui.OnlyTotal),16&e.$$.dirty&&r(5,a=v===ui.Full)},i=g(i),[d,c,p,m,v,a,o,n,f,i,h,_,w,s,l]}!function(e){e[e.OnlyTimeLeft=0]="OnlyTimeLeft",e[e.OnlyTimePassed=1]="OnlyTimePassed",e[e.OnlyTotal=2]="OnlyTotal",e[e.Full=3]="Full",e[e.None=4]="None"}(ui||(ui={}));class vi extends ce{constructor(e){super(),de(this,e,gi,fi,o,{current_time:0,total_time:1,show_current_time:10,show_duration:11,live:2,bottom_bar_theme:3},hi)}}function wi(e){E(e,"svelte-1ldmyfe",".preview.svelte-1ldmyfe.svelte-1ldmyfe{max-width:300px;transform-origin:0 50%;font-weight:500;color:rgb(255, 255, 255);text-shadow:0 0 3px rgba(0, 0, 0, 0.5);text-align:center;font-family:var(--main-font);font-size:var(--fs-body);line-height:var(--lh-body);user-select:none}.preview.svelte-1ldmyfe>div.svelte-1ldmyfe{padding:0 3px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.previewTitle.svelte-1ldmyfe.svelte-1ldmyfe{margin-top:8px;margin-bottom:-6px}.time.svelte-1ldmyfe.svelte-1ldmyfe{margin-top:8px}@media(max-width: 375px){.preview.svelte-1ldmyfe.svelte-1ldmyfe{max-width:160px;bottom:20px;line-height:16px}}.image.svelte-1ldmyfe.svelte-1ldmyfe{margin:0 auto;padding:2px !important;background-color:white;border-radius:8px;box-shadow:0 4px 16px 2px rgba(0, 26, 52, 0.16);overflow:hidden}.image.svelte-1ldmyfe>div.svelte-1ldmyfe{width:100%;height:100%;border-radius:8px;overflow:hidden}")}function $i(e){let t,i,r;return{c(){t=x("div"),i=x("div"),D(i,"class","svelte-1ldmyfe"),M(i,"background",e[4]?void 0:e[3].src),D(t,"class","image svelte-1ldmyfe"),D(t,"qa-id",r=`${e[5]["qa-id"]}.image`),M(t,"width",`${e[3].width}px`),M(t,"height",`${e[3].height}px`)},m(e,r){y(e,t,r),$(t,i)},p(e,s){24&s&&M(i,"background",e[4]?void 0:e[3].src),32&s&&r!==(r=`${e[5]["qa-id"]}.image`)&&D(t,"qa-id",r),8&s&&M(t,"width",`${e[3].width}px`),8&s&&M(t,"height",`${e[3].height}px`)},d(e){e&&b(t)}}}function Ei(e){let t,i,r;return{c(){t=x("div"),i=S(e[1]),D(t,"class","previewTitle svelte-1ldmyfe"),D(t,"qa-id",r=`${e[5]["qa-id"]}.title`)},m(e,r){y(e,t,r),$(t,i)},p(e,s){2&s&&O(i,e[1]),32&s&&r!==(r=`${e[5]["qa-id"]}.title`)&&D(t,"qa-id",r)},d(e){e&&b(t)}}}function yi(t){let i,r,s,n,o,a,l,d=di(t[0])+"",c=t[3]&&$i(t),u=t[1]&&Ei(t);return{c(){i=x("div"),c&&c.c(),r=P(),u&&u.c(),s=P(),n=x("div"),o=S(d),D(n,"class","time svelte-1ldmyfe"),D(n,"qa-id",a=`${t[5]["qa-id"]}.time`),D(i,"class","preview svelte-1ldmyfe"),D(i,"qa-id",l=`${t[5]["qa-id"]}`)},m(e,a){y(e,i,a),c&&c.m(i,null),$(i,r),u&&u.m(i,null),$(i,s),$(i,n),$(n,o),t[9](i)},p(e,[t]){e[3]?c?c.p(e,t):(c=$i(e),c.c(),c.m(i,r)):c&&(c.d(1),c=null),e[1]?u?u.p(e,t):(u=Ei(e),u.c(),u.m(i,s)):u&&(u.d(1),u=null),1&t&&d!==(d=di(e[0])+"")&&O(o,d),32&t&&a!==(a=`${e[5]["qa-id"]}.time`)&&D(n,"qa-id",a),32&t&&l!==(l=`${e[5]["qa-id"]}`)&&D(i,"qa-id",l)},i:e,o:e,d(e){e&&b(i),c&&c.d(),u&&u.d(),t[9](null)}}}function bi(e,i,r){let s,n,o,a,{time:l=-1}=i,{title:d=null}=i,{video_type:c=we.UNKNOWN}=i;const u=Ye("previews");let h;const _=U();return N((()=>{_("m-changeWidth",o?o.clientWidth:0)})),e.$$set=e=>{r(5,i=t(t({},i),g(e))),"time"in e&&r(0,l=e.time),"title"in e&&r(1,d=e.title),"video_type"in e&&r(6,c=e.video_type)},e.$$.update=()=>{if(1&e.$$.dirty&&r(7,s=1e3*l),64&e.$$.dirty&&r(8,n=c===we.LIVE),384&e.$$.dirty){const e=u.list.length>0&&s>u.list[u.list.length-1]?.time;n&&e&&async function(){r(4,h=!0),await u.reload(),r(3,a=u.getPreviewByTime(s)),r(4,h=!1)}()}128&e.$$.dirty&&r(3,a=u.getPreviewByTime(s))},i=g(i),[l,d,o,a,h,i,c,s,n,function(e){B[e?"unshift":"push"]((()=>{o=e,r(2,o)}))}]}class Ci extends ce{constructor(e){super(),de(this,e,bi,yi,o,{time:0,title:1,video_type:6},wi)}}function xi(e,t){return Ri(e,t,0,e.length)}function Ri(e,t,i,r){if(r-i==1)return e[i];const s=Math.floor((i+r)/2),n=e[s];return n>t?Ri(e,t,i,s):n<t?Ri(e,t,s,r):n}const Si=({barRelativePointerMoveX:e,barOffsetLeft:t,playerOffsetLeft:i,playerWidth:r,previewWidth:s})=>{const n=i+12,o=r-24;let a=e-s/2+t;return a<n?a=n:a+s>=n+o&&(a=n+o-s),a-t};function Pi(e,t){let i,r,s=!1;return function n(...o){if(s)return i=o,void(r=this);e.apply(this,o),s=!0,setTimeout((function(){s=!1,i&&(n.apply(r,i),i=r=null)}),t)}}function Ti(e){let t=NaN;return i=>{const r=Math.floor(i);r!==t&&(t=r,e(r))}}function Li(e){E(e,"svelte-1xdu2m1",".thumb.svelte-1xdu2m1.svelte-1xdu2m1{margin-top:-6px;margin-left:-6px;width:12px;height:12px;position:absolute;top:50%;background:rgb(245, 247, 250);border-radius:50%;box-shadow:0 6px 16px 2px rgba(0, 26, 52, 0.16), 0 0 0 1px rgba(0, 26, 52, 0.05);pointer-events:none}.narrow.svelte-1xdu2m1 .thumb.svelte-1xdu2m1{margin-top:-2px;margin-left:-2px;width:4px;height:4px;margin-top:-3px}@media screen and (max-width: 375px){.thumb.svelte-1xdu2m1.svelte-1xdu2m1{margin-top:-10px;margin-left:-10px;width:20px;height:20px}}.root.svelte-1xdu2m1.svelte-1xdu2m1{position:relative;width:100%;height:12px;user-select:none;display:flex;gap:8px;align-items:center}.liveBadge.svelte-1xdu2m1.svelte-1xdu2m1{display:flex;align-items:center;justify-content:center;width:58px;height:22px;flex-shrink:0;background-color:rgb(245, 247, 250);border-radius:16px;color:rgba(0, 17, 34, 0.95);font-weight:500;cursor:pointer}.actualLive.svelte-1xdu2m1 .liveBadge.svelte-1xdu2m1{background-color:rgb(211, 0, 61);color:rgb(245, 247, 250);cursor:default}.progressBarContainer.svelte-1xdu2m1.svelte-1xdu2m1{position:relative;width:100%;height:12px}.progressBar.svelte-1xdu2m1.svelte-1xdu2m1{position:absolute;width:100%;height:100%;cursor:pointer;display:flex;flex-wrap:nowrap;align-items:center}.actualLive.svelte-1xdu2m1 .thumb.svelte-1xdu2m1{background-color:rgb(211, 0, 61)}")}const Di=e=>({}),Oi=e=>({}),Mi=e=>({pointerMoveCurrentTime:128&e[0]}),Ii=e=>({pointerMoveCurrentTime:e[7]}),Ai=e=>({pointerMoveProgressPercent:64&e[0],actualLive:4&e[0],progressPercents:1024&e[0],bufferedPercents:32768&e[0]}),ki=e=>({pointerMoveProgressPercent:e[6],actualLive:e[2],progressPercents:e[10],bufferedPercents:e[15]});function qi(e){let t,i,r,s,n;return{c(){t=x("div"),i=S("Live"),D(t,"class","liveBadge svelte-1xdu2m1"),D(t,"qa-id",r=`${e[26]["qa-id"]}.back-to-live`)},m(r,o){y(r,t,o),$(t,i),s||(n=L(t,"click",e[25]),s=!0)},p(e,i){67108864&i[0]&&r!==(r=`${e[26]["qa-id"]}.back-to-live`)&&D(t,"qa-id",r)},d(e){e&&b(t),s=!1,n()}}}function Ni(e){let t,i;return{c(){t=x("div"),D(t,"class","thumb svelte-1xdu2m1"),D(t,"qa-id",i=`${e[26]["qa-id"]}.thumb`),M(t,"left",`${e[11]}%`)},m(e,i){y(e,t,i)},p(e,r){67108864&r[0]&&i!==(i=`${e[26]["qa-id"]}.thumb`)&&D(t,"qa-id",i),2048&r[0]&&M(t,"left",`${e[11]}%`)},d(e){e&&b(t)}}}function Ui(e){let t,i,r;const s=e[38].preview,n=h(s,e,e[37],Ii);return{c(){t=x("div"),n&&n.c(),D(t,"qa-id",i=`${e[26]["qa-id"]}.preview-wrapper`),M(t,"transform",`translateX(${e[12]}px)`),M(t,"opacity",e[3]>0?1:0)},m(e,i){y(e,t,i),n&&n.m(t,null),r=!0},p(e,o){n&&n.p&&(!r||128&o[0]|64&o[1])&&m(n,s,e,e[37],r?p(s,e[37],o,Mi):f(e[37]),Ii),(!r||67108864&o[0]&&i!==(i=`${e[26]["qa-id"]}.preview-wrapper`))&&D(t,"qa-id",i),4096&o[0]&&M(t,"transform",`translateX(${e[12]}px)`),8&o[0]&&M(t,"opacity",e[3]>0?1:0)},i(e){r||(ie(n,e),r=!0)},o(e){re(n,e),r=!1},d(e){e&&b(t),n&&n.d(e)}}}function Vi(e){let t;const i=e[38].cuepoints,r=h(i,e,e[37],Oi);return{c(){r&&r.c()},m(e,i){r&&r.m(e,i),t=!0},p(e,s){r&&r.p&&(!t||64&s[1])&&m(r,i,e,e[37],t?p(i,e[37],s,Di):f(e[37]),Oi)},i(e){t||(ie(r,e),t=!0)},o(e){re(r,e),t=!1},d(e){r&&r.d(e)}}}function Bi(e){let t,i,r,n,o,a,l,d,c,u,_,g,w=e[1]===we.LIVE&&qi(e),E=e[0]!==1/0&&Ni(e);const C=e[38].progress,R=h(C,e,e[37],ki);let S=(e[9]||e[8])&&!e[14]&&Ui(e),T=e[4].length>0&&Vi(e);return{c(){t=x("div"),w&&w.c(),i=P(),r=x("div"),n=x("div"),E&&E.c(),o=P(),R&&R.c(),l=P(),S&&S.c(),d=P(),T&&T.c(),D(n,"class","progressBar svelte-1xdu2m1"),D(n,"qa-id",a=`${e[26]["qa-id"]}`),D(r,"class","progressBarContainer svelte-1xdu2m1"),D(t,"class",c=v(`root ${e[5]}`)+" svelte-1xdu2m1"),I(t,"actualLive",e[2])},m(s,a){y(s,t,a),w&&w.m(t,null),$(t,i),$(t,r),$(r,n),E&&E.m(n,null),$(n,o),R&&R.m(n,null),e[39](n),$(r,l),S&&S.m(r,null),$(r,d),T&&T.m(r,null),u=!0,_||(g=[L(n,"mouseenter",e[21]),L(n,"mouseleave",e[23]),L(n,"mousemove",e[22]),L(n,"mousedown",e[24]),L(n,"touchstart",e[18]),L(n,"touchend",e[20]),L(n,"touchmove",e[19])],_=!0)},p(e,s){e[1]===we.LIVE?w?w.p(e,s):(w=qi(e),w.c(),w.m(t,i)):w&&(w.d(1),w=null),e[0]!==1/0?E?E.p(e,s):(E=Ni(e),E.c(),E.m(n,o)):E&&(E.d(1),E=null),R&&R.p&&(!u||33860&s[0]|64&s[1])&&m(R,C,e,e[37],u?p(C,e[37],s,Ai):f(e[37]),ki),(!u||67108864&s[0]&&a!==(a=`${e[26]["qa-id"]}`))&&D(n,"qa-id",a),!e[9]&&!e[8]||e[14]?S&&(ee(),re(S,1,1,(()=>{S=null})),te()):S?(S.p(e,s),17152&s[0]&&ie(S,1)):(S=Ui(e),S.c(),ie(S,1),S.m(r,d)),e[4].length>0?T?(T.p(e,s),16&s[0]&&ie(T,1)):(T=Vi(e),T.c(),ie(T,1),T.m(r,null)):T&&(ee(),re(T,1,1,(()=>{T=null})),te()),(!u||32&s[0]&&c!==(c=v(`root ${e[5]}`)+" svelte-1xdu2m1"))&&D(t,"class",c),(!u||36&s[0])&&I(t,"actualLive",e[2])},i(e){u||(ie(R,e),ie(S),ie(T),u=!0)},o(e){re(R,e),re(S),re(T),u=!1},d(i){i&&b(t),w&&w.d(),E&&E.d(),R&&R.d(i),e[39](null),S&&S.d(),T&&T.d(),_=!1,s(g)}}}function Fi(e,i,r){let s,n,o,a,l,{$$slots:d={},$$scope:c}=i;const h=U();let _,p,m,f,{duration:v=0}=i,{buffered:$=0}=i,{current_time:E=0}=i,{video_type:y=we.UNKNOWN}=i,{actual_live:b=!1}=i,{disable_progress_bar:C=!1}=i,{disable_forward_rewind:x=!1}=i,{preview_width:R=0}=i,{cuepoints:S=[]}=i,{bottom_bar_theme:P="default"}=i,T=0,L=0,D=0,O=!1,M=!1,I=0,A=!1,k=NaN;const V=Ye("playerRect");u(e,V,(e=>r(36,l=e)));const F=Ye("progressBarRect");u(e,F,(e=>r(35,a=e)));let H=!1;var z;function W(e){K(e)}function j(e){document.removeEventListener("mousemove",W),document.removeEventListener("mouseup",j),K(e),r(32,I=L),h("m-mouseUp"),r(33,A=!0),r(8,O=!1),o||h("m-changeProgress",D)}function K(e){let t=(e.clientX||e.touches?.[0]?.clientX||e.changedTouches?.[0]?.clientX||0)-a.left;t<0&&(t=0),t>=a.width&&(t=a.width-1),r(31,T=t),r(6,L=T/a.width*100),r(7,D=L*v/100)}function Y(){r(31,T=0),r(6,L=0),r(7,D=0)}N((()=>{f=new ResizeObserver(Z),f.observe(m),window.addEventListener("scroll",G)})),z=()=>{f?.disconnect(),window.removeEventListener("scroll",G)},q().$$.on_destroy.push(z);const G=Pi((function(){if(!m?.getBoundingClientRect)return;const{left:e,width:t,height:i}=m.getBoundingClientRect();w(F,a={left:e,width:t,height:i},a)}),200);function Z(e){const t=e?.[0]?.target?.getBoundingClientRect();if(!t)return;const{left:i,width:r,height:s}=t;w(F,a={left:i,width:r,height:s},a)}return e.$$set=e=>{r(26,i=t(t({},i),g(e))),"duration"in e&&r(0,v=e.duration),"buffered"in e&&r(27,$=e.buffered),"current_time"in e&&r(28,E=e.current_time),"video_type"in e&&r(1,y=e.video_type),"actual_live"in e&&r(2,b=e.actual_live),"disable_progress_bar"in e&&r(29,C=e.disable_progress_bar),"disable_forward_rewind"in e&&r(30,x=e.disable_forward_rewind),"preview_width"in e&&r(3,R=e.preview_width),"cuepoints"in e&&r(4,S=e.cuepoints),"bottom_bar_theme"in e&&r(5,P=e.bottom_bar_theme),"$$scope"in e&&r(37,c=e.$$scope)},e.$$.update=()=>{268435461&e.$$.dirty[0]&&r(10,s=b?100:v?E/v*100:0),134217729&e.$$.dirty[0]&&r(15,n=v&&v!==1/0?$/v:0),536870913&e.$$.dirty[0]&&r(14,H=C||v===1/0),268436224&e.$$.dirty[0]|12&e.$$.dirty[1]&&k!==E&&(r(34,k=E),A&&(r(33,A=!1),r(32,I=0)),M||O||Y()),1344&e.$$.dirty[0]|6&e.$$.dirty[1]&&r(11,_=O?L:A?I:s),8&e.$$.dirty[0]|49&e.$$.dirty[1]&&r(12,p=Si({barRelativePointerMoveX:T,barOffsetLeft:a?.left,playerOffsetLeft:l.left,playerWidth:l.width,previewWidth:R})),1342177408&e.$$.dirty[0]&&(o=x&&D>E)},i=g(i),[v,y,b,R,S,P,L,D,O,M,s,_,p,m,H,n,V,F,function(e){H||(r(8,O=!0),K(e))},function(e){e.stopPropagation(),H||K(e)},function(e){H||(K(e),r(32,I=L),r(33,A=!0),r(8,O=!1),o||h("m-changeProgress",D))},function(){r(9,M=!0)},function(e){O||H||K(e)},function(){r(9,M=!1),O||Y()},function(){H||(r(8,O=!0),document.addEventListener("mousemove",W),document.addEventListener("mouseup",j),h("m-mouseDown"))},function(){H||(h("m-changeProgress",v-5),h("m-backToLive"))},i,$,E,C,x,T,I,A,k,a,l,c,d,function(e){B[e?"unshift":"push"]((()=>{m=e,r(13,m)}))}]}class Hi extends ce{constructor(e){super(),de(this,e,Fi,Bi,o,{duration:0,buffered:27,current_time:28,video_type:1,actual_live:2,disable_progress_bar:29,disable_forward_rewind:30,preview_width:3,cuepoints:4,bottom_bar_theme:5},Li,[-1,-1])}}function zi(e){E(e,"svelte-1kejtlk",".episode.svelte-1kejtlk{pointer-events:none;height:4px;box-sizing:border-box;padding-right:2px}.episode.svelte-1kejtlk:last-child{padding-right:0}.episodeFill.svelte-1kejtlk{overflow:hidden;border-radius:3px;background:rgba(255, 255, 255, 0.6);width:100%;height:100%;position:relative}.buffered.svelte-1kejtlk,.progress.svelte-1kejtlk,.mouseProgress.svelte-1kejtlk{transform-origin:0% 50%;width:100%;height:100%;position:absolute;background:rgba(255, 255, 255, 0.6);border-radius:3px;backface-visibility:hidden}.buffered.svelte-1kejtlk{transition:transform 0.3s ease-in-out}.preview.svelte-1kejtlk{position:absolute;bottom:12px}")}function Wi(e,t,i){const r=e.slice();return r[29]=t[i],r}function ji(e){let t,i;return{c(){t=x("div"),D(t,"class","buffered svelte-1kejtlk"),D(t,"qa-id",i=`${e[18]["qa-id"]}.episode-${e[29].id}.buffered`),M(t,"transform",`scaleX(${e[11](e[29],e[28])})`)},m(e,i){y(e,t,i)},p(e,r){262400&r[0]&&i!==(i=`${e[18]["qa-id"]}.episode-${e[29].id}.buffered`)&&D(t,"qa-id",i),268435712&r[0]&&M(t,"transform",`scaleX(${e[11](e[29],e[28])})`)},d(e){e&&b(t)}}}function Ki(e){let t,i;return{c(){t=x("div"),D(t,"class","progress svelte-1kejtlk"),D(t,"qa-id",i=`${e[18]["qa-id"]}.episode-${e[29].id}.progress`),M(t,"transform",`scaleX(${e[12](e[29],e[27])})`)},m(e,i){y(e,t,i)},p(e,r){262400&r[0]&&i!==(i=`${e[18]["qa-id"]}.episode-${e[29].id}.progress`)&&D(t,"qa-id",i),134217984&r[0]&&M(t,"transform",`scaleX(${e[12](e[29],e[27])})`)},d(e){e&&b(t)}}}function Yi(e){let t;return{c(){t=x("div"),D(t,"class","mouseProgress svelte-1kejtlk"),M(t,"transform",`scaleX(${e[13](e[29],e[26])})`)},m(e,i){y(e,t,i)},p(e,i){67109120&i[0]&&M(t,"transform",`scaleX(${e[13](e[29],e[26])})`)},d(e){e&&b(t)}}}function Gi(e){let t,i,r,s,n,a,l=e[28],d=e[27],c=e[26],u=ji(e),h=Ki(e),_=Yi(e);return{c(){t=x("div"),i=x("div"),u.c(),r=P(),h.c(),s=P(),_.c(),n=P(),D(i,"class","episodeFill svelte-1kejtlk"),D(t,"class","episode svelte-1kejtlk"),D(t,"qa-id",a=`${e[18]["qa-id"]}.episode-${e[29].id}`),M(t,"width",`${e[29].durationPercents}%`)},m(e,o){y(e,t,o),$(t,i),u.m(i,null),$(i,r),h.m(i,null),$(i,s),_.m(i,null),$(t,n)},p(e,n){268435456&n[0]&&o(l,l=e[28])?(u.d(1),u=ji(e),u.c(),u.m(i,r)):u.p(e,n),134217728&n[0]&&o(d,d=e[27])?(h.d(1),h=Ki(e),h.c(),h.m(i,s)):h.p(e,n),67108864&n[0]&&o(c,c=e[26])?(_.d(1),_=Yi(e),_.c(),_.m(i,null)):_.p(e,n),262400&n[0]&&a!==(a=`${e[18]["qa-id"]}.episode-${e[29].id}`)&&D(t,"qa-id",a),256&n[0]&&M(t,"width",`${e[29].durationPercents}%`)},d(e){e&&b(t),u.d(e),h.d(e),_.d(e)}}}function Zi(e){let t,i=e[8],r=[];for(let s=0;s<i.length;s+=1)r[s]=Gi(Wi(e,i,s));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=T()},m(e,i){for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,i);y(e,t,i)},p(e,s){if(470038784&s[0]){let n;for(i=e[8],n=0;n<i.length;n+=1){const o=Wi(e,i,n);r[n]?r[n].p(o,s):(r[n]=Gi(o),r[n].c(),r[n].m(t.parentNode,t))}for(;n<r.length;n+=1)r[n].d(1);r.length=i.length}},d(e){C(r,e),e&&b(t)}}}function Xi(e){let t,i;return t=new Ci({props:{time:e[25],title:e[17](e[25])?.text,video_type:e[3],"qa-id":`${e[18]["qa-id"]}.preview`}}),t.$on("m-changeWidth",e[10]),{c(){oe(t.$$.fragment)},m(e,r){ae(t,e,r),i=!0},p(e,i){const r={};33554432&i[0]&&(r.time=e[25]),33554432&i[0]&&(r.title=e[17](e[25])?.text),8&i[0]&&(r.video_type=e[3]),262144&i[0]&&(r["qa-id"]=`${e[18]["qa-id"]}.preview`),t.$set(r)},i(e){i||(ie(t.$$.fragment,e),i=!0)},o(e){re(t.$$.fragment,e),i=!1},d(e){le(t,e)}}}function Qi(e){let t,i,r=e[6]&&Xi(e);return{c(){t=x("div"),r&&r.c(),D(t,"slot","preview"),D(t,"class","preview svelte-1kejtlk")},m(e,s){y(e,t,s),r&&r.m(t,null),i=!0},p(e,i){e[6]?r?(r.p(e,i),64&i[0]&&ie(r,1)):(r=Xi(e),r.c(),ie(r,1),r.m(t,null)):r&&(ee(),re(r,1,1,(()=>{r=null})),te())},i(e){i||(ie(r),i=!0)},o(e){re(r),i=!1},d(e){e&&b(t),r&&r.d()}}}function Ji(e){let t,i;return t=new Hi({props:{duration:e[0],buffered:e[1],current_time:e[2],video_type:e[3],disable_progress_bar:e[4],disable_forward_rewind:e[5],preview_width:e[7],"qa-id":`${e[18]["qa-id"]}`,$$slots:{preview:[Qi,({pointerMoveCurrentTime:e})=>({25:e}),({pointerMoveCurrentTime:e})=>[e?33554432:0]],progress:[Zi,({pointerMoveProgressPercent:e,progressPercents:t,bufferedPercents:i})=>({26:e,27:t,28:i}),({pointerMoveProgressPercent:e,progressPercents:t,bufferedPercents:i})=>[(e?67108864:0)|(t?134217728:0)|(i?268435456:0)]]},$$scope:{ctx:e}}}),t.$on("m-mouseDown",e[15]),t.$on("m-mouseUp",e[16]),t.$on("m-changeProgress",e[14]),{c(){oe(t.$$.fragment)},m(e,r){ae(t,e,r),i=!0},p(e,i){const r={};1&i[0]&&(r.duration=e[0]),2&i[0]&&(r.buffered=e[1]),4&i[0]&&(r.current_time=e[2]),8&i[0]&&(r.video_type=e[3]),16&i[0]&&(r.disable_progress_bar=e[4]),32&i[0]&&(r.disable_forward_rewind=e[5]),128&i[0]&&(r.preview_width=e[7]),262144&i[0]&&(r["qa-id"]=`${e[18]["qa-id"]}`),503578952&i[0]|2&i[1]&&(r.$$scope={dirty:i,ctx:e}),t.$set(r)},i(e){i||(ie(t.$$.fragment,e),i=!0)},o(e){re(t.$$.fragment,e),i=!1},d(e){le(t,e)}}}function er(e,i,r){let s;const n=U();let{duration:o=0}=i,{buffered:a=0}=i,{current_time:l=0}=i,{video_type:d=we.UNKNOWN}=i,{episodes:c=[]}=i,{episodes_times:h}=i,{episodes_times_map:_}=i,{disable_progress_bar:p=!1}=i,{disable_forward_rewind:m=!1}=i,{show_time_tooltip:f=!0}=i;const v=Ye("progressBarRect");u(e,v,(e=>r(23,s=e)));let w=!1,$=0,E=[];return N((()=>{r(22,w=!0)})),e.$$set=e=>{r(18,i=t(t({},i),g(e))),"duration"in e&&r(0,o=e.duration),"buffered"in e&&r(1,a=e.buffered),"current_time"in e&&r(2,l=e.current_time),"video_type"in e&&r(3,d=e.video_type),"episodes"in e&&r(19,c=e.episodes),"episodes_times"in e&&r(20,h=e.episodes_times),"episodes_times_map"in e&&r(21,_=e.episodes_times_map),"disable_progress_bar"in e&&r(4,p=e.disable_progress_bar),"disable_forward_rewind"in e&&r(5,m=e.disable_forward_rewind),"show_time_tooltip"in e&&r(6,f=e.show_time_tooltip)},e.$$.update=()=>{if(13107201&e.$$.dirty[0])if(o&&w){let e=c.map(((e,t,i)=>{const r=100*e.time/o,n=t<i.length-1?i[t+1].time-e.time:o-e.time,a=100*n/o,l=a*s.width/100;return{...e,offsetPercents:r,duration:n,durationPercents:a,width:l}}));e=e.reduce(((e,t)=>{if(e.length>0){const i=e[e.length-1];if(t.width<=10||i.width<=10)return i.collapsed.push(t),i.duration+=t.duration,i.durationPercents+=t.durationPercents,i.width+=t.width,e}return e.push({...t,collapsed:[]}),e}),[]),r(8,E=e)}else r(8,E=[])},i=g(i),[o,a,l,d,p,m,f,$,E,v,function({detail:e}){r(7,$=e)},function(e,t){if(t>=e.offsetPercents+e.durationPercents)return 1;const i=t-e.offsetPercents;return o/e.duration*i/100},function(e,t){if(t>=e.offsetPercents+e.durationPercents)return 1;const i=t-e.offsetPercents;return o/e.duration*i/100},function(e,t){if(t>=e.offsetPercents+e.durationPercents)return 1;const i=t-e.offsetPercents;return o/e.duration*i/100},function(e){n("m-changeProgress",e.detail)},function(){n("m-mouseDown")},function(){n("m-mouseUp")},function(e){return _?.get(xi(h,e))},i,c,h,_,w,s]}class tr extends ce{constructor(e){super(),de(this,e,er,Ji,o,{duration:0,buffered:1,current_time:2,video_type:3,episodes:19,episodes_times:20,episodes_times_map:21,disable_progress_bar:4,disable_forward_rewind:5,show_time_tooltip:6},zi,[-1,-1])}}function ir(t){let i,r;return{c(){i=R("svg"),r=R("path"),D(r,"d","M14 8C14 11.3137 11.3137 14 8 14C4.68629 14 2 11.3137 2 8C2 4.68629 4.68629 2 8 2C11.3137 2 14 4.68629 14 8ZM8 9C8.55229 9 9 8.55228 9 8V5C9 4.44772 8.55229 4 8 4C7.44772 4 7 4.44772 7 5V8C7 8.55228 7.44772 9 8 9ZM7 11C7 11.5523 7.44772 12 8 12C8.55228 12 9 11.5523 9 11C9 10.4477 8.55228 10 8 10C7.44772 10 7 10.4477 7 11Z"),D(r,"fill","white"),D(i,"width","16"),D(i,"height","16"),D(i,"viewBox","0 0 16 16"),D(i,"fill","none"),D(i,"xmlns","http://www.w3.org/2000/svg")},m(e,t){y(e,i,t),$(i,r)},p:e,i:e,o:e,d(e){e&&b(i)}}}class rr extends ce{constructor(e){super(),de(this,e,null,ir,o,{})}}function sr(e){E(e,"svelte-8443y7",".root.svelte-8443y7.svelte-8443y7{width:100%;user-select:none}.cuepointMark.svelte-8443y7.svelte-8443y7{position:absolute;top:50%;margin-top:-4px;margin-left:-1px;width:2px;height:8px;background:rgb(245, 247, 250);border-radius:8px;box-shadow:0 6px 16px 2px rgba(0, 26, 52, 0.16), 0 0 0 1px rgba(0, 26, 52, 0.05);cursor:pointer}.cuepointIcon.svelte-8443y7.svelte-8443y7{position:absolute;bottom:10px;margin-left:-8px;cursor:pointer}.cuepointIconActive.svelte-8443y7.svelte-8443y7{transform:scale(1.5);transform-origin:50% 90%}.cuepointTooltip.svelte-8443y7.svelte-8443y7{position:absolute;bottom:32px;width:var(--cuepointTooltipWidthPx);color:rgb(245, 247, 250);text-align:center;font-size:15px;font-weight:600;line-height:24px;text-shadow:0 0 3px rgba(0, 0, 0, 0.5)}.cuepointTooltip.svelte-8443y7>div.svelte-8443y7{padding:0 3px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}")}function nr(e,t,i){const r=e.slice();return r[23]=t[i],r}function or(e,t,i){const r=e.slice();return r[23]=t[i],r}function ar(e){let t,i,r,n,o,a,l,d,c,u;function h(){return e[18](e[23])}function _(){return e[19](e[23])}function p(){return e[20](e[23])}return r=new rr({}),{c(){t=x("div"),i=x("div"),oe(r.$$.fragment),n=P(),o=x("div"),D(i,"class","cuepointIcon svelte-8443y7"),I(i,"cuepointIconActive",e[0]&&e[0].id===e[23].id),M(i,"left",`${e[23].leftPercent}%`),D(o,"class","cuepointMark svelte-8443y7"),D(o,"qa-id",a=`${e[9]["qa-id"]}.cuepoint-${e[23].id}.mark`),M(o,"left",`${e[23].leftPercent}%`),D(t,"qa-id",l=`${e[9]["qa-id"]}.cuepoint-${e[23].id}`)},m(s,a){y(s,t,a),$(t,i),ae(r,i,null),$(t,n),$(t,o),d=!0,c||(u=[L(t,"touchstart",h,{passive:!0}),L(t,"touchend",e[7],{passive:!0}),L(t,"mouseenter",_),L(t,"mouseleave",e[7]),L(t,"mouseup",e[7]),L(t,"click",p)],c=!0)},p(r,s){e=r,(!d||3&s)&&I(i,"cuepointIconActive",e[0]&&e[0].id===e[23].id),2&s&&M(i,"left",`${e[23].leftPercent}%`),(!d||514&s&&a!==(a=`${e[9]["qa-id"]}.cuepoint-${e[23].id}.mark`))&&D(o,"qa-id",a),2&s&&M(o,"left",`${e[23].leftPercent}%`),(!d||514&s&&l!==(l=`${e[9]["qa-id"]}.cuepoint-${e[23].id}`))&&D(t,"qa-id",l)},i(e){d||(ie(r.$$.fragment,e),d=!0)},o(e){re(r.$$.fragment,e),d=!1},d(e){e&&b(t),le(r),c=!1,s(u)}}}function lr(e){let t,i,r,s,n,o,a,l,d,c,u=e[0].text+"",h=di(e[0].time)+"",_=e[0].collapsed,p=[];for(let m=0;m<_.length;m+=1)p[m]=dr(nr(e,_,m));return{c(){t=x("div"),i=x("div"),r=S(u),n=P();for(let e=0;e<p.length;e+=1)p[e].c();o=P(),a=x("div"),l=S(h),D(i,"qa-id",s=`${e[9]["qa-id"]}.active-cuepoint-tooltip.text`),D(i,"class","svelte-8443y7"),D(a,"qa-id",d=`${e[9]["qa-id"]}.active-cuepoint-tooltip.time`),D(a,"class","svelte-8443y7"),D(t,"class","cuepointTooltip svelte-8443y7"),D(t,"qa-id",c=`${e[9]["qa-id"]}.active-cuepoint-tooltip`),M(t,"left",`${e[2]}px`)},m(e,s){y(e,t,s),$(t,i),$(i,r),$(t,n);for(let i=0;i<p.length;i+=1)p[i]&&p[i].m(t,null);$(t,o),$(t,a),$(a,l)},p(e,n){if(1&n&&u!==(u=e[0].text+"")&&O(r,u),512&n&&s!==(s=`${e[9]["qa-id"]}.active-cuepoint-tooltip.text`)&&D(i,"qa-id",s),1&n){let i;for(_=e[0].collapsed,i=0;i<_.length;i+=1){const r=nr(e,_,i);p[i]?p[i].p(r,n):(p[i]=dr(r),p[i].c(),p[i].m(t,o))}for(;i<p.length;i+=1)p[i].d(1);p.length=_.length}1&n&&h!==(h=di(e[0].time)+"")&&O(l,h),512&n&&d!==(d=`${e[9]["qa-id"]}.active-cuepoint-tooltip.time`)&&D(a,"qa-id",d),512&n&&c!==(c=`${e[9]["qa-id"]}.active-cuepoint-tooltip`)&&D(t,"qa-id",c),4&n&&M(t,"left",`${e[2]}px`)},d(e){e&&b(t),C(p,e)}}}function dr(e){let t,i,r=e[23].text+"";return{c(){t=x("div"),i=S(r),D(t,"class","svelte-8443y7")},m(e,r){y(e,t,r),$(t,i)},p(e,t){1&t&&r!==(r=e[23].text+"")&&O(i,r)},d(e){e&&b(t)}}}function cr(e){let t,i,r,s,n=e[1],o=[];for(let d=0;d<n.length;d+=1)o[d]=ar(or(e,n,d));const a=e=>re(o[e],1,1,(()=>{o[e]=null}));let l=e[0]&&lr(e);return{c(){t=x("div");for(let e=0;e<o.length;e+=1)o[e].c();i=P(),l&&l.c(),D(t,"class","root svelte-8443y7"),M(t,"--cuepointTooltipWidthPx",ur),D(t,"qa-id",r=`${e[9]["qa-id"]}`)},m(r,n){y(r,t,n);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,null);$(t,i),l&&l.m(t,null),e[21](t),s=!0},p(e,[d]){if(963&d){let r;for(n=e[1],r=0;r<n.length;r+=1){const s=or(e,n,r);o[r]?(o[r].p(s,d),ie(o[r],1)):(o[r]=ar(s),o[r].c(),ie(o[r],1),o[r].m(t,i))}for(ee(),r=n.length;r<o.length;r+=1)a(r);te()}e[0]?l?l.p(e,d):(l=lr(e),l.c(),l.m(t,null)):l&&(l.d(1),l=null),(!s||512&d&&r!==(r=`${e[9]["qa-id"]}`))&&D(t,"qa-id",r)},i(e){if(!s){for(let e=0;e<n.length;e+=1)ie(o[e]);s=!0}},o(e){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)re(o[t]);s=!1},d(i){i&&b(t),C(o,i),l&&l.d(),e[21](null)}}}const ur="250px";function hr(e,i,r){let s,n,o,{duration:a=0}=i,{fullscreen_active:l=!1}=i,{cuepoints:d=[]}=i,{current_cuepoint:c=null}=i;const h=Ye("progressBarRect");u(e,h,(e=>r(17,o=e)));const _=Ye("playerRect");u(e,_,(e=>r(16,n=e)));let p,m,f,v=null,w=!1;const $=U();function E(e){r(14,v=p.find((t=>t.id===e)))}function y(e){const t=p.find((t=>t.id===e));$("m-clickCuepoint",t)}return N((()=>{r(15,w=!0)})),e.$$set=e=>{r(9,i=t(t({},i),g(e))),"duration"in e&&r(10,a=e.duration),"fullscreen_active"in e&&r(11,l=e.fullscreen_active),"cuepoints"in e&&r(12,d=e.cuepoints),"current_cuepoint"in e&&r(13,c=e.current_cuepoint)},e.$$.update=()=>{if(168960&e.$$.dirty)if(a&&a!==1/0&&w){const e=o.width;let t=d.map((t=>{const i=100*t.time/a,r=i*e/100;return{...t,x:r,leftPercent:i}}));t=t.reduce(((e,t)=>{if(e.length>0){const i=e[e.length-1];if(t.x-i.x<=5)return i.collapsed.push(t),e}return e.push({...t,collapsed:[]}),e}),[]),r(1,p=t)}else r(1,p=[]);if(26624&e.$$.dirty&&r(0,s=l?v:v||c),197633&e.$$.dirty&&o){const e=100*(s?.time||0)/a,{left:t,width:i}=o;r(2,m=Si({barRelativePointerMoveX:e*i/100,barOffsetLeft:t,playerOffsetLeft:n?.left,playerWidth:n?.width,previewWidth:parseInt(ur)}))}},i=g(i),[s,p,m,f,h,_,E,function(){r(14,v=null)},y,i,a,l,d,c,v,w,n,o,e=>E(e.id),e=>E(e.id),e=>y(e.id),function(e){B[e?"unshift":"push"]((()=>{f=e,r(3,f)}))}]}class _r extends ce{constructor(e){super(),de(this,e,hr,cr,o,{duration:10,fullscreen_active:11,cuepoints:12,current_cuepoint:13},sr)}}function pr(e){E(e,"svelte-a3g5sr",".bar.svelte-a3g5sr.svelte-a3g5sr,.buffered.svelte-a3g5sr.svelte-a3g5sr,.progress.svelte-a3g5sr.svelte-a3g5sr,.mouseProgress.svelte-a3g5sr.svelte-a3g5sr{position:absolute;height:var(--trackThicknessPx);left:0;top:50%;margin-top:calc(var(--trackThicknessPx) / -2);border-radius:2px;pointer-events:none}.bar.svelte-a3g5sr.svelte-a3g5sr{width:100%;background:rgb(245, 247, 250);opacity:0.4}.buffered.svelte-a3g5sr.svelte-a3g5sr{transform-origin:0% 50%;transition:transform 0.3s ease-in-out;width:100%;background:rgba(255, 255, 255, 0.6)}.progress.svelte-a3g5sr.svelte-a3g5sr{background-color:rgb(245, 247, 250)}.mouseProgress.svelte-a3g5sr.svelte-a3g5sr{background-color:rgba(255, 255, 255, 0.6)}.actualLive.svelte-a3g5sr .bar.svelte-a3g5sr,.actualLive.svelte-a3g5sr .progress.svelte-a3g5sr,.actualLive.svelte-a3g5sr .mouseProgress.svelte-a3g5sr{background-color:rgb(211, 0, 61)}.preview.svelte-a3g5sr.svelte-a3g5sr{position:absolute;bottom:2px}.narrow.svelte-a3g5sr .bar.svelte-a3g5sr,.narrow.svelte-a3g5sr .buffered.svelte-a3g5sr,.narrow.svelte-a3g5sr .progress.svelte-a3g5sr,.narrow.svelte-a3g5sr .mouseProgress.svelte-a3g5sr{height:2px}")}function mr(e){let t,i,r,s,n,o,a,l,d,c,u,h;return{c(){t=x("div"),i=x("div"),s=P(),n=x("div"),a=P(),l=x("div"),c=P(),u=x("div"),D(i,"class","bar svelte-a3g5sr"),D(i,"qa-id",r=`${e[19]["qa-id"]}.bar`),D(n,"class","buffered svelte-a3g5sr"),D(n,"qa-id",o=`${e[19]["qa-id"]}.buffered`),M(n,"transform",`scaleX(${e[22]})`),D(l,"class","progress svelte-a3g5sr"),D(l,"qa-id",d=`${e[19]["qa-id"]}.progress`),M(l,"width",`${e[23]}%`),D(u,"class","mouseProgress svelte-a3g5sr"),M(u,"width",`${e[25]}%`),D(t,"slot","progress"),M(t,"--trackThicknessPx",$r+"px"),D(t,"class",h=v(`${e[10]}`)+" svelte-a3g5sr"),I(t,"actualLive",e[24])},m(e,r){y(e,t,r),$(t,i),$(t,s),$(t,n),$(t,a),$(t,l),$(t,c),$(t,u)},p(e,s){524288&s&&r!==(r=`${e[19]["qa-id"]}.bar`)&&D(i,"qa-id",r),524288&s&&o!==(o=`${e[19]["qa-id"]}.buffered`)&&D(n,"qa-id",o),4194304&s&&M(n,"transform",`scaleX(${e[22]})`),524288&s&&d!==(d=`${e[19]["qa-id"]}.progress`)&&D(l,"qa-id",d),8388608&s&&M(l,"width",`${e[23]}%`),33554432&s&&M(u,"width",`${e[25]}%`),1024&s&&h!==(h=v(`${e[10]}`)+" svelte-a3g5sr")&&D(t,"class",h),16778240&s&&I(t,"actualLive",e[24])},d(e){e&&b(t)}}}function fr(e){let t,i;return t=new Ci({props:{time:e[21],video_type:e[3],"qa-id":`${e[19]["qa-id"]}.preview`}}),t.$on("m-changeWidth",e[13]),{c(){oe(t.$$.fragment)},m(e,r){ae(t,e,r),i=!0},p(e,i){const r={};2097152&i&&(r.time=e[21]),8&i&&(r.video_type=e[3]),524288&i&&(r["qa-id"]=`${e[19]["qa-id"]}.preview`),t.$set(r)},i(e){i||(ie(t.$$.fragment,e),i=!0)},o(e){re(t.$$.fragment,e),i=!1},d(e){le(t,e)}}}function gr(e){let t,i,r=e[11]&&fr(e);return{c(){t=x("div"),r&&r.c(),D(t,"slot","preview"),D(t,"class","preview svelte-a3g5sr")},m(e,s){y(e,t,s),r&&r.m(t,null),i=!0},p(e,i){e[11]?r?(r.p(e,i),2048&i&&ie(r,1)):(r=fr(e),r.c(),ie(r,1),r.m(t,null)):r&&(ee(),re(r,1,1,(()=>{r=null})),te())},i(e){i||(ie(r),i=!0)},o(e){re(r),i=!1},d(e){e&&b(t),r&&r.d()}}}function vr(e){let t,i,r;return i=new _r({props:{duration:e[0],fullscreen_active:e[7],cuepoints:e[8],current_cuepoint:e[9],"qa-id":`${e[19]["qa-id"]}.cuepoints`}}),i.$on("m-clickCuepoint",e[18]),{c(){t=x("div"),oe(i.$$.fragment),D(t,"slot","cuepoints")},m(e,s){y(e,t,s),ae(i,t,null),r=!0},p(e,t){const r={};1&t&&(r.duration=e[0]),128&t&&(r.fullscreen_active=e[7]),256&t&&(r.cuepoints=e[8]),512&t&&(r.current_cuepoint=e[9]),524288&t&&(r["qa-id"]=`${e[19]["qa-id"]}.cuepoints`),i.$set(r)},i(e){r||(ie(i.$$.fragment,e),r=!0)},o(e){re(i.$$.fragment,e),r=!1},d(e){e&&b(t),le(i)}}}function wr(e){let t,i;return t=new Hi({props:{duration:e[0],buffered:e[1],current_time:e[2],video_type:e[3],actual_live:e[4],disable_progress_bar:e[5],disable_forward_rewind:e[6],preview_width:e[12],cuepoints:e[8],bottom_bar_theme:e[10],"qa-id":`${e[19]["qa-id"]}`,$$slots:{cuepoints:[vr],preview:[gr,({pointerMoveCurrentTime:e})=>({21:e}),({pointerMoveCurrentTime:e})=>e?2097152:0],progress:[mr,({bufferedPercents:e,progressPercents:t,actualLive:i,pointerMoveProgressPercent:r})=>({22:e,23:t,24:i,25:r}),({bufferedPercents:e,progressPercents:t,actualLive:i,pointerMoveProgressPercent:r})=>(e?4194304:0)|(t?8388608:0)|(i?16777216:0)|(r?33554432:0)]},$$scope:{ctx:e}}}),t.$on("m-mouseDown",e[16]),t.$on("m-mouseUp",e[17]),t.$on("m-changeProgress",e[14]),t.$on("m-backToLive",e[15]),{c(){oe(t.$$.fragment)},m(e,r){ae(t,e,r),i=!0},p(e,[i]){const r={};1&i&&(r.duration=e[0]),2&i&&(r.buffered=e[1]),4&i&&(r.current_time=e[2]),8&i&&(r.video_type=e[3]),16&i&&(r.actual_live=e[4]),32&i&&(r.disable_progress_bar=e[5]),64&i&&(r.disable_forward_rewind=e[6]),4096&i&&(r.preview_width=e[12]),256&i&&(r.cuepoints=e[8]),1024&i&&(r.bottom_bar_theme=e[10]),524288&i&&(r["qa-id"]=`${e[19]["qa-id"]}`),132648841&i&&(r.$$scope={dirty:i,ctx:e}),t.$set(r)},i(e){i||(ie(t.$$.fragment,e),i=!0)},o(e){re(t.$$.fragment,e),i=!1},d(e){le(t,e)}}}const $r=4;function Er(e,i,r){const s=U();let{duration:n=0}=i,{buffered:o=0}=i,{current_time:a=0}=i,{video_type:l=we.UNKNOWN}=i,{actual_live:d=!1}=i,{disable_progress_bar:c=!1}=i,{disable_forward_rewind:u=!1}=i,{fullscreen_active:h=!1}=i,{cuepoints:_=[]}=i,{current_cuepoint:p=null}=i,{bottom_bar_theme:m="default"}=i,{show_time_tooltip:f=!0}=i,v=0;return e.$$set=e=>{r(19,i=t(t({},i),g(e))),"duration"in e&&r(0,n=e.duration),"buffered"in e&&r(1,o=e.buffered),"current_time"in e&&r(2,a=e.current_time),"video_type"in e&&r(3,l=e.video_type),"actual_live"in e&&r(4,d=e.actual_live),"disable_progress_bar"in e&&r(5,c=e.disable_progress_bar),"disable_forward_rewind"in e&&r(6,u=e.disable_forward_rewind),"fullscreen_active"in e&&r(7,h=e.fullscreen_active),"cuepoints"in e&&r(8,_=e.cuepoints),"current_cuepoint"in e&&r(9,p=e.current_cuepoint),"bottom_bar_theme"in e&&r(10,m=e.bottom_bar_theme),"show_time_tooltip"in e&&r(11,f=e.show_time_tooltip)},i=g(i),[n,o,a,l,d,c,u,h,_,p,m,f,v,function({detail:e}){r(12,v=e)},function(e){s("m-changeProgress",e.detail)},function(){s("m-backToLive")},function(){s("m-mouseDown")},function(){s("m-mouseUp")},function(e){s("m-changeProgress",e.detail.time),s("m-clickCuepoint",e.detail)},i]}class yr extends ce{constructor(e){super(),de(this,e,Er,wr,o,{duration:0,buffered:1,current_time:2,video_type:3,actual_live:4,disable_progress_bar:5,disable_forward_rewind:6,fullscreen_active:7,cuepoints:8,current_cuepoint:9,bottom_bar_theme:10,show_time_tooltip:11},pr)}}function br(e){E(e,"svelte-13mbb6n",".root.svelte-13mbb6n{width:30vw;padding-right:16px;box-sizing:border-box;color:rgba(255, 255, 255, 0.95);font-weight:600;font-size:15px;user-select:none;display:flex;overflow:hidden}.clickableContainer.svelte-13mbb6n{overflow:hidden}.text.svelte-13mbb6n{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}")}function Cr(t){let i,r,s,n,o,a=(t[0]&&t[0].text)+"";return{c(){i=x("div"),r=x("div"),s=x("div"),n=S(a),D(s,"class","text svelte-13mbb6n"),D(r,"class","clickableContainer svelte-13mbb6n"),D(i,"class","root svelte-13mbb6n"),D(i,"qa-id",o=`${t[1]["qa-id"]}`)},m(e,t){y(e,i,t),$(i,r),$(r,s),$(s,n)},p(e,[t]){1&t&&a!==(a=(e[0]&&e[0].text)+"")&&O(n,a),2&t&&o!==(o=`${e[1]["qa-id"]}`)&&D(i,"qa-id",o)},i:e,o:e,d(e){e&&b(i)}}}function xr(e,i,r){let{cuepoint:s=null}=i;return e.$$set=e=>{r(1,i=t(t({},i),g(e))),"cuepoint"in e&&r(0,s=e.cuepoint)},i=g(i),[s,i]}class Rr extends ce{constructor(e){super(),de(this,e,xr,Cr,o,{cuepoint:0},br)}}function Sr(e,t){return t?`${e["qa-id"]}.${t}`:e["qa-id"]}function Pr(e){E(e,"svelte-bq12z4",".bottomBar.svelte-bq12z4.svelte-bq12z4{display:flex;flex-direction:column;justify-content:center;gap:18px;box-sizing:border-box;padding:0 24px 17px 24px;height:76px;background:linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.7) 100%);width:100%;-webkit-user-select:none;user-select:none}.bottomBar.narrow.svelte-bq12z4.svelte-bq12z4{gap:8px;padding:16px;height:64px}.oneLineControls.bottomBar.svelte-bq12z4.svelte-bq12z4{height:32px !important;padding:0 9px}.oneLineControls.svelte-bq12z4 .progressBar.svelte-bq12z4{flex:1 1 auto}.controls.svelte-bq12z4.svelte-bq12z4{display:flex;justify-content:space-between;gap:18px;align-items:center}.leftControlsBlock.svelte-bq12z4.svelte-bq12z4{display:flex;gap:18px;align-items:center}.middleControlsBlock.svelte-bq12z4.svelte-bq12z4{flex-grow:1;display:flex;align-items:center;overflow:hidden}.rightControlsBlock.svelte-bq12z4.svelte-bq12z4{display:flex;gap:18px;align-items:center}.controls.narrow.svelte-bq12z4.svelte-bq12z4,.controls.narrow.svelte-bq12z4 .rightControlsBlock.svelte-bq12z4,.controls.narrow.svelte-bq12z4 .leftControlsBlock.svelte-bq12z4{gap:10px}")}const Tr=e=>({}),Lr=e=>({class:"rightControlsBlock svelte-bq12z4"}),Dr=e=>({}),Or=e=>({class:"middleControlsBlock svelte-bq12z4"}),Mr=e=>({showCurrentTime:8&e,showDuration:16&e}),Ir=e=>({showCurrentTime:e[3],showDuration:e[4]}),Ar=e=>({}),kr=e=>({class:"leftControlsBlock svelte-bq12z4"}),qr=e=>({}),Nr=e=>({class:"progressBar svelte-bq12z4"}),Ur=e=>({}),Vr=e=>({class:"rightControlsBlock svelte-bq12z4"}),Br=e=>({}),Fr=e=>({class:"progressBar svelte-bq12z4"}),Hr=e=>({showCurrentTime:8&e,showDuration:16&e}),zr=e=>({showCurrentTime:e[3],showDuration:e[4]}),Wr=e=>({}),jr=e=>({class:"leftControlsBlock svelte-bq12z4"});function Kr(e){let t,i,r,s,n,o,a;const l=e[12].progressBar,d=h(l,e,e[11],Nr),c=e[12].leftControlsBlock,u=h(c,e,e[11],kr),_=e[12].time,g=h(_,e,e[11],Ir),w=e[12].middleControlsBlock,E=h(w,e,e[11],Or),C=e[12].rightControlsBlock,R=h(C,e,e[11],Lr);return{c(){d&&d.c(),t=P(),i=x("div"),u&&u.c(),r=P(),g&&g.c(),s=P(),E&&E.c(),n=P(),R&&R.c(),D(i,"class",o=v(`controls ${e[6]&&"narrow"}`)+" svelte-bq12z4")},m(e,o){d&&d.m(e,o),y(e,t,o),y(e,i,o),u&&u.m(i,null),$(i,r),g&&g.m(i,null),$(i,s),E&&E.m(i,null),$(i,n),R&&R.m(i,null),a=!0},p(e,t){d&&d.p&&(!a||2048&t)&&m(d,l,e,e[11],a?p(l,e[11],t,qr):f(e[11]),Nr),u&&u.p&&(!a||2048&t)&&m(u,c,e,e[11],a?p(c,e[11],t,Ar):f(e[11]),kr),g&&g.p&&(!a||2072&t)&&m(g,_,e,e[11],a?p(_,e[11],t,Mr):f(e[11]),Ir),E&&E.p&&(!a||2048&t)&&m(E,w,e,e[11],a?p(w,e[11],t,Dr):f(e[11]),Or),R&&R.p&&(!a||2048&t)&&m(R,C,e,e[11],a?p(C,e[11],t,Tr):f(e[11]),Lr),(!a||64&t&&o!==(o=v(`controls ${e[6]&&"narrow"}`)+" svelte-bq12z4"))&&D(i,"class",o)},i(e){a||(ie(d,e),ie(u,e),ie(g,e),ie(E,e),ie(R,e),a=!0)},o(e){re(d,e),re(u,e),re(g,e),re(E,e),re(R,e),a=!1},d(e){d&&d.d(e),e&&b(t),e&&b(i),u&&u.d(e),g&&g.d(e),E&&E.d(e),R&&R.d(e)}}}function Yr(e){let t,i,r,s,n;const o=e[12].leftControlsBlock,a=h(o,e,e[11],jr),l=e[12].time,d=h(l,e,e[11],zr),c=e[12].progressBar,u=h(c,e,e[11],Fr),_=e[12].rightControlsBlock,g=h(_,e,e[11],Vr);return{c(){t=x("div"),a&&a.c(),i=P(),d&&d.c(),r=P(),u&&u.c(),s=P(),g&&g.c(),D(t,"class","controls svelte-bq12z4")},m(e,o){y(e,t,o),a&&a.m(t,null),$(t,i),d&&d.m(t,null),$(t,r),u&&u.m(t,null),$(t,s),g&&g.m(t,null),n=!0},p(e,t){a&&a.p&&(!n||2048&t)&&m(a,o,e,e[11],n?p(o,e[11],t,Wr):f(e[11]),jr),d&&d.p&&(!n||2072&t)&&m(d,l,e,e[11],n?p(l,e[11],t,Hr):f(e[11]),zr),u&&u.p&&(!n||2048&t)&&m(u,c,e,e[11],n?p(c,e[11],t,Br):f(e[11]),Fr),g&&g.p&&(!n||2048&t)&&m(g,_,e,e[11],n?p(_,e[11],t,Ur):f(e[11]),Vr)},i(e){n||(ie(a,e),ie(d,e),ie(u,e),ie(g,e),n=!0)},o(e){re(a,e),re(d,e),re(u,e),re(g,e),n=!1},d(e){e&&b(t),a&&a.d(e),d&&d.d(e),u&&u.d(e),g&&g.d(e)}}}function Gr(e){let t,i,r,s,n,o,a,l;const d=[Yr,Kr],c=[];function u(e,t){return e[0]?0:1}return i=u(e),r=c[i]=d[i](e),{c(){t=x("div"),r.c(),D(t,"class",s=v(`bottomBar ${e[1]} ${e[2]} ${e[6]&&"narrow"}`)+" svelte-bq12z4"),D(t,"style",e[5]),D(t,"qa-id",n=Sr(e[8])),I(t,"oneLineControls",e[0])},m(e,r){y(e,t,r),c[i].m(t,null),o=!0,a||(l=L(t,"click",bt),a=!0)},p(e,[a]){let l=i;i=u(e),i===l?c[i].p(e,a):(ee(),re(c[l],1,1,(()=>{c[l]=null})),te(),r=c[i],r?r.p(e,a):(r=c[i]=d[i](e),r.c()),ie(r,1),r.m(t,null)),(!o||70&a&&s!==(s=v(`bottomBar ${e[1]} ${e[2]} ${e[6]&&"narrow"}`)+" svelte-bq12z4"))&&D(t,"class",s),(!o||32&a)&&D(t,"style",e[5]),(!o||256&a&&n!==(n=Sr(e[8])))&&D(t,"qa-id",n),(!o||71&a)&&I(t,"oneLineControls",e[0])},i(e){o||(ie(r),o=!0)},o(e){re(r),o=!1},d(e){e&&b(t),c[i].d(),a=!1,l()}}}function Zr(e,i,r){let s,n,{$$slots:o={},$$scope:a}=i,{one_line_controls:l=!1}=i,{custom_class_for_bottom_bar:d}=i,{bottom_bar_theme:c="default"}=i,{show_current_time:h}=i,{show_duration:_}=i,{should_render_episodes:p}=i,{bottom_bar_inline_styles:m}=i;const f=Ye("playerRect");return u(e,f,(e=>r(10,n=e))),e.$$set=e=>{r(8,i=t(t({},i),g(e))),"one_line_controls"in e&&r(0,l=e.one_line_controls),"custom_class_for_bottom_bar"in e&&r(1,d=e.custom_class_for_bottom_bar),"bottom_bar_theme"in e&&r(2,c=e.bottom_bar_theme),"show_current_time"in e&&r(3,h=e.show_current_time),"show_duration"in e&&r(4,_=e.show_duration),"should_render_episodes"in e&&r(9,p=e.should_render_episodes),"bottom_bar_inline_styles"in e&&r(5,m=e.bottom_bar_inline_styles),"$$scope"in e&&r(11,a=e.$$scope)},e.$$.update=()=>{1536&e.$$.dirty&&r(6,s=n.width<420&&p)},i=g(i),[l,d,c,h,_,m,s,f,i,p,n,a,o]}class Xr extends ce{constructor(e){super(),de(this,e,Zr,Gr,o,{one_line_controls:0,custom_class_for_bottom_bar:1,bottom_bar_theme:2,show_current_time:3,show_duration:4,should_render_episodes:9,bottom_bar_inline_styles:5},Pr)}}function Qr(e){E(e,"svelte-1ihuovj",".control.svelte-1ihuovj{cursor:pointer;height:24px}.control.narrow.svelte-1ihuovj{width:16px;height:16px}.middleControlsBlock.narrow.svelte-1ihuovj{display:none}")}function Jr(e){let t,i,r,s;const n=[ts,es],o=[];function a(e,t){return e[38]?0:1}return t=a(e),i=o[t]=n[t](e),{c(){i.c(),r=T()},m(e,i){o[t].m(e,i),y(e,r,i),s=!0},p(e,s){let l=t;t=a(e),t===l?o[t].p(e,s):(ee(),re(o[l],1,1,(()=>{o[l]=null})),te(),i=o[t],i?i.p(e,s):(i=o[t]=n[t](e),i.c()),ie(i,1),i.m(r.parentNode,r))},i(e){s||(ie(i),s=!0)},o(e){re(i),s=!1},d(e){o[t].d(e),e&&b(r)}}}function es(e){let t,i;return t=new yr({props:{duration:e[1],buffered:e[3],current_time:e[2],video_type:e[10],actual_live:e[11],cuepoints:e[35],fullscreen_active:e[12],current_cuepoint:e[36],disable_progress_bar:e[27],disable_forward_rewind:e[28],bottom_bar_theme:e[30],show_time_tooltip:e[26],"qa-id":Sr(e[58],"progress-bar")}}),t.$on("m-changeProgress",e[48]),t.$on("m-mouseDown",e[49]),t.$on("m-mouseUp",e[50]),t.$on("m-backToLive",e[52]),{c(){oe(t.$$.fragment)},m(e,r){ae(t,e,r),i=!0},p(e,i){const r={};2&i[0]&&(r.duration=e[1]),8&i[0]&&(r.buffered=e[3]),4&i[0]&&(r.current_time=e[2]),1024&i[0]&&(r.video_type=e[10]),2048&i[0]&&(r.actual_live=e[11]),16&i[1]&&(r.cuepoints=e[35]),4096&i[0]&&(r.fullscreen_active=e[12]),32&i[1]&&(r.current_cuepoint=e[36]),134217728&i[0]&&(r.disable_progress_bar=e[27]),268435456&i[0]&&(r.disable_forward_rewind=e[28]),1073741824&i[0]&&(r.bottom_bar_theme=e[30]),67108864&i[0]&&(r.show_time_tooltip=e[26]),134217728&i[1]&&(r["qa-id"]=Sr(e[58],"progress-bar")),t.$set(r)},i(e){i||(ie(t.$$.fragment,e),i=!0)},o(e){re(t.$$.fragment,e),i=!1},d(e){le(t,e)}}}function ts(e){let t,i;return t=new tr({props:{duration:e[1],current_time:e[2],buffered:e[3],video_type:e[10],actual_live:e[11],episodes:e[14],episodes_times:e[16],episodes_times_map:e[17],disable_progress_bar:e[27],disable_forward_rewind:e[28],show_time_tooltip:e[26],"qa-id":Sr(e[58],"progress-bar")}}),t.$on("m-changeProgress",e[48]),t.$on("m-mouseDown",e[49]),t.$on("m-mouseUp",e[50]),{c(){oe(t.$$.fragment)},m(e,r){ae(t,e,r),i=!0},p(e,i){const r={};2&i[0]&&(r.duration=e[1]),4&i[0]&&(r.current_time=e[2]),8&i[0]&&(r.buffered=e[3]),1024&i[0]&&(r.video_type=e[10]),2048&i[0]&&(r.actual_live=e[11]),16384&i[0]&&(r.episodes=e[14]),65536&i[0]&&(r.episodes_times=e[16]),131072&i[0]&&(r.episodes_times_map=e[17]),134217728&i[0]&&(r.disable_progress_bar=e[27]),268435456&i[0]&&(r.disable_forward_rewind=e[28]),67108864&i[0]&&(r.show_time_tooltip=e[26]),134217728&i[1]&&(r["qa-id"]=Sr(e[58],"progress-bar")),t.$set(r)},i(e){i||(ie(t.$$.fragment,e),i=!0)},o(e){re(t.$$.fragment,e),i=!1},d(e){le(t,e)}}}function is(e){let t,i,r,s=e[22]&&Jr(e);return{c(){t=x("div"),s&&s.c(),D(t,"slot","progressBar"),D(t,"class",i=v(`${e[63]} ${e[30]}`)+" svelte-1ihuovj")},m(e,i){y(e,t,i),s&&s.m(t,null),r=!0},p(e,n){e[22]?s?(s.p(e,n),4194304&n[0]&&ie(s,1)):(s=Jr(e),s.c(),ie(s,1),s.m(t,null)):s&&(ee(),re(s,1,1,(()=>{s=null})),te()),(!r||1073741824&n[0]|2&n[2]&&i!==(i=v(`${e[63]} ${e[30]}`)+" svelte-1ihuovj"))&&D(t,"class",i)},i(e){r||(ie(s),r=!0)},o(e){re(s),r=!1},d(e){e&&b(t),s&&s.d()}}}function rs(e){let t,i,r,s,n,o,a,l;const d=[ns,ss],c=[];function u(e,t){return"narrow"===e[30]?0:1}return i=u(e),r=c[i]=d[i](e),{c(){t=x("div"),r.c(),D(t,"class",s=v(`control ${e[30]}`)+" svelte-1ihuovj"),D(t,"qa-id",n=Sr(e[58],"play-pause-btn"))},m(r,s){y(r,t,s),c[i].m(t,null),o=!0,a||(l=L(t,"click",e[45]),a=!0)},p(e,a){let l=i;i=u(e),i===l?c[i].p(e,a):(ee(),re(c[l],1,1,(()=>{c[l]=null})),te(),r=c[i],r?r.p(e,a):(r=c[i]=d[i](e),r.c()),ie(r,1),r.m(t,null)),(!o||1073741824&a[0]&&s!==(s=v(`control ${e[30]}`)+" svelte-1ihuovj"))&&D(t,"class",s),(!o||134217728&a[1]&&n!==(n=Sr(e[58],"play-pause-btn")))&&D(t,"qa-id",n)},i(e){o||(ie(r),o=!0)},o(e){re(r),o=!1},d(e){e&&b(t),c[i].d(),a=!1,l()}}}function ss(e){let t,i,r,s;const n=[as,os],o=[];function a(e,t){return e[0]?0:1}return i=a(e),r=o[i]=n[i](e),{c(){t=x("div"),r.c()},m(e,r){y(e,t,r),o[i].m(t,null),s=!0},p(e,s){let l=i;i=a(e),i!==l&&(ee(),re(o[l],1,1,(()=>{o[l]=null})),te(),r=o[i],r||(r=o[i]=n[i](e),r.c()),ie(r,1),r.m(t,null))},i(e){s||(ie(r),s=!0)},o(e){re(r),s=!1},d(e){e&&b(t),o[i].d()}}}function ns(e){let t,i,r,s;const n=[ds,ls],o=[];function a(e,t){return e[0]?0:1}return i=a(e),r=o[i]=n[i](e),{c(){t=x("div"),r.c()},m(e,r){y(e,t,r),o[i].m(t,null),s=!0},p(e,s){let l=i;i=a(e),i!==l&&(ee(),re(o[l],1,1,(()=>{o[l]=null})),te(),r=o[i],r||(r=o[i]=n[i](e),r.c()),ie(r,1),r.m(t,null))},i(e){s||(ie(r),s=!0)},o(e){re(r),s=!1},d(e){e&&b(t),o[i].d()}}}function os(e){let t,i;return t=new He({}),{c(){oe(t.$$.fragment)},m(e,r){ae(t,e,r),i=!0},i(e){i||(ie(t.$$.fragment,e),i=!0)},o(e){re(t.$$.fragment,e),i=!1},d(e){le(t,e)}}}function as(e){let t,i;return t=new We({}),{c(){oe(t.$$.fragment)},m(e,r){ae(t,e,r),i=!0},i(e){i||(ie(t.$$.fragment,e),i=!0)},o(e){re(t.$$.fragment,e),i=!1},d(e){le(t,e)}}}function ls(e){let t,i;return t=new Yt({}),{c(){oe(t.$$.fragment)},m(e,r){ae(t,e,r),i=!0},i(e){i||(ie(t.$$.fragment,e),i=!0)},o(e){re(t.$$.fragment,e),i=!1},d(e){le(t,e)}}}function ds(e){let t,i;return t=new Zt({}),{c(){oe(t.$$.fragment)},m(e,r){ae(t,e,r),i=!0},i(e){i||(ie(t.$$.fragment,e),i=!0)},o(e){re(t.$$.fragment,e),i=!1},d(e){le(t,e)}}}function cs(e){let t,i;return t=new ft({props:{volume:e[5],muted:e[4],is_mobile:e[13],only_toggle_audio_control:e[19],"qa-id":Sr(e[58],"volume")}}),t.$on("m-toggleMuted",e[46]),t.$on("m-volumeChange",e[47]),{c(){oe(t.$$.fragment)},m(e,r){ae(t,e,r),i=!0},p(e,i){const r={};32&i[0]&&(r.volume=e[5]),16&i[0]&&(r.muted=e[4]),8192&i[0]&&(r.is_mobile=e[13]),524288&i[0]&&(r.only_toggle_audio_control=e[19]),134217728&i[1]&&(r["qa-id"]=Sr(e[58],"volume")),t.$set(r)},i(e){i||(ie(t.$$.fragment,e),i=!0)},o(e){re(t.$$.fragment,e),i=!1},d(e){le(t,e)}}}function us(e){let t,i,r,s,n=e[23]&&rs(e),o=e[18]&&cs(e);return{c(){t=x("div"),n&&n.c(),i=P(),o&&o.c(),D(t,"slot","leftControlsBlock"),D(t,"class",r=v(e[63])+" svelte-1ihuovj")},m(e,r){y(e,t,r),n&&n.m(t,null),$(t,i),o&&o.m(t,null),s=!0},p(e,a){e[23]?n?(n.p(e,a),8388608&a[0]&&ie(n,1)):(n=rs(e),n.c(),ie(n,1),n.m(t,i)):n&&(ee(),re(n,1,1,(()=>{n=null})),te()),e[18]?o?(o.p(e,a),262144&a[0]&&ie(o,1)):(o=cs(e),o.c(),ie(o,1),o.m(t,null)):o&&(ee(),re(o,1,1,(()=>{o=null})),te()),(!s||2&a[2]&&r!==(r=v(e[63])+" svelte-1ihuovj"))&&D(t,"class",r)},i(e){s||(ie(n),ie(o),s=!0)},o(e){re(n),re(o),s=!1},d(e){e&&b(t),n&&n.d(),o&&o.d()}}}function hs(e){let t,i;return t=new vi({props:{current_time:e[2],total_time:e[1],live:e[42],show_current_time:e[64],show_duration:e[65],"qa-id":Sr(e[58])}}),{c(){oe(t.$$.fragment)},m(e,r){ae(t,e,r),i=!0},p(e,i){const r={};4&i[0]&&(r.current_time=e[2]),2&i[0]&&(r.total_time=e[1]),2048&i[1]&&(r.live=e[42]),4&i[2]&&(r.show_current_time=e[64]),8&i[2]&&(r.show_duration=e[65]),134217728&i[1]&&(r["qa-id"]=Sr(e[58])),t.$set(r)},i(e){i||(ie(t.$$.fragment,e),i=!0)},o(e){re(t.$$.fragment,e),i=!1},d(e){le(t,e)}}}function _s(e){let t,i,r=e[1]!==1/0&&!e[40]&&hs(e);return{c(){r&&r.c(),t=T()},m(e,s){r&&r.m(e,s),y(e,t,s),i=!0},p(e,i){e[1]===1/0||e[40]?r&&(ee(),re(r,1,1,(()=>{r=null})),te()):r?(r.p(e,i),2&i[0]|512&i[1]&&ie(r,1)):(r=hs(e),r.c(),ie(r,1),r.m(t.parentNode,t))},i(e){i||(ie(r),i=!0)},o(e){re(r),i=!1},d(e){r&&r.d(e),e&&b(t)}}}function ps(e){let t,i;return t=new li({props:{episode:e[15],"qa-id":Sr(e[58],"active-episode")}}),{c(){oe(t.$$.fragment)},m(e,r){ae(t,e,r),i=!0},p(e,i){const r={};32768&i[0]&&(r.episode=e[15]),134217728&i[1]&&(r["qa-id"]=Sr(e[58],"active-episode")),t.$set(r)},i(e){i||(ie(t.$$.fragment,e),i=!0)},o(e){re(t.$$.fragment,e),i=!1},d(e){le(t,e)}}}function ms(e){let t,i;return t=new Rr({props:{cuepoint:e[36],"qa-id":Sr(e[58],"acrive-cuepoint")}}),{c(){oe(t.$$.fragment)},m(e,r){ae(t,e,r),i=!0},p(e,i){const r={};32&i[1]&&(r.cuepoint=e[36]),134217728&i[1]&&(r["qa-id"]=Sr(e[58],"acrive-cuepoint")),t.$set(r)},i(e){i||(ie(t.$$.fragment,e),i=!0)},o(e){re(t.$$.fragment,e),i=!1},d(e){le(t,e)}}}function fs(e){let t,i,r,s,n=e[38]&&ps(e),o=e[43]&&ms(e);return{c(){t=x("div"),n&&n.c(),i=P(),o&&o.c(),D(t,"slot","middleControlsBlock"),D(t,"class",r=v(`${e[63]} middleControlsBlock ${e[30]}`)+" svelte-1ihuovj")},m(e,r){y(e,t,r),n&&n.m(t,null),$(t,i),o&&o.m(t,null),s=!0},p(e,a){e[38]?n?(n.p(e,a),128&a[1]&&ie(n,1)):(n=ps(e),n.c(),ie(n,1),n.m(t,i)):n&&(ee(),re(n,1,1,(()=>{n=null})),te()),e[43]?o?(o.p(e,a),4096&a[1]&&ie(o,1)):(o=ms(e),o.c(),ie(o,1),o.m(t,null)):o&&(ee(),re(o,1,1,(()=>{o=null})),te()),(!s||1073741824&a[0]|2&a[2]&&r!==(r=v(`${e[63]} middleControlsBlock ${e[30]}`)+" svelte-1ihuovj"))&&D(t,"class",r)},i(e){s||(ie(n),ie(o),s=!0)},o(e){re(n),re(o),s=!1},d(e){e&&b(t),n&&n.d(),o&&o.d()}}}function gs(e){let t,i,r,s,n,o,a;const l=[ws,vs],d=[];function c(e,t){return e[33]?0:1}return i=c(e),r=d[i]=l[i](e),{c(){t=x("div"),r.c(),D(t,"class","control svelte-1ihuovj"),D(t,"qa-id",s=Sr(e[58],"subtitles-btn"))},m(r,s){y(r,t,s),d[i].m(t,null),n=!0,o||(a=L(t,"click",e[57]),o=!0)},p(e,o){let a=i;i=c(e),i!==a&&(ee(),re(d[a],1,1,(()=>{d[a]=null})),te(),r=d[i],r||(r=d[i]=l[i](e),r.c()),ie(r,1),r.m(t,null)),(!n||134217728&o[1]&&s!==(s=Sr(e[58],"subtitles-btn")))&&D(t,"qa-id",s)},i(e){n||(ie(r),n=!0)},o(e){re(r),n=!1},d(e){e&&b(t),d[i].d(),o=!1,a()}}}function vs(e){let t,i;return t=new si({}),{c(){oe(t.$$.fragment)},m(e,r){ae(t,e,r),i=!0},i(e){i||(ie(t.$$.fragment,e),i=!0)},o(e){re(t.$$.fragment,e),i=!1},d(e){le(t,e)}}}function ws(e){let t,i;return t=new ii({}),{c(){oe(t.$$.fragment)},m(e,r){ae(t,e,r),i=!0},i(e){i||(ie(t.$$.fragment,e),i=!0)},o(e){re(t.$$.fragment,e),i=!1},d(e){le(t,e)}}}function $s(e){let t,i,r,s,n,o;return i=new vt({}),{c(){t=x("div"),oe(i.$$.fragment),D(t,"class","control svelte-1ihuovj"),D(t,"qa-id",r=Sr(e[58],"settings-btn"))},m(r,a){y(r,t,a),ae(i,t,null),s=!0,n||(o=L(t,"click",e[55]),n=!0)},p(e,i){(!s||134217728&i[1]&&r!==(r=Sr(e[58],"settings-btn")))&&D(t,"qa-id",r)},i(e){s||(ie(i.$$.fragment,e),s=!0)},o(e){re(i.$$.fragment,e),s=!1},d(e){e&&b(t),le(i),n=!1,o()}}}function Es(e){let t,i,r,s,n,o,a,l;const d=[bs,ys],c=[];function u(e,t){return"narrow"===e[30]?0:1}return i=u(e),r=c[i]=d[i](e),{c(){t=x("div"),r.c(),D(t,"class",s=v(`control ${e[30]}`)+" svelte-1ihuovj"),D(t,"qa-id",n=Sr(e[58],"fullscreen-btn"))},m(r,s){y(r,t,s),c[i].m(t,null),o=!0,a||(l=L(t,"click",e[56]),a=!0)},p(e,a){let l=i;i=u(e),i===l?c[i].p(e,a):(ee(),re(c[l],1,1,(()=>{c[l]=null})),te(),r=c[i],r?r.p(e,a):(r=c[i]=d[i](e),r.c()),ie(r,1),r.m(t,null)),(!o||1073741824&a[0]&&s!==(s=v(`control ${e[30]}`)+" svelte-1ihuovj"))&&D(t,"class",s),(!o||134217728&a[1]&&n!==(n=Sr(e[58],"fullscreen-btn")))&&D(t,"qa-id",n)},i(e){o||(ie(r),o=!0)},o(e){re(r),o=!1},d(e){e&&b(t),c[i].d(),a=!1,l()}}}function ys(e){let t,i,r,s;const n=[xs,Cs],o=[];function a(e,t){return e[12]?1:0}return i=a(e),r=o[i]=n[i](e),{c(){t=x("div"),r.c()},m(e,r){y(e,t,r),o[i].m(t,null),s=!0},p(e,s){let l=i;i=a(e),i!==l&&(ee(),re(o[l],1,1,(()=>{o[l]=null})),te(),r=o[i],r||(r=o[i]=n[i](e),r.c()),ie(r,1),r.m(t,null))},i(e){s||(ie(r),s=!0)},o(e){re(r),s=!1},d(e){e&&b(t),o[i].d()}}}function bs(e){let t,i,r,s;const n=[Ss,Rs],o=[];function a(e,t){return e[12]?1:0}return i=a(e),r=o[i]=n[i](e),{c(){t=x("div"),r.c(),D(t,"class","narrow")},m(e,r){y(e,t,r),o[i].m(t,null),s=!0},p(e,s){let l=i;i=a(e),i!==l&&(ee(),re(o[l],1,1,(()=>{o[l]=null})),te(),r=o[i],r||(r=o[i]=n[i](e),r.c()),ie(r,1),r.m(t,null))},i(e){s||(ie(r),s=!0)},o(e){re(r),s=!1},d(e){e&&b(t),o[i].d()}}}function Cs(e){let t,i;return t=new jt({}),{c(){oe(t.$$.fragment)},m(e,r){ae(t,e,r),i=!0},i(e){i||(ie(t.$$.fragment,e),i=!0)},o(e){re(t.$$.fragment,e),i=!1},d(e){le(t,e)}}}function xs(e){let t,i;return t=new zt({}),{c(){oe(t.$$.fragment)},m(e,r){ae(t,e,r),i=!0},i(e){i||(ie(t.$$.fragment,e),i=!0)},o(e){re(t.$$.fragment,e),i=!1},d(e){le(t,e)}}}function Rs(e){let t,i;return t=new ei({}),{c(){oe(t.$$.fragment)},m(e,r){ae(t,e,r),i=!0},i(e){i||(ie(t.$$.fragment,e),i=!0)},o(e){re(t.$$.fragment,e),i=!1},d(e){le(t,e)}}}function Ss(e){let t,i;return t=new Qt({}),{c(){oe(t.$$.fragment)},m(e,r){ae(t,e,r),i=!0},i(e){i||(ie(t.$$.fragment,e),i=!0)},o(e){re(t.$$.fragment,e),i=!1},d(e){le(t,e)}}}function Ps(e){let t,i,r,s,n,o,a,l=e[34]&&gs(e),d=e[41]&&$s(e);s=new Ft({props:{show:e[32],active_rate:e[6],levels:e[7],active_level:e[8],auto_level:e[9],show_level_settings:e[39],show_rate_settings:e[20],"qa-id":Sr(e[58],"settings-menu")}}),s.$on("m-changePlaybackRate",e[51]),s.$on("m-changeLevel",e[53]),s.$on("m-toggleAutoLevel",e[54]);let c=e[21]&&Es(e);return{c(){t=x("div"),l&&l.c(),i=P(),d&&d.c(),r=P(),oe(s.$$.fragment),n=P(),c&&c.c(),D(t,"slot","rightControlsBlock"),D(t,"class",o=v(e[63])+" svelte-1ihuovj")},m(e,o){y(e,t,o),l&&l.m(t,null),$(t,i),d&&d.m(t,null),$(t,r),ae(s,t,null),$(t,n),c&&c.m(t,null),a=!0},p(e,n){e[34]?l?(l.p(e,n),8&n[1]&&ie(l,1)):(l=gs(e),l.c(),ie(l,1),l.m(t,i)):l&&(ee(),re(l,1,1,(()=>{l=null})),te()),e[41]?d?(d.p(e,n),1024&n[1]&&ie(d,1)):(d=$s(e),d.c(),ie(d,1),d.m(t,r)):d&&(ee(),re(d,1,1,(()=>{d=null})),te());const u={};2&n[1]&&(u.show=e[32]),64&n[0]&&(u.active_rate=e[6]),128&n[0]&&(u.levels=e[7]),256&n[0]&&(u.active_level=e[8]),512&n[0]&&(u.auto_level=e[9]),256&n[1]&&(u.show_level_settings=e[39]),1048576&n[0]&&(u.show_rate_settings=e[20]),134217728&n[1]&&(u["qa-id"]=Sr(e[58],"settings-menu")),s.$set(u),e[21]?c?(c.p(e,n),2097152&n[0]&&ie(c,1)):(c=Es(e),c.c(),ie(c,1),c.m(t,null)):c&&(ee(),re(c,1,1,(()=>{c=null})),te()),(!a||2&n[2]&&o!==(o=v(e[63])+" svelte-1ihuovj"))&&D(t,"class",o)},i(e){a||(ie(l),ie(d),ie(s.$$.fragment,e),ie(c),a=!0)},o(e){re(l),re(d),re(s.$$.fragment,e),re(c),a=!1},d(e){e&&b(t),l&&l.d(),d&&d.d(),le(s),c&&c.d()}}}function Ts(e){let t,i;return t=new Xr({props:{bottom_bar_inline_styles:e[37],one_line_controls:e[31],custom_class_for_bottom_bar:e[29],show_current_time:e[24],show_duration:e[25],bottom_bar_theme:e[30],should_render_episodes:e[38],"qa-id":"video-player.bottom-bar",$$slots:{rightControlsBlock:[Ps,({class:e})=>({63:e}),({class:e})=>[0,0,e?2:0]],middleControlsBlock:[fs,({class:e})=>({63:e}),({class:e})=>[0,0,e?2:0]],time:[_s,({showCurrentTime:e,showDuration:t})=>({64:e,65:t}),({showCurrentTime:e,showDuration:t})=>[0,0,(e?4:0)|(t?8:0)]],leftControlsBlock:[us,({class:e})=>({63:e}),({class:e})=>[0,0,e?2:0]],progressBar:[is,({class:e})=>({63:e}),({class:e})=>[0,0,e?2:0]]},$$scope:{ctx:e}}}),{c(){oe(t.$$.fragment)},m(e,r){ae(t,e,r),i=!0},p(e,i){const r={};64&i[1]&&(r.bottom_bar_inline_styles=e[37]),1&i[1]&&(r.one_line_controls=e[31]),536870912&i[0]&&(r.custom_class_for_bottom_bar=e[29]),16777216&i[0]&&(r.show_current_time=e[24]),33554432&i[0]&&(r.show_duration=e[25]),1073741824&i[0]&&(r.bottom_bar_theme=e[30]),128&i[1]&&(r.should_render_episodes=e[38]),1560281087&i[0]|134225854&i[1]|30&i[2]&&(r.$$scope={dirty:i,ctx:e}),t.$set(r)},i(e){i||(ie(t.$$.fragment,e),i=!0)},o(e){re(t.$$.fragment,e),i=!1},d(e){le(t,e)}}}function Ls(e,i,r){let s,n,o,a,l,d,c;const h=U();let{playing:_=!1}=i,{duration:p=0}=i,{current_time:m=0}=i,{buffered:f=0}=i,{muted:v=!1}=i,{volume:w=0}=i,{playback_rate:$=1}=i,{levels:E=[]}=i,{active_level:y=0}=i,{auto_level:b=!0}=i,{video_type:C=we.UNKNOWN}=i,{actual_live:x=!1}=i,{fullscreen_active:R=!1}=i,{is_mobile:S=!1}=i,{episodes:P=[]}=i,{current_episode:T=null}=i,{episodes_times:L=[]}=i,{episodes_times_map:D=new Map}=i,{show_audio_control:O=!0}=i,{only_toggle_audio_control:M=!1}=i,{show_settings:I=!0}=i,{show_level_settings:A=!0}=i,{show_rate_settings:k=!0}=i,{show_fullscreen_control:q=!0}=i,{should_show_progress_bar:N=!0}=i,{show_mini_play_button:V=!0}=i,{show_current_time:B=!0}=i,{show_duration:F=!0}=i,{show_time_tooltip:H=!0}=i,{disable_progress_bar:z=!1}=i,{disable_forward_rewind:W=!1}=i,{custom_class_for_bottom_bar:j}=i,{bottom_bar_theme:K="default"}=i,{one_line_controls:Y=!1}=i,{settings_menu_is_open:G=!1}=i,{subtitles_are_on:Z=!1}=i,{subtitles_exist:X=!1}=i,{cuepoints:Q=[]}=i,{current_cuepoint:J=null}=i,{bottom_bar_inline_styles:ee=""}=i;const te=Ye("playerRect");return u(e,te,(e=>r(61,c=e))),e.$$set=e=>{r(58,i=t(t({},i),g(e))),"playing"in e&&r(0,_=e.playing),"duration"in e&&r(1,p=e.duration),"current_time"in e&&r(2,m=e.current_time),"buffered"in e&&r(3,f=e.buffered),"muted"in e&&r(4,v=e.muted),"volume"in e&&r(5,w=e.volume),"playback_rate"in e&&r(6,$=e.playback_rate),"levels"in e&&r(7,E=e.levels),"active_level"in e&&r(8,y=e.active_level),"auto_level"in e&&r(9,b=e.auto_level),"video_type"in e&&r(10,C=e.video_type),"actual_live"in e&&r(11,x=e.actual_live),"fullscreen_active"in e&&r(12,R=e.fullscreen_active),"is_mobile"in e&&r(13,S=e.is_mobile),"episodes"in e&&r(14,P=e.episodes),"current_episode"in e&&r(15,T=e.current_episode),"episodes_times"in e&&r(16,L=e.episodes_times),"episodes_times_map"in e&&r(17,D=e.episodes_times_map),"show_audio_control"in e&&r(18,O=e.show_audio_control),"only_toggle_audio_control"in e&&r(19,M=e.only_toggle_audio_control),"show_settings"in e&&r(59,I=e.show_settings),"show_level_settings"in e&&r(60,A=e.show_level_settings),"show_rate_settings"in e&&r(20,k=e.show_rate_settings),"show_fullscreen_control"in e&&r(21,q=e.show_fullscreen_control),"should_show_progress_bar"in e&&r(22,N=e.should_show_progress_bar),"show_mini_play_button"in e&&r(23,V=e.show_mini_play_button),"show_current_time"in e&&r(24,B=e.show_current_time),"show_duration"in e&&r(25,F=e.show_duration),"show_time_tooltip"in e&&r(26,H=e.show_time_tooltip),"disable_progress_bar"in e&&r(27,z=e.disable_progress_bar),"disable_forward_rewind"in e&&r(28,W=e.disable_forward_rewind),"custom_class_for_bottom_bar"in e&&r(29,j=e.custom_class_for_bottom_bar),"bottom_bar_theme"in e&&r(30,K=e.bottom_bar_theme),"one_line_controls"in e&&r(31,Y=e.one_line_controls),"settings_menu_is_open"in e&&r(32,G=e.settings_menu_is_open),"subtitles_are_on"in e&&r(33,Z=e.subtitles_are_on),"subtitles_exist"in e&&r(34,X=e.subtitles_exist),"cuepoints"in e&&r(35,Q=e.cuepoints),"current_cuepoint"in e&&r(36,J=e.current_cuepoint),"bottom_bar_inline_styles"in e&&r(37,ee=e.bottom_bar_inline_styles)},e.$$.update=()=>{17408&e.$$.dirty[0]|16&e.$$.dirty[1]&&r(38,s=!Q.length&&P.length>0&&C!==we.LIVE),4096&e.$$.dirty[0]|32&e.$$.dirty[1]&&r(43,n=R&&J),1024&e.$$.dirty[0]&&r(42,o=C===we.LIVE),536870912&e.$$.dirty[1]&&r(39,a=A&&!("undefined"!=typeof window&&/iPhone OS/i.test(window.navigator.userAgent))),1048576&e.$$.dirty[0]|268435712&e.$$.dirty[1]&&r(41,l=I&&(a||k)),1073741952&e.$$.dirty[1]&&r(40,d=c.width<420&&s)},i=g(i),[_,p,m,f,v,w,$,E,y,b,C,x,R,S,P,T,L,D,O,M,k,q,N,V,B,F,H,z,W,j,K,Y,G,Z,X,Q,J,ee,s,a,d,l,o,n,te,function(){h("m-togglePlayPause")},function(e){h("m-toggleMuted",e.detail)},function(e){h("m-volumeChange",e.detail)},function(e){h("m-changeProgress",e.detail)},function(){h("m-mouseDownProgress")},function(){h("m-mouseUpProgress")},function(e){h("m-changePlaybackRate",e.detail)},function(){h("m-backToLive")},function(e){h("m-changeLevel",e.detail)},function(){h("m-toggleAutoLevel")},function(e){bt(e),h("m-toggleSettingsMenu")},function(){h("m-toggleFullscreen")},function(e){bt(e),h("m-toggleSubtitles")},i,I,A,c]}class Ds extends ce{constructor(e){super(),de(this,e,Ls,Ts,o,{playing:0,duration:1,current_time:2,buffered:3,muted:4,volume:5,playback_rate:6,levels:7,active_level:8,auto_level:9,video_type:10,actual_live:11,fullscreen_active:12,is_mobile:13,episodes:14,current_episode:15,episodes_times:16,episodes_times_map:17,show_audio_control:18,only_toggle_audio_control:19,show_settings:59,show_level_settings:60,show_rate_settings:20,show_fullscreen_control:21,should_show_progress_bar:22,show_mini_play_button:23,show_current_time:24,show_duration:25,show_time_tooltip:26,disable_progress_bar:27,disable_forward_rewind:28,custom_class_for_bottom_bar:29,bottom_bar_theme:30,one_line_controls:31,settings_menu_is_open:32,subtitles_are_on:33,subtitles_exist:34,cuepoints:35,current_cuepoint:36,bottom_bar_inline_styles:37},Qr,[-1,-1,-1])}}function Os(e){if(!e||"string"!=typeof e)return e;try{return JSON.parse(e)}catch{return}}class Ms{loading=!1;list=[];landscapes=[];config;dispatchExternal;constructor({dispatchExternal:e}){this.dispatchExternal=e}async load(e){if(!this.loading)return this.loading=!0,this.config=e,await this.fetchLandscapes(),this.flattenLandscapes().finally((()=>{this.loading=!1}))}async reload(){await this.load(this.config)}reset(){this.landscapes=[],this.list.splice(0,this.list.length)}async fetchLandscapes(){try{const e=/^https:\/\/([^\\/]+)\/(vod|stream)\/(.+)/,t=this.config.videoSrc.match(e);if(!t)return void this.dispatchExternal(Ee.Error,{message:`previw error: video url ${this.config.videoSrc} does not match pattern`});const[,i,r,s]=t,n=`https://${i.replace(/^s\./,"v.")}/player_meta/`+("vod"===r?"vod":"live")+"/"+`${s}?`+`video_type=${this.config.videoType}&entities=timeline`,o=await fetch(n).then((e=>e.json()));this.landscapes=o.timeline.timeline_index,this.landscapes.sort(((e,t)=>e.ts[0]-t.ts[0]))}catch(e){this.dispatchExternal(Ee.Error,{data:e,message:"previw error: failed to fetch previews"})}}async flattenLandscapes(){return new Promise((e=>{const t=this.landscapes[0];if(t){const{url:i,items_per_x:r,items_per_y:s}=t,n=new Image;n.src=i,n.onload=()=>{const t=[],i=n.width,o=n.height,a=i/r,l=o/s,{width:d,height:c}=a>=l?{width:he,height:he*l/a}:{width:he*a/l,height:he};for(let e=0;e<this.landscapes.length;e++)t.push(...this.getImagesFromSprite(this.landscapes[e],d,c));this.list.splice(0,this.list.length),this.list.push(...t),e()},n.onerror=t=>{this.dispatchExternal(Ee.Error,{data:t,message:`previw error: failed to load preview landscape ${i}`}),e()}}else e()}))}getImagesFromSprite(e,t,i){const r=[],{items_per_x:s,items_per_y:n,ts:o,url:a}=e;for(let l=0;l<n;l++)for(let e=0;e<s;e++){const d=l*s+e;if(d>=o.length)continue;const c=`url(${a}) ${-t*e}px ${-i*l}px / ${t*s}px ${i*n}px`;r.push({src:c,width:t,height:i,time:o[d]})}return r}getPreviewByTime(e){return this.findNearestPreview(this.list,e,0,this.list.length)}findNearestPreview(e,t,i,r){if(i===r)return null;if(r-i==1)return e[i];const s=Math.floor((i+r)/2),n=e[s],o=e[s-1];return o&&Math.abs(t-o.time)<Math.abs(t-n.time)?this.findNearestPreview(e,t,i,s):this.findNearestPreview(e,t,s,r)}}function Is(e){E(e,"svelte-g9uwzu",".circle.svelte-g9uwzu{transform:rotate(0);transform-origin:center;animation:svelte-g9uwzu-rotating 1s linear infinite;stroke-dasharray:80 30;color:rgb(255, 255, 255)}@keyframes svelte-g9uwzu-rotating{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}")}function As(t){let i,r;return{c(){i=R("svg"),r=R("circle"),D(r,"class","circle svelte-g9uwzu"),D(r,"cx","30"),D(r,"cy","30"),D(r,"r","23.67"),D(r,"fill","none"),D(r,"stroke","currentColor"),D(r,"stroke-linecap","round"),D(r,"stroke-width","5"),D(i,"xmlns","http://www.w3.org/2000/svg"),D(i,"width","60px"),D(i,"height","60px"),D(i,"preserveAspectRatio","xMidYMid"),D(i,"viewBox","0 0 60 60")},m(e,t){y(e,i,t),$(i,r)},p:e,i:e,o:e,d(e){e&&b(i)}}}class ks extends ce{constructor(e){super(),de(this,e,null,As,o,{},Is)}}class qs{videoElement;src;preloadSettings;mediaSource;sourceBuffer;allSegmentsLoaded=!1;constructor(e,t,i){this.videoElement=e,this.src=i.baseSrc?i.baseSrc:t,this.preloadSettings=i.preload}async load(){try{this.initMediaSource(),await this.openBufferAndLoadSegments()}catch{this.fallbackToDirectPlay()}}async openBufferAndLoadSegments(){this.mediaSource.addEventListener("sourceopen",(async()=>{this.sourceBuffer=this.mediaSource.addSourceBuffer(this.preloadSettings.videoContentType),this.mediaSource.duration=this.preloadSettings.videoDuration&&Number(this.preloadSettings.videoDuration),await this.loadSegmentsConsistently()}),{once:!0})}async loadSegmentsConsistently(){let{videoChunkDuration:e,videoDuration:t}=this.preloadSettings;e=e&&Number(e),t=t&&Number(t);let i=0;for(;!this.allSegmentsLoaded;){t-i<=e+1&&(e+=1);const r=await this.loadSegment({duration:e,durationFrom:i});await this.addSegment(r),i+=e,this.allSegmentsLoaded=t<=i}this.closeMediaStream()}async loadSegment(e){const t=new URL(this.src);t.searchParams.set("from",e.durationFrom.toString()),t.searchParams.set("dur",e.duration.toString());const i=await fetch(t.toString());return await i.arrayBuffer()}async addSegment(e){await this.appendBuffer(e)}async appendBuffer(e){if(!this.sourceBuffer)throw new Error("SourceBuffer  ");const t=()=>new Promise((e=>{this.sourceBuffer.addEventListener("updateend",(()=>e()),{once:!0})}));this.sourceBuffer.updating&&await t(),this.sourceBuffer.appendBuffer(e),await t()}closeMediaStream(){"open"===this.mediaSource.readyState&&this.mediaSource.endOfStream()}initMediaSource(){if(!("MediaSource"in window))throw new Error("MediaSource API   ");const e=this.preloadSettings.videoContentType;if(!e)throw new Error("   contentType ");if(!MediaSource.isTypeSupported(e))throw new Error(` codec: ${e}`);this.mediaSource=new MediaSource,this.videoElement.src=URL.createObjectURL(this.mediaSource)}fallbackToDirectPlay(){this.videoElement.src=this.src,this.videoElement.play()}}class Ns extends Ie{preloader=null;type=$e.MP4;swAttemptLeft=3;constructor(e,t={}){super(e,t)}getWorkerByRegistration(e){return e?e.active||e.installing||e.waiting:null}async registerServiceWorker(){if(!this.swAttemptLeft)return void this._emit(`m-${Ee.LogError}`,{message:"mp4: Sevice worker error"});this.swAttemptLeft--,navigator.serviceWorker?.controller?.scriptURL.includes(Me)||await navigator.serviceWorker.register(Me,{scope:"/"});let e=await navigator.serviceWorker.ready;if(!navigator.serviceWorker.controller)try{const e=await navigator.serviceWorker.getRegistration("/");return await e.unregister(),this.registerServiceWorker()}catch(e){return void this._emit(`m-${Ee.LogError}`,{message:"mp4: Sevice worker error"})}let t=this.getWorkerByRegistration(e);if(t||(e=await navigator.serviceWorker.getRegistration("/"),t=this.getWorkerByRegistration(e)),t)return t;this._emit(`m-${Ee.LogError}`,{message:"mp4: Sevice worker error; after waiting on .ready, still no worker"})}attach(e){this.isMediaNative=!0,Object.values(this.sourceSettings.extraRequestHeaders??{}).length&&"serviceWorker"in navigator?this.registerServiceWorker().then((t=>{t?.postMessage(JSON.stringify({headers:this.sourceSettings.extraRequestHeaders})),this.setVideoElementAndSource(e,this.src)})).catch((()=>{this._emit(`m-${Ee.LogError}`,{message:"mp4: Sevice worker error"})})):this.setVideoElementAndSource(e,this.src),setTimeout((()=>{this._emit(`m-${Ee.MediaAttach}`)}))}setVideoElementAndSource(e,t){if(this.videoElement=e,this.sourceSettings&&this.sourceSettings.preload){const{sourcePreload:e,videoChunkDuration:t,videoDuration:i,videoContentType:r}=this.sourceSettings.preload;if("default"!==e&&t&&i&&r)return this.preloader=new qs(this.videoElement,this.src,this.sourceSettings),void this.preloader.load()}this.setVideoSource(t)}setVideoSource(e){this.videoElement.src.startsWith("blob:")&&URL.revokeObjectURL(this.videoElement.src),e instanceof Blob?this.videoElement.src=URL.createObjectURL(e):this.videoElement.src=e}}const Us=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Vs(e){return(e&&e.message||"No error message").split("\n").filter((e=>!!e))[0]}class Bs{apiUrl;authHeader;environment;constructor(e){if(e&&e.dsn){const t=Us.exec(e.dsn),i=t?t.slice(1):[],r=i[5].split("/"),s=r.slice(0,-1).join("/");this.apiUrl=i[0]+"://"+i[3]+(i[4]?":"+i[4]:"")+(s?"/"+s:"")+"/api/"+r.pop()+"/store/",this.authHeader="Sentry sentry_version=7,sentry_key="+i[1]+(i[2]?",sentry_secret="+i[2]:"")}this.environment=e?.environment}prepare(e){return{...this.getRequestBlank(),exception:{values:[(t=e,{value:Vs(t),type:t&&t.name,url:"2222"})]}};var t}report(e){this.send(this.prepare(e))}send(e){this.apiUrl&&e&&this.createRequest(e)}createRequest(e){const t={method:"POST",headers:{"Content-type":"application/json","X-Sentry-Auth":this.authHeader||""},body:JSON.stringify(e),keepalive:!0};fetch(this.apiUrl,t)}getRequestBlank(){return{platform:"javascript",sdk:{name:"player-sentry-sdk",version:"0.0.0"},timestamp:Date.now()/1e3,environment:this.environment}}}class Fs extends Bs{options;window;_state={};ignoreErrors;release;constructor(e,t=function(){return window}()){super(e),this.options=e,this.window=t;const{ignoreErrors:i=[],release:r}=this.options||{};this.ignoreErrors=i,this.release=r}get state(){return this._state}setTag(e,t){return this.extendState({tags:{[e]:t}}),this}addBreadcrumb(e){this.extendState({breadcrumbs:{timestamp:Date.now()/1e3,...e}})}getRequestBlank(){return{request:{url:this.window.location.toString(),headers:{"User-Agent":this.window.navigator.userAgent}},...super.getRequestBlank(),...this._state}}extendState(e){this._state={...this._state,...Object.keys(e).reduce(((t,i)=>{const r=this._state[i];return r&&"object"==typeof r?Array.isArray(r)?{...t,[i]:[...r,...e[i]]}:{...t,[i]:{...r,...e[i]}}:{...t,[i]:e[i]}}),{})}}setKeyState(e,t){this._state[e]=t}}const Hs={m3u8:"video/mp4",mp4:"video/mp4",m4s:"video/mp4",m4v:"video/mp4",m4a:"audio/mp4",avi:"video/x-msvideo",webm:"video/webm",mkv:"x-matroska",wmv:"video/x-ms-wmv",mpg:"video-mpg",mov:"video/quicktime",flv:"video/x-flv",mpd:"video/mp4"},zs=1e6;class Ws extends Ie{mediaSource;sourceBuffer;srcList=[];lastSegmentLoaded=0;currentByte=0;contentRange=0;constructor(e,t={}){super(e[0],t),this.srcList=e}attach(e){this.videoElement=e,this.mediaSource=new MediaSource,this.videoElement.src=URL.createObjectURL(this.mediaSource),this.mediaSource.addEventListener("sourceopen",this.onSourceOpen.bind(this),{once:!0}),setTimeout((()=>{this._emit(`m-${Ee.MediaAttach}`)}))}buildRange(){return`bytes=${this.currentByte}-${this.currentByte+zs}`}onSourceOpen(){URL.revokeObjectURL(this.videoElement.src),this.sourceBuffer=this.mediaSource.addSourceBuffer('video/webm; codecs="vp09.00.10.08"'),fetch(this.srcList[0]).then((e=>e.arrayBuffer())).then((e=>{this.sourceBuffer.mode="sequence",this.sourceBuffer.appendBuffer(e),this.sourceBuffer.addEventListener("updateend",this.fetchNextSegment.bind(this),{once:!0})}))}async fetchNextSegment(){const e=await fetch(this.srcList[this.lastSegmentLoaded+1],{headers:{range:this.buildRange()}});this.contentRange=Number(e.headers.get("Content-Range")?.split("/")?.[1]);const t=await e.arrayBuffer();this.sourceBuffer.appendBuffer(t);const i=this.currentByte+zs+1;if(this.contentRange?i>=this.contentRange:t.byteLength<zs){if(this.currentByte=0,this.lastSegmentLoaded++,this.lastSegmentLoaded>=this.srcList.length-1)return void this.sourceBuffer.addEventListener("updateend",(()=>{this.mediaSource.endOfStream()}),{once:!0})}else this.currentByte=i;this.sourceBuffer.addEventListener("updateend",(()=>{this.fetchNextSegment()}),{once:!0})}}function js(e){return"string"==typeof e?e.split("?")[0]:Array.isArray(e)?e.map((e=>js(e))):e}function Ks(e){let t,i;return{c(){t=x("img"),D(t,"class","overlay"),d(t.src,i=e[2])||D(t,"src",i)},m(e,i){y(e,t,i)},p(e,r){4&r[0]&&!d(t.src,i=e[2])&&D(t,"src",i)},d(e){e&&b(t)}}}function Ys(e){let t,i;return t=new it({props:{custom_play_button_class:e[1],playing:e[13],ended:e[12],"qa-id":"video-player.play-pause-btn"}}),t.$on("click",e[136]),{c(){oe(t.$$.fragment)},m(e,r){ae(t,e,r),i=!0},p(e,i){const r={};2&i[0]&&(r.custom_play_button_class=e[1]),8192&i[0]&&(r.playing=e[13]),4096&i[0]&&(r.ended=e[12]),t.$set(r)},i(e){i||(ie(t.$$.fragment,e),i=!0)},o(e){re(t.$$.fragment,e),i=!1},d(e){le(t,e)}}}function Gs(t){let i,r;return i=new ks({}),{c(){oe(i.$$.fragment)},m(e,t){ae(i,e,t),r=!0},p:e,i(e){r||(ie(i.$$.fragment,e),r=!0)},o(e){re(i.$$.fragment,e),r=!1},d(e){le(i,e)}}}function Zs(e){let t,i,r;return i=new Ds({props:{playing:e[13],duration:e[11],buffered:e[23],muted:e[24],volume:e[25],bottom_bar_inline_styles:e[7],playback_rate:e[26],levels:e[27],active_level:e[28],auto_level:e[29],video_type:e[15],actual_live:e[33],show_audio_control:e[55],only_toggle_audio_control:e[54],show_settings:e[53],settings_menu_is_open:e[35],show_level_settings:e[52],show_rate_settings:e[51],show_fullscreen_control:e[50],should_show_progress_bar:e[39],show_mini_play_button:e[49],show_current_time:e[48],show_duration:e[47],show_time_tooltip:e[43],disable_progress_bar:e[46],disable_forward_rewind:e[45],custom_class_for_bottom_bar:e[0],one_line_controls:e[44],current_episode:e[34],episodes_times:e[38],episodes_times_map:e[37],episodes:e[20],cuepoints:e[19],current_cuepoint:e[16],current_time:e[22],fullscreen_active:e[31],is_mobile:e[14],bottom_bar_theme:e[4],subtitles_are_on:e[36],subtitles_exist:e[18],"qa-id":"video-player.bottom-bar"}}),i.$on("m-togglePlayPause",e[138]),i.$on("m-changeProgress",e[67]),i.$on("m-mouseUpProgress",e[139]),i.$on("m-mouseDownProgress",e[140]),i.$on("m-toggleMuted",e[141]),i.$on("m-volumeChange",e[142]),i.$on("m-changePlaybackRate",e[143]),i.$on("m-changeLevel",e[144]),i.$on("m-toggleAutoLevel",e[145]),i.$on("m-toggleFullscreen",e[62]),i.$on("m-backToLive",e[146]),i.$on("m-toggleSettingsMenu",e[65]),i.$on("m-toggleSubtitles",e[66]),{c(){t=x("div"),oe(i.$$.fragment),D(t,"class","bottomBar"),I(t,"hidden",!e[40])},m(e,s){y(e,t,s),ae(i,t,null),r=!0},p(e,s){const n={};8192&s[0]&&(n.playing=e[13]),2048&s[0]&&(n.duration=e[11]),8388608&s[0]&&(n.buffered=e[23]),16777216&s[0]&&(n.muted=e[24]),33554432&s[0]&&(n.volume=e[25]),128&s[0]&&(n.bottom_bar_inline_styles=e[7]),67108864&s[0]&&(n.playback_rate=e[26]),134217728&s[0]&&(n.levels=e[27]),268435456&s[0]&&(n.active_level=e[28]),536870912&s[0]&&(n.auto_level=e[29]),32768&s[0]&&(n.video_type=e[15]),4&s[1]&&(n.actual_live=e[33]),16777216&s[1]&&(n.show_audio_control=e[55]),8388608&s[1]&&(n.only_toggle_audio_control=e[54]),4194304&s[1]&&(n.show_settings=e[53]),16&s[1]&&(n.settings_menu_is_open=e[35]),2097152&s[1]&&(n.show_level_settings=e[52]),1048576&s[1]&&(n.show_rate_settings=e[51]),524288&s[1]&&(n.show_fullscreen_control=e[50]),256&s[1]&&(n.should_show_progress_bar=e[39]),262144&s[1]&&(n.show_mini_play_button=e[49]),131072&s[1]&&(n.show_current_time=e[48]),65536&s[1]&&(n.show_duration=e[47]),4096&s[1]&&(n.show_time_tooltip=e[43]),32768&s[1]&&(n.disable_progress_bar=e[46]),16384&s[1]&&(n.disable_forward_rewind=e[45]),1&s[0]&&(n.custom_class_for_bottom_bar=e[0]),8192&s[1]&&(n.one_line_controls=e[44]),8&s[1]&&(n.current_episode=e[34]),128&s[1]&&(n.episodes_times=e[38]),64&s[1]&&(n.episodes_times_map=e[37]),1048576&s[0]&&(n.episodes=e[20]),524288&s[0]&&(n.cuepoints=e[19]),65536&s[0]&&(n.current_cuepoint=e[16]),4194304&s[0]&&(n.current_time=e[22]),1&s[1]&&(n.fullscreen_active=e[31]),16384&s[0]&&(n.is_mobile=e[14]),16&s[0]&&(n.bottom_bar_theme=e[4]),32&s[1]&&(n.subtitles_are_on=e[36]),262144&s[0]&&(n.subtitles_exist=e[18]),i.$set(n),(!r||512&s[1])&&I(t,"hidden",!e[40])},i(e){r||(ie(i.$$.fragment,e),r=!0)},o(e){re(i.$$.fragment,e),r=!1},d(e){e&&b(t),le(i)}}}function Xs(t){let i,r,n,o,a,l,d,c,u,h,_,p,m,f,g,v=t[2]&&t[10]&&t[10].player&&!t[10].player.firstPlayEventPassed&&Ks(t);const w=[Gs,Ys],E=[];function C(e,t){return e[30]?0:e[42]?1:-1}~(d=C(t))&&(c=E[d]=w[d](t));let R=t[41]&&Zs(t);return{c(){i=x("div"),r=x("video"),n=P(),o=x("div"),v&&v.c(),a=P(),l=x("div"),c&&c.c(),u=P(),h=x("div"),_=x("div"),p=P(),R&&R.c(),this.c=e,D(r,"class","video"),D(r,"qa-id","video-player.video-element"),D(r,"preload",t[5]),D(r,"fetchpriority",t[6]),D(l,"class","centralButtonContainer"),D(_,"class","subtitle"),I(_,"hidden",!t[36]),I(_,"mobileSubtitleWidth",t[14]),I(_,"onTopOfBottomBar",t[41]),D(h,"class","bottomPanel"),D(o,"class","videoSettingsControl"),D(i,"class","player"),D(i,"tabindex","-1"),D(i,"data-player-id",t[58]),D(i,"qa-id","video-player"),I(i,"fitToContainer",t[57]),I(i,"uiHidden",t[17]),I(i,"videoObjectFitCover",t[56]),M(i,"background-color",t[3])},m(e,s){y(e,i,s),$(i,r),t[134](r),$(i,n),$(i,o),v&&v.m(o,null),$(o,a),$(o,l),~d&&E[d].m(l,null),$(o,u),$(o,h),$(h,_),t[137](_),$(h,p),R&&R.m(h,null),t[147](i),m=!0,f||(g=[L(r,"focus",t[135]),L(i,"focus",t[148]),L(i,"blur",t[149]),L(i,"mousemove",t[63]),L(i,"mouseleave",t[64]),L(i,"touchmove",t[63]),L(i,"click",t[61])],f=!0)},p(e,t){(!m||32&t[0])&&D(r,"preload",e[5]),(!m||64&t[0])&&D(r,"fetchpriority",e[6]),e[2]&&e[10]&&e[10].player&&!e[10].player.firstPlayEventPassed?v?v.p(e,t):(v=Ks(e),v.c(),v.m(o,a)):v&&(v.d(1),v=null);let s=d;d=C(e),d===s?~d&&E[d].p(e,t):(c&&(ee(),re(E[s],1,1,(()=>{E[s]=null})),te()),~d?(c=E[d],c?c.p(e,t):(c=E[d]=w[d](e),c.c()),ie(c,1),c.m(l,null)):c=null),(!m||32&t[1])&&I(_,"hidden",!e[36]),(!m||16384&t[0])&&I(_,"mobileSubtitleWidth",e[14]),(!m||1024&t[1])&&I(_,"onTopOfBottomBar",e[41]),e[41]?R?(R.p(e,t),1024&t[1]&&ie(R,1)):(R=Zs(e),R.c(),ie(R,1),R.m(h,null)):R&&(ee(),re(R,1,1,(()=>{R=null})),te()),(!m||67108864&t[1])&&I(i,"fitToContainer",e[57]),(!m||131072&t[0])&&I(i,"uiHidden",e[17]),(!m||33554432&t[1])&&I(i,"videoObjectFitCover",e[56]),8&t[0]&&M(i,"background-color",e[3])},i(e){m||(ie(c),ie(R),m=!0)},o(e){re(c),re(R),m=!1},d(e){e&&b(i),t[134](null),v&&v.d(),~d&&E[d].d(),t[137](null),R&&R.d(),t[147](null),f=!1,s(g)}}}function Qs(e,t,i){let r,s,n,o,a,l,d,c,h,_,p,m,f,g,v,$,E,y,b,C,x,R,S,P,T,L,D,O,M,I,A,k,V,F,H,z,W,j,K,Y,G,Z,X,Q,J,ee,te,ie,re,se,ne,oe,ae,le,de,ce,he,{src:me=""}=t,{src_list:fe=[]}=t,{metrics_events_meta:ge={}}=t,{loop:ve=!1}=t,{initial_muted:$e=!1}=t,{initial_volume:ye=1}=t,{start_time:be}=t,{try_autoplay:Ce=!1}=t,{environment:xe="dev"}=t,{performance_metrics_options:Re={}}=t,{force_disable_metrics:Se=!1}=t,{single_playing_instance:Pe=!1}=t,{hotkeys_enabled:Te=!0}=t,{cuepoints:Me=[]}=t,{cuepoint_arise_duration:Ie=1}=t,{episodes:qe=[]}=t,{send_sentry_event:Ne=!0}=t,{sentry_meta_data:Ue}=t,{extra_request_headers:Fe={}}=t,{only_toggle_audio_control:He=!1}=t,{show_settings:ze=!0}=t,{show_level_settings:We=!0}=t,{show_rate_settings:je=!0}=t,{show_fullscreen_control:Ke=!0}=t,{show_progress_bar:Ye=!0}=t,{show_mini_play_button:Ze=!0}=t,{show_current_time:Xe=!0}=t,{show_duration:Qe=!0}=t,{show_bottom_bar:Je=!0}=t,{show_audio_control:et=!0}=t,{show_large_play_button_on_start:tt=!0}=t,{show_large_play_button_on_pause:it=!1}=t,{show_large_play_button_on_end:rt=!1}=t,{play_pause_on_click_video:st=!0}=t,{show_preview_for_video_type:nt}=t,{show_progress_bar_for_live_video:ot=!0}=t,{show_time_tooltip:at=!0}=t,{disable_progress_bar:lt=!1}=t,{disable_forward_rewind:dt=!1}=t,{hide_ui_on_pointer_leave:ct=!0}=t,{hide_ui_when_idle_seconds:ut=3}=t,{custom_fullscreen_element_class_name:ht=""}=t,{custom_class_for_bottom_bar:_t=""}=t,{custom_play_button_class:pt=""}=t,{overlay_src:mt=""}=t,{fit_to_container:ft=!1}=t,{background_color:gt="transparent"}=t,{bottom_bar_theme:vt="default"}=t,{one_line_controls:wt=!1}=t,{video_object_fit_cover:$t=!1}=t,{preload:Et}=t,{disable_picture_in_picture:yt=!0}=t,{plays_inline:bt=!0}=t,{fetch_priority:Ct="auto"}=t,{src_list_for_preload:xt=[]}=t,{bottom_bar_inline_styles:Rt=""}=t,{crossorigin:St=""}=t,{live_stream_mode:Pt=!1}=t,{sw_prefetch_params:Tt={}}=t,Lt=!1,Dt=0,Ot=!0,Mt=!1,It=!1,At=0,kt=0,qt=!1,Nt=0,Ut=1,Vt=[],Bt=0,Ft=!0,Ht=!1,zt="",Wt="",jt=!1;const Kt=["fullscreenchange","webkitfullscreenchange","webkitendfullscreen"];let Yt,Gt=!1,Zt=!1,Xt=we.UNKNOWN,Qt=!1,Jt=null,ei=null,ti=null,ii=!1,ri=0,si=!1,ni=!1,oi=!1;const ai=Math.random();Ge("playerId",ai);const li=Ve({left:0,width:0,height:0});u(e,li,(e=>i(171,ne=e))),Ge("playerRect",li),Ge("progressBarRect",Ve({left:0,width:0,height:0}));const di=U(),ci=q(),ui=(e,t)=>{di(e,t),ci.dispatchEvent&&ci.dispatchEvent(new CustomEvent(e,{detail:t,bubbles:!0,composed:!0}))},hi=new Ms({dispatchExternal:ui});function _i(){pi(),le?.removeGlobalPlayerBusEventListeners(),he&&Kt.forEach((e=>{he.removeEventListener(e,gi)})),document.removeEventListener("keydown",bi),window.removeEventListener("resize",Si),window.removeEventListener("scroll",Si),mi(),function(e,t){const i=window.__ClientMetrics__;e&&i&&i.trackCustomMetric&&"function"==typeof i.trackCustomMetric&&window.__ClientMetrics__.trackCustomMetric({propertyUrl:t,metrics:Object.entries(e.metrics||{}).map((([e,t])=>({metric:e,value:t,name:"VIDEO"}))),objectType:"CUSTOM"})}(le?.player.getPerformanceInfo(),zt),le?.player.destroy()}function pi(){if(z&&At<=0&&ri&&(le?.tryPlayed||a)){const e=Date.now()-ri;if(!fetch)return;const t=new Fs({dsn:"https://44b4056e3577437fa3d12c912b618ef0@sentry.ozon.ru/674"});t.addBreadcrumb({data:{src:zt,time:e,domain:window.origin,...Object.keys(W).length?W:{}}}),t.setTag("playback_attempt_time",e),t.setTag("src",zt),t.setTag("level","error"),t.setTag("time",e),t.setTag("domain",window.origin),t.report({message:zt,name:"PlaybackAttemptTime"})}}function mi(){clearTimeout(ti)}function fi(){ui(pe.VideoTap,{}),Ri(),It&&Ci()}function gi(){const e=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;i(31,jt=!!e),ui(pe.FullScreenStateChange,jt),setTimeout((()=>Si()),500)}async function vi(){if(jt)document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():Promise.reject();else try{await function(e){return e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen?e.msRequestFullscreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):e.webkitEnterFullScreen?e.webkitEnterFullScreen(Element.ALLOW_KEYBOARD_INPUT):Promise.reject()}(he)}catch(e){console.error("    fullscreen ",e)}}function wi(e=At){return Xt===we.LIVE&&Dt-e<=10}function $i(){le.onChangeActualLive(wi())}function Ei(){le.addPlayerEventListeners(a);const e=Ti((e=>function(e){if(ie?.length>0){const t=xi(ie,e),r=re.get(t)||null;r!==Jt&&(i(34,Jt=r),ui(pe.EpisodeReached,Jt))}}(e))),t=Ti((e=>function(e){const t=se.get(e);t&&function(e){v>0&&(mi(),i(16,ei=e),ti=setTimeout((()=>{i(16,ei=null),mi()}),1e3*v))}(t)}(e))),r={[`m-${_e.Play}`]:()=>{Ci(),$i()},[`m-${_e.Pause}`]:()=>{Ri()},[`m-${_e.PlaybackRateChange}`]:()=>{$i()},[`m-${_e.Rewind}`]:()=>{$i()},[`m-${_e.TimeUpdate}`]:i=>{t(i),e(i),It||$i(),Ut>1&&wi()&&le.onChangePlaybackRate(1)},[`m-${Ee.LevelUpdated}`]:({data:e})=>{const{details:t}=e,{live:r}=t;i(15,Xt=r?we.LIVE:we.VOD)},[`m-${Ee.ManifestUpdated}`]:({manifest:e})=>{i(15,Xt="dynamic"===e.type?we.LIVE:we.VOD)},[`m-${_e.LoadingStateChange}`]:e=>{i(30,Ht=e)},[`m-${_e.DurationChange}`]:e=>{It||$i();const t=Xt!==we.VOD;e===1/0&&t&&(le.onChangeActualLive(!0),i(15,Xt=we.LIVE))}};Object.entries(r).forEach((([e,t])=>{le?.player.on(e,t)}))}function yi(){let[e,t]=function(e,t){return Le.test(e)?[new Ae(e,t),we.UNKNOWN]:Oe.test(e)||e&&e.indexOf("blob")>=0||e&&e.indexOf("chat:")>=0?[new Ns(e.replace("chat:",""),t),we.VOD]:De.test(e)?[new ke(e,{...t,startTime:0}),we.UNKNOWN]:[null,we.UNKNOWN]}(zt,{startTime:o,extraRequestHeaders:j,preload:{sourcePreload:X.sourcePreload,videoDuration:X.videoDuration,videoChunkDuration:X.videoChunkDuration,videoContentType:X.videoContentType},baseSrc:me});n.length>=2&&([e,t]=[new Ws(n),we.VOD]),i(15,Xt=t),null===e&&t===we.UNKNOWN&&ui(_e.Error,{message:"player validation: invalid src",fatal:!0}),le.onUpdateSource(e),i(36,ni=!1)}function bi(e){if(!f||!Zt)return;if("KeyR"===e.code&&(e.metaKey||e.ctrlKey))return;const t=le?.player;if(t)switch(e.preventDefault(),e.stopPropagation(),e.code){case"KeyF":vi();break;case"KeyM":le.onToggleMuted(!t.muted);break;case"Space":case"Enter":le.onTogglePlayPause();break;case"ArrowUp":le.onChangeVolume(Nt+ue>1?1:Nt+ue);break;case"ArrowDown":le.onChangeVolume(Nt-ue<0?0:Nt-ue);break;case"ArrowLeft":le?.onChangeTime(At-10<0?0:At-10);break;case"ArrowRight":le?.onChangeTime(At+10>Dt?Dt:At+10);break;case"Digit0":case"Digit1":case"Digit2":case"Digit3":case"Digit4":case"Digit5":case"Digit6":case"Digit7":case"Digit8":case"Digit9":le?.onChangeTime(Dt*Number(e.code.split("Digit")[1])/10)}}function Ci(){A>0&&(clearTimeout(Yt),Yt=setTimeout((()=>{clearTimeout(Yt),i(17,ii=!0)}),1e3*A))}function Ri(){clearTimeout(Yt),i(17,ii=!1)}Ge("previews",hi),N((()=>{ri=Date.now(),function(e,t,i,r){const s=e.getElementsByTagName("video-player");if(!s?.length)return;const n=Array.from(s).find((e=>e?.shadowRoot.querySelector(`[data-player-id='${t}']`)));if(!n)return;const o=n.parentElement;new MutationObserver((e=>{for(const i of e)"childList"===i.type&&i.removedNodes.length&&i.removedNodes.forEach((e=>{e.nodeType!==Node.TEXT_NODE&&e.nodeType!==Node.COMMENT_NODE&&(e.shadowRoot?.querySelector(`[data-player-id='${t}']`)||Array.from(e.getElementsByTagName("video-player")).includes(n))&&(o?.removeEventListener("DOMNodeRemoved",r),r())}))})).observe(e,{attributes:!0,childList:!0,subtree:!0})}(document,ai,0,_i),i(10,le=new Be({id:ai,mediaRef:oe,src:r,initialMuted:Os($e)??!1,initialVolume:Os(ye)??1,startTime:o,loop:l,metricsEventsMeta:G,liveStreamMode:Z,dispatch:di,dispatchExternal:ui})),Si(),Os(Pe)&&le.addGlobalPlayerBusEventListeners(),document.addEventListener("keydown",bi),window.addEventListener("resize",Si),window.addEventListener("scroll",Si),window.addEventListener("beforeunload",pi),m||function(e,t){if(void 0===typeof window)return;if(!["prod","stg"].includes(e)||!t.domainName)return void console.error(" -   .\n ,     environment ('prod'|'stg')   performance_metrics_options.");if(window.__ClientMetrics__)return;const i=document.createElement("script");i.type="text/javascript",i.src="https://cdn2.ozone.ru/s3/client-metrics/3.7.40/main.js",i.onload=()=>{window.__ClientMetrics__&&(window.__ClientMetricsInit__={endpoint:"prod"===e?"https://xapi.ozon.ru/api/frontend-perf.bx/v2/events":"https://xapi-stg.ozonru.me/api/frontend-perf.bx/v2/events",object:{type:"APPLICATION"},trackMemory:!1,getAttributes:()=>({domainName:t.domainName,namespace:t.namespace||"bx",platform:"WEB",screenResolutionX:window.screen.width,screenResolutionY:window.screen.height,screenPixelDensity:window.devicePixelRatio,userAgent:navigator.userAgent})},window.__ClientMetrics__.init(window.__ClientMetricsInit__))},document.head.appendChild(i)}(xe,p),i(14,Gt="undefined"!=typeof window&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(window.navigator.userAgent)),i(119,Lt=!0),i(8,oe.playsInline=K,oe),i(8,oe.disablePictureInPicture=Y,oe)}));const Si=Pi((function(){if(!ae?.getBoundingClientRect)return;const{left:e,width:t,height:i}=ae.getBoundingClientRect();w(li,ne={left:e,width:t,height:i},ne)}),200);return e.$$set=e=>{"src"in e&&i(68,me=e.src),"src_list"in e&&i(69,fe=e.src_list),"metrics_events_meta"in e&&i(70,ge=e.metrics_events_meta),"loop"in e&&i(71,ve=e.loop),"initial_muted"in e&&i(72,$e=e.initial_muted),"initial_volume"in e&&i(73,ye=e.initial_volume),"start_time"in e&&i(74,be=e.start_time),"try_autoplay"in e&&i(75,Ce=e.try_autoplay),"environment"in e&&i(76,xe=e.environment),"performance_metrics_options"in e&&i(77,Re=e.performance_metrics_options),"force_disable_metrics"in e&&i(78,Se=e.force_disable_metrics),"single_playing_instance"in e&&i(79,Pe=e.single_playing_instance),"hotkeys_enabled"in e&&i(80,Te=e.hotkeys_enabled),"cuepoints"in e&&i(81,Me=e.cuepoints),"cuepoint_arise_duration"in e&&i(82,Ie=e.cuepoint_arise_duration),"episodes"in e&&i(83,qe=e.episodes),"send_sentry_event"in e&&i(84,Ne=e.send_sentry_event),"sentry_meta_data"in e&&i(85,Ue=e.sentry_meta_data),"extra_request_headers"in e&&i(86,Fe=e.extra_request_headers),"only_toggle_audio_control"in e&&i(87,He=e.only_toggle_audio_control),"show_settings"in e&&i(88,ze=e.show_settings),"show_level_settings"in e&&i(89,We=e.show_level_settings),"show_rate_settings"in e&&i(90,je=e.show_rate_settings),"show_fullscreen_control"in e&&i(91,Ke=e.show_fullscreen_control),"show_progress_bar"in e&&i(92,Ye=e.show_progress_bar),"show_mini_play_button"in e&&i(93,Ze=e.show_mini_play_button),"show_current_time"in e&&i(94,Xe=e.show_current_time),"show_duration"in e&&i(95,Qe=e.show_duration),"show_bottom_bar"in e&&i(96,Je=e.show_bottom_bar),"show_audio_control"in e&&i(97,et=e.show_audio_control),"show_large_play_button_on_start"in e&&i(98,tt=e.show_large_play_button_on_start),"show_large_play_button_on_pause"in e&&i(99,it=e.show_large_play_button_on_pause),"show_large_play_button_on_end"in e&&i(100,rt=e.show_large_play_button_on_end),"play_pause_on_click_video"in e&&i(101,st=e.play_pause_on_click_video),"show_preview_for_video_type"in e&&i(102,nt=e.show_preview_for_video_type),"show_progress_bar_for_live_video"in e&&i(103,ot=e.show_progress_bar_for_live_video),"show_time_tooltip"in e&&i(104,at=e.show_time_tooltip),"disable_progress_bar"in e&&i(105,lt=e.disable_progress_bar),"disable_forward_rewind"in e&&i(106,dt=e.disable_forward_rewind),"hide_ui_on_pointer_leave"in e&&i(107,ct=e.hide_ui_on_pointer_leave),"hide_ui_when_idle_seconds"in e&&i(108,ut=e.hide_ui_when_idle_seconds),"custom_fullscreen_element_class_name"in e&&i(109,ht=e.custom_fullscreen_element_class_name),"custom_class_for_bottom_bar"in e&&i(0,_t=e.custom_class_for_bottom_bar),"custom_play_button_class"in e&&i(1,pt=e.custom_play_button_class),"overlay_src"in e&&i(2,mt=e.overlay_src),"fit_to_container"in e&&i(110,ft=e.fit_to_container),"background_color"in e&&i(3,gt=e.background_color),"bottom_bar_theme"in e&&i(4,vt=e.bottom_bar_theme),"one_line_controls"in e&&i(111,wt=e.one_line_controls),"video_object_fit_cover"in e&&i(112,$t=e.video_object_fit_cover),"preload"in e&&i(5,Et=e.preload),"disable_picture_in_picture"in e&&i(113,yt=e.disable_picture_in_picture),"plays_inline"in e&&i(114,bt=e.plays_inline),"fetch_priority"in e&&i(6,Ct=e.fetch_priority),"src_list_for_preload"in e&&i(115,xt=e.src_list_for_preload),"bottom_bar_inline_styles"in e&&i(7,Rt=e.bottom_bar_inline_styles),"crossorigin"in e&&i(116,St=e.crossorigin),"live_stream_mode"in e&&i(117,Pt=e.live_stream_mode),"sw_prefetch_params"in e&&i(118,Tt=e.sw_prefetch_params)},e.$$.update=()=>{if(64&e.$$.dirty[2]&&i(127,r=js(me)),128&e.$$.dirty[2]&&i(133,s=function(e){return e.map((e=>({...e,src:js(e.src)})))}(Os(fe)??[])),4194304&e.$$.dirty[3]&&i(125,n=js(Os(xt)??[])),4096&e.$$.dirty[2]&&(o=Os(be)),8192&e.$$.dirty[2]&&(a=Os(Ce)??!1),512&e.$$.dirty[2]&&(l=Os(ve)??!1),131072&e.$$.dirty[3]&&i(57,d=Os(ft)??!1),2097152&e.$$.dirty[2]&&i(20,c=Os(qe)||[]),256&e.$$.dirty[3]&&(h=Os(st)??!0),524288&e.$$.dirty[3]&&i(56,_=Os($t)??!1),32768&e.$$.dirty[2]&&(p=Os(Re)??{}),65536&e.$$.dirty[2]&&(m=Os(Se)??!1),262144&e.$$.dirty[2]&&(f=Os(Te)??!0),524288&e.$$.dirty[2]&&i(19,g=Os(Me)||[]),1048576&e.$$.dirty[2]&&(v=Os(Ie)??1),16&e.$$.dirty[3]&&i(55,$=Os(et)??!0),33554432&e.$$.dirty[2]&&i(54,E=Os(He)??!1),67108864&e.$$.dirty[2]&&i(53,y=Os(ze)??!1),134217728&e.$$.dirty[2]&&i(52,b=Os(We)??!0),268435456&e.$$.dirty[2]&&i(51,C=Os(je)??!0),536870912&e.$$.dirty[2]&&i(50,x=Os(Ke)??!0),1073741824&e.$$.dirty[2]&&i(129,R=Os(Ye)??!0),1&e.$$.dirty[3]&&i(49,S=Os(Ze)??!0),2&e.$$.dirty[3]&&i(48,P=Os(Xe)??!0),4&e.$$.dirty[3]&&i(47,T=Os(Qe)??!0),1024&e.$$.dirty[3]&&i(128,L=Os(ot)??!0),4096&e.$$.dirty[3]&&i(46,D=Os(lt)??!1),8192&e.$$.dirty[3]&&i(45,O=Os(dt)??!1),262144&e.$$.dirty[3]&&i(44,M=Os(wt)??!1),16384&e.$$.dirty[3]&&(I=Os(ct)??!0),32768&e.$$.dirty[3]&&(A=Os(ut)??3),32&e.$$.dirty[3]&&i(132,k=Os(tt)??!0),64&e.$$.dirty[3]&&i(131,V=Os(it)??!1),128&e.$$.dirty[3]&&i(130,F=Os(rt)??!1),2048&e.$$.dirty[3]&&i(43,H=Os(at)??!0),4194304&e.$$.dirty[2]&&(z=Os(Ne)??!0),8388608&e.$$.dirty[2]&&(W=Os(Ue)??{}),16777216&e.$$.dirty[2]&&(j=Os(Fe)??{}),2097152&e.$$.dirty[3]&&(K=Os(bt)??!0),1048576&e.$$.dirty[3]&&(Y=Os(yt)??!0),256&e.$$.dirty[2]&&(G=Os(ge)??{}),16777216&e.$$.dirty[3]&&i(126,Z=Os(Pt)??!1),33554432&e.$$.dirty[3]&&(X=Os(Tt)??{}),520&e.$$.dirty[4]){const e=s.find((({src:e,codecs:t})=>function(e,t){const i=function(e){const t=e.split(".").pop()?.toLowerCase();return Hs[t]}(e);return!!i&&function(){if("undefined"!=typeof self)return self.MediaSource||self.WebKitMediaSource}()?.isTypeSupported(`${i}; codecs="${t}"`)}(e,t)));i(122,zt=e?e.src:r),s.length>0&&!e&&ui(_e.Error,{message:"player validation: none of the provided codecs are supported"})}536871424&e.$$.dirty[3]&&(hi.reset(),nt&&hi.load({videoSrc:zt,videoType:nt})),1024&e.$$.dirty[0]&&le&&(le.isPlayerObjectAttached.subscribe((e=>{i(120,ce=e)})),le.duration.subscribe((e=>{i(11,Dt=e)})),le.notStarted.subscribe((e=>{i(121,Ot=e)})),le.ended.subscribe((e=>{i(12,Mt=e)})),le.playing.subscribe((e=>{i(13,It=e)})),le.currentTime.subscribe((e=>{i(22,At=e)})),le.buffered.subscribe((e=>{i(23,kt=e)})),le.muted.subscribe((e=>{i(24,qt=e)})),le.volume.subscribe((e=>{i(25,Nt=e)})),le.playbackRate.subscribe((e=>{i(26,Ut=e)})),le.levels.subscribe((e=>{i(27,Vt=e)})),le.activeLevel.subscribe((e=>{i(28,Bt=e)})),le.autoLevel.subscribe((e=>{i(29,Ft=e)})),le.subtitlesExist.subscribe((e=>{i(18,oi=e)})),le.actualLive.subscribe((e=>{i(33,Qt=e)}))),17920&e.$$.dirty[0]|201392128&e.$$.dirty[3]|1&e.$$.dirty[4]&&(ht&&i(124,he=document.getElementsByClassName(ht)[0]),Gt&&Lt&&ce&&i(124,he=le.player.videoElement),he||i(124,he=ae)),1&e.$$.dirty[4]&&he&&Kt.forEach((e=>{he.addEventListener(e,gi)})),143360&e.$$.dirty[0]|268435456&e.$$.dirty[3]|448&e.$$.dirty[4]&&i(42,Q=!ii&&(Ot&&k||!It&&V||Mt&&F)),8&e.$$.dirty[3]&&i(41,J=Os(Je)??!0),196608&e.$$.dirty[0]&&i(40,ee=!ii||Boolean(ei)),1024&e.$$.dirty[0]|1610612736&e.$$.dirty[3]&&le&&zt!==Wt&&(i(15,Xt=we.UNKNOWN),yi(),i(123,Wt=zt)),1024&e.$$.dirty[0]|2&e.$$.dirty[4]&&le&&n.length>0&&(i(15,Xt=we.VOD),yi()),34816&e.$$.dirty[0]|48&e.$$.dirty[4]&&i(39,te=function(e,t,i,r){return e&&(i!==we.LIVE||t&&i===we.LIVE)&&!!r}(R,L,Xt,Dt)),1048576&e.$$.dirty[0]&&i(38,ie=c.map((e=>e.time))),1048576&e.$$.dirty[0]&&i(37,re=c.reduce(((e,t)=>(e.set(t.time,t),e)),new Map)),524288&e.$$.dirty[0]&&(se=g.reduce(((e,t)=>(e.has(t.time)?e.get(t.time).collapsed.push(t):e.set(t.time,{...t,collapsed:[]}),e)),new Map)),1024&e.$$.dirty[0]&&le&&ui(pe.PlayerInit,le.player),1024&e.$$.dirty[0]|4&e.$$.dirty[4]&&le&&le.onChangeLiveStreamMode(Z),1024&e.$$.dirty[0]|134217728&e.$$.dirty[3]&&ce&&(le.setPlayerState(),Ei()),8192&e.$$.dirty[0]|134217728&e.$$.dirty[3]&&ce&&It&&Ci(),131072&e.$$.dirty[0]&&ui(ii?_e.HideUi:_e.ShowUi),256&e.$$.dirty[0]|8388608&e.$$.dirty[3]&&oe&&(St?oe.setAttribute("crossorigin",St):oe.hasAttribute("crossorigin")&&oe.removeAttribute("crossorigin")),262144&e.$$.dirty[0]&&oi&&i(8,oe.textTracks[0].oncuechange=function(e){const t=e.currentTarget.activeCues[0]?.getCueAsHTML();t?(i(21,de.innerHTML="",de),de.appendChild(t)):i(21,de.innerHTML="",de)},oe)},[_t,pt,mt,gt,vt,Et,Ct,Rt,oe,ae,le,Dt,Mt,It,Gt,Xt,ei,ii,oi,g,c,de,At,kt,qt,Nt,Ut,Vt,Bt,Ft,Ht,jt,Zt,Qt,Jt,si,ni,re,ie,te,ee,J,Q,H,M,O,D,T,P,S,x,C,b,y,E,$,_,d,ai,li,ui,function(){if(ui(pe.VideoClick),si)i(35,si=!1);else{if(!h)return fi();Gt&&fi(),le?.onTogglePlayPause()}},vi,function(e){!It||!jt||0!==e.clientX&&0!==e.clientY?(Ri(),It&&Ci()):i(17,ii=!0)},function(){It&&I&&i(17,ii=!0)},function(){i(35,si=!si)},function(){i(36,ni=!ni)},function(e){le?.onChangeTime(e.detail,wi(e.detail))},me,fe,ge,ve,$e,ye,be,Ce,xe,Re,Se,Pe,Te,Me,Ie,qe,Ne,Ue,Fe,He,ze,We,je,Ke,Ye,Ze,Xe,Qe,Je,et,tt,it,rt,st,nt,ot,at,lt,dt,ct,ut,ht,ft,wt,$t,yt,bt,xt,St,Pt,Tt,Lt,ce,Ot,zt,Wt,he,n,Z,r,L,R,F,V,k,s,function(e){B[e?"unshift":"push"]((()=>{oe=e,i(8,oe)}))},()=>{i(32,Zt=!0)},()=>le?.onTogglePlayPause(),function(e){B[e?"unshift":"push"]((()=>{de=e,i(21,de)}))},()=>le?.onTogglePlayPause(),()=>le?.onMouseUpProgress(),()=>le?.onMouseDownProgress(),e=>le?.onToggleMuted(e.detail),e=>le?.onChangeVolume(e.detail),e=>le?.onChangePlaybackRate(e.detail),e=>le?.onChangeLevel(e.detail),()=>le?.onToggleAutoLevel(),()=>ui(pe.BackToLive),function(e){B[e?"unshift":"push"]((()=>{ae=e,i(9,ae)}))},()=>{i(32,Zt=!0)},()=>{i(32,Zt=!1)}]}class Js extends J{constructor(e){super();const t=document.createElement("style");t.textContent=".player{position:relative;width:100%;padding-top:56.25%;font-family:Inter, arial, sans-serif;overflow:hidden}.player>video{position:absolute;top:0;left:0;width:100%;height:100%}.player.videoObjectFitCover>video{object-fit:cover}.videoSettingsControl{position:absolute;top:0;left:0;width:100%;height:100%}.bottomPanel{position:absolute;width:100%;bottom:0}.bottomBar{width:100%}.uiHidden{cursor:none}.centralButtonContainer{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.player.fitToContainer{width:100%;height:100%;padding-top:0}.overlay{position:absolute;width:100%;height:100%;object-fit:cover}.subtitle{max-width:800px;width:max-content;color:white;background-color:rgba(0, 17, 34, 0.7);padding:6px 8px 8px;margin:0 auto 16px;text-align:left;font-family:Arial, Helvetica, Verdana, sans-serif;font-size:19px;border-radius:4px;box-sizing:border-box}.subtitle.mobileSubtitleWidth{max-width:calc(100% - 48px);margin:0 auto 12px}.subtitle.onTopOfBottomBar{margin:0 auto 12px}.subtitle:empty{display:none}.hidden{display:none}::cue{opacity:0}",this.shadowRoot.appendChild(t),de(this,{target:this.shadowRoot,props:A(this.attributes),customElement:!0},Qs,Xs,o,{src:68,src_list:69,metrics_events_meta:70,loop:71,initial_muted:72,initial_volume:73,start_time:74,try_autoplay:75,environment:76,performance_metrics_options:77,force_disable_metrics:78,single_playing_instance:79,hotkeys_enabled:80,cuepoints:81,cuepoint_arise_duration:82,episodes:83,send_sentry_event:84,sentry_meta_data:85,extra_request_headers:86,only_toggle_audio_control:87,show_settings:88,show_level_settings:89,show_rate_settings:90,show_fullscreen_control:91,show_progress_bar:92,show_mini_play_button:93,show_current_time:94,show_duration:95,show_bottom_bar:96,show_audio_control:97,show_large_play_button_on_start:98,show_large_play_button_on_pause:99,show_large_play_button_on_end:100,play_pause_on_click_video:101,show_preview_for_video_type:102,show_progress_bar_for_live_video:103,show_time_tooltip:104,disable_progress_bar:105,disable_forward_rewind:106,hide_ui_on_pointer_leave:107,hide_ui_when_idle_seconds:108,custom_fullscreen_element_class_name:109,custom_class_for_bottom_bar:0,custom_play_button_class:1,overlay_src:2,fit_to_container:110,background_color:3,bottom_bar_theme:4,one_line_controls:111,video_object_fit_cover:112,preload:5,disable_picture_in_picture:113,plays_inline:114,fetch_priority:6,src_list_for_preload:115,bottom_bar_inline_styles:7,crossorigin:116,live_stream_mode:117,sw_prefetch_params:118},null,[-1,-1,-1,-1,-1,-1,-1]),e&&(e.target&&y(e.target,this,e.anchor),e.props&&(this.$set(e.props),G()))}static get observedAttributes(){return["src","src_list","metrics_events_meta","loop","initial_muted","initial_volume","start_time","try_autoplay","environment","performance_metrics_options","force_disable_metrics","single_playing_instance","hotkeys_enabled","cuepoints","cuepoint_arise_duration","episodes","send_sentry_event","sentry_meta_data","extra_request_headers","only_toggle_audio_control","show_settings","show_level_settings","show_rate_settings","show_fullscreen_control","show_progress_bar","show_mini_play_button","show_current_time","show_duration","show_bottom_bar","show_audio_control","show_large_play_button_on_start","show_large_play_button_on_pause","show_large_play_button_on_end","play_pause_on_click_video","show_preview_for_video_type","show_progress_bar_for_live_video","show_time_tooltip","disable_progress_bar","disable_forward_rewind","hide_ui_on_pointer_leave","hide_ui_when_idle_seconds","custom_fullscreen_element_class_name","custom_class_for_bottom_bar","custom_play_button_class","overlay_src","fit_to_container","background_color","bottom_bar_theme","one_line_controls","video_object_fit_cover","preload","disable_picture_in_picture","plays_inline","fetch_priority","src_list_for_preload","bottom_bar_inline_styles","crossorigin","live_stream_mode","sw_prefetch_params"]}get src(){return this.$$.ctx[68]}set src(e){this.$$set({src:e}),G()}get src_list(){return this.$$.ctx[69]}set src_list(e){this.$$set({src_list:e}),G()}get metrics_events_meta(){return this.$$.ctx[70]}set metrics_events_meta(e){this.$$set({metrics_events_meta:e}),G()}get loop(){return this.$$.ctx[71]}set loop(e){this.$$set({loop:e}),G()}get initial_muted(){return this.$$.ctx[72]}set initial_muted(e){this.$$set({initial_muted:e}),G()}get initial_volume(){return this.$$.ctx[73]}set initial_volume(e){this.$$set({initial_volume:e}),G()}get start_time(){return this.$$.ctx[74]}set start_time(e){this.$$set({start_time:e}),G()}get try_autoplay(){return this.$$.ctx[75]}set try_autoplay(e){this.$$set({try_autoplay:e}),G()}get environment(){return this.$$.ctx[76]}set environment(e){this.$$set({environment:e}),G()}get performance_metrics_options(){return this.$$.ctx[77]}set performance_metrics_options(e){this.$$set({performance_metrics_options:e}),G()}get force_disable_metrics(){return this.$$.ctx[78]}set force_disable_metrics(e){this.$$set({force_disable_metrics:e}),G()}get single_playing_instance(){return this.$$.ctx[79]}set single_playing_instance(e){this.$$set({single_playing_instance:e}),G()}get hotkeys_enabled(){return this.$$.ctx[80]}set hotkeys_enabled(e){this.$$set({hotkeys_enabled:e}),G()}get cuepoints(){return this.$$.ctx[81]}set cuepoints(e){this.$$set({cuepoints:e}),G()}get cuepoint_arise_duration(){return this.$$.ctx[82]}set cuepoint_arise_duration(e){this.$$set({cuepoint_arise_duration:e}),G()}get episodes(){return this.$$.ctx[83]}set episodes(e){this.$$set({episodes:e}),G()}get send_sentry_event(){return this.$$.ctx[84]}set send_sentry_event(e){this.$$set({send_sentry_event:e}),G()}get sentry_meta_data(){return this.$$.ctx[85]}set sentry_meta_data(e){this.$$set({sentry_meta_data:e}),G()}get extra_request_headers(){return this.$$.ctx[86]}set extra_request_headers(e){this.$$set({extra_request_headers:e}),G()}get only_toggle_audio_control(){return this.$$.ctx[87]}set only_toggle_audio_control(e){this.$$set({only_toggle_audio_control:e}),G()}get show_settings(){return this.$$.ctx[88]}set show_settings(e){this.$$set({show_settings:e}),G()}get show_level_settings(){return this.$$.ctx[89]}set show_level_settings(e){this.$$set({show_level_settings:e}),G()}get show_rate_settings(){return this.$$.ctx[90]}set show_rate_settings(e){this.$$set({show_rate_settings:e}),G()}get show_fullscreen_control(){return this.$$.ctx[91]}set show_fullscreen_control(e){this.$$set({show_fullscreen_control:e}),G()}get show_progress_bar(){return this.$$.ctx[92]}set show_progress_bar(e){this.$$set({show_progress_bar:e}),G()}get show_mini_play_button(){return this.$$.ctx[93]}set show_mini_play_button(e){this.$$set({show_mini_play_button:e}),G()}get show_current_time(){return this.$$.ctx[94]}set show_current_time(e){this.$$set({show_current_time:e}),G()}get show_duration(){return this.$$.ctx[95]}set show_duration(e){this.$$set({show_duration:e}),G()}get show_bottom_bar(){return this.$$.ctx[96]}set show_bottom_bar(e){this.$$set({show_bottom_bar:e}),G()}get show_audio_control(){return this.$$.ctx[97]}set show_audio_control(e){this.$$set({show_audio_control:e}),G()}get show_large_play_button_on_start(){return this.$$.ctx[98]}set show_large_play_button_on_start(e){this.$$set({show_large_play_button_on_start:e}),G()}get show_large_play_button_on_pause(){return this.$$.ctx[99]}set show_large_play_button_on_pause(e){this.$$set({show_large_play_button_on_pause:e}),G()}get show_large_play_button_on_end(){return this.$$.ctx[100]}set show_large_play_button_on_end(e){this.$$set({show_large_play_button_on_end:e}),G()}get play_pause_on_click_video(){return this.$$.ctx[101]}set play_pause_on_click_video(e){this.$$set({play_pause_on_click_video:e}),G()}get show_preview_for_video_type(){return this.$$.ctx[102]}set show_preview_for_video_type(e){this.$$set({show_preview_for_video_type:e}),G()}get show_progress_bar_for_live_video(){return this.$$.ctx[103]}set show_progress_bar_for_live_video(e){this.$$set({show_progress_bar_for_live_video:e}),G()}get show_time_tooltip(){return this.$$.ctx[104]}set show_time_tooltip(e){this.$$set({show_time_tooltip:e}),G()}get disable_progress_bar(){return this.$$.ctx[105]}set disable_progress_bar(e){this.$$set({disable_progress_bar:e}),G()}get disable_forward_rewind(){return this.$$.ctx[106]}set disable_forward_rewind(e){this.$$set({disable_forward_rewind:e}),G()}get hide_ui_on_pointer_leave(){return this.$$.ctx[107]}set hide_ui_on_pointer_leave(e){this.$$set({hide_ui_on_pointer_leave:e}),G()}get hide_ui_when_idle_seconds(){return this.$$.ctx[108]}set hide_ui_when_idle_seconds(e){this.$$set({hide_ui_when_idle_seconds:e}),G()}get custom_fullscreen_element_class_name(){return this.$$.ctx[109]}set custom_fullscreen_element_class_name(e){this.$$set({custom_fullscreen_element_class_name:e}),G()}get custom_class_for_bottom_bar(){return this.$$.ctx[0]}set custom_class_for_bottom_bar(e){this.$$set({custom_class_for_bottom_bar:e}),G()}get custom_play_button_class(){return this.$$.ctx[1]}set custom_play_button_class(e){this.$$set({custom_play_button_class:e}),G()}get overlay_src(){return this.$$.ctx[2]}set overlay_src(e){this.$$set({overlay_src:e}),G()}get fit_to_container(){return this.$$.ctx[110]}set fit_to_container(e){this.$$set({fit_to_container:e}),G()}get background_color(){return this.$$.ctx[3]}set background_color(e){this.$$set({background_color:e}),G()}get bottom_bar_theme(){return this.$$.ctx[4]}set bottom_bar_theme(e){this.$$set({bottom_bar_theme:e}),G()}get one_line_controls(){return this.$$.ctx[111]}set one_line_controls(e){this.$$set({one_line_controls:e}),G()}get video_object_fit_cover(){return this.$$.ctx[112]}set video_object_fit_cover(e){this.$$set({video_object_fit_cover:e}),G()}get preload(){return this.$$.ctx[5]}set preload(e){this.$$set({preload:e}),G()}get disable_picture_in_picture(){return this.$$.ctx[113]}set disable_picture_in_picture(e){this.$$set({disable_picture_in_picture:e}),G()}get plays_inline(){return this.$$.ctx[114]}set plays_inline(e){this.$$set({plays_inline:e}),G()}get fetch_priority(){return this.$$.ctx[6]}set fetch_priority(e){this.$$set({fetch_priority:e}),G()}get src_list_for_preload(){return this.$$.ctx[115]}set src_list_for_preload(e){this.$$set({src_list_for_preload:e}),G()}get bottom_bar_inline_styles(){return this.$$.ctx[7]}set bottom_bar_inline_styles(e){this.$$set({bottom_bar_inline_styles:e}),G()}get crossorigin(){return this.$$.ctx[116]}set crossorigin(e){this.$$set({crossorigin:e}),G()}get live_stream_mode(){return this.$$.ctx[117]}set live_stream_mode(e){this.$$set({live_stream_mode:e}),G()}get sw_prefetch_params(){return this.$$.ctx[118]}set sw_prefetch_params(e){this.$$set({sw_prefetch_params:e}),G()}}customElements.get("video-player")||customElements.define("video-player",Js)})()}},t={};function i(r){var s=t[r];if(void 0!==s)return s.exports;var n=t[r]={exports:{}};return e[r].call(n.exports,n,n.exports,i),n.exports}i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};!function(){"use strict";i.r(r);i(914)}(),window.__federation__.deps["@ozon-shared-deps/ozon-fe__media-player-standard@3.1.0"]||(window.__federation__.deps["@ozon-shared-deps/ozon-fe__media-player-standard@3.1.0"]=Object.defineProperties({},Object.getOwnPropertyDescriptors(r)))}();