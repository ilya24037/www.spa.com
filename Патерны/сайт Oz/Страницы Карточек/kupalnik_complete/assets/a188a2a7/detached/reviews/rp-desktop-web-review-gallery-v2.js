(self.webpackChunkDetached_reviews=self.webpackChunkDetached_reviews||[]).push([["rp-desktop-web-review-gallery-v2"],{"343d3":(e,t,r)=>{"use strict";r.a(e,async(e,o)=>{try{r.d(t,{k:()=>m});var n=r("acb29"),c=r("d3bd7"),l=e([n]);n=(l.then?(await l)():l)[0];var d=r.n(n);(0,c.setupDayjs)(d());var h=e=>e&&"string"==typeof e?e.toLowerCase():"ru",m=(e,t,r,o)=>d()(t,r,o).locale(h(e));o()}catch(e){o(e)}})},a3b81:(e,t,r)=>{"use strict";r.a(e,async(e,o)=>{try{var n=r("d86db"),c=r.n(n),l=r("487e4"),d=r("9f5f9"),h=r("a7d86"),m=r("e227b"),v=r("756da"),_=e([l,d,h,m,v]);[l,d,h,m,v]=_.then?(await _)():_;var f={reviewGallery:{commentsText:"Комментарии"}};t.Z={name:"Carousel",components:{OzCarousel:l.OzCarousel,OzCarouselItem:l.OzCarouselItem,Review:d.Z,CommentsList:h.Z,MediaCarousel:m.Z,CreateComment:v.Z},inject:{getLocalization:{default:()=>{}}},props:{listMedia:c().arrayOf(c().shape(Object.assign({},m.Z.props)).loose),review:c().shape(Object.assign({},d.Z.props)).loose,products:c().objectOf(c().object).def({}),activeIndex:c().number.def(0),creatingAbuseReport:c().oneOfType([c().number,c().bool]).def(!1),creatingAbuseReportError:c().oneOfType([c().number,c().bool]).def(!1),currentCommentDeletingUuid:c().string.def(""),currentCommentDeletingError:c().string.def(""),isCommentsLoading:c().bool.def(!1),commentsLoadingReview:c().string.def(""),isReviewCollapsed:c().bool.def(!0),currentReviewCommentingInfo:c().shape({answerAuthorName:c().string.def(""),rootParentUuid:c().string.def(""),parentUuid:c().string.def("")}).loose,hasErrorComment:c().bool.def(!0),hasCreatedComment:c().bool.def(!0),isCreatingComment:c().bool.def(!0),customMedia:m.Z.props.customMedia,widgetName:c().string.def(""),externalMeta:c().object.def({})},computed:{localization(){return this.getLocalization()||f},commentsTotal(){return this.review.comments?this.review.comments.totalCountPublished||this.review.comments.totalCount:0}}},o()}catch(e){o(e)}})},ff194:(e,t,r)=>{"use strict";r.a(e,async(e,o)=>{try{var n=r("d86db"),c=r.n(n),l=r("b1649"),d=r.n(l),h=r("7ab6c"),m=r("d46c4"),v=r("3ea25"),_=r("d3b92"),f=e([h,m,v]);[h,m,v]=f.then?(await f)():f;var{SendIcon:w,CloseIcon:y}=(R={functional:!0,name:"icSCross",meta:{width:16,height:16,viewBox:"0 0 16 16"},render:(e,a)=>e("svg",Object.assign(Object.assign({},a.data),{},{attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},a.data.attrs),domProps:{innerHTML:'<path fill="currentColor" d="M3.293 3.293a1 1 0 0 1 1.414 0L8 6.586l3.293-3.293a1 1 0 1 1 1.414 1.414L9.414 8l3.293 3.293a1 1 0 0 1-1.414 1.414L8 9.414l-3.293 3.293a1 1 0 0 1-1.414-1.414L6.586 8 3.293 4.707a1 1 0 0 1 0-1.414"/>'}}))},(O={}).SendIcon={functional:!0,name:"icMSend",meta:{width:24,height:24,viewBox:"0 0 24 24"},render:(e,a)=>e("svg",Object.assign(Object.assign({},a.data),{},{attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},a.data.attrs),domProps:{innerHTML:'<path fill="currentColor" d="M4.361 2.23a1 1 0 0 1 1.086-.124l18 9a1 1 0 0 1 0 1.788l-18 9a1 1 0 0 1-1.409-1.169l2-7a1 1 0 0 1 .646-.674l6-2a1 1 0 0 1 .632 1.898l-5.5 1.833-1.23 4.307L20.764 12 6.586 4.911l1.376 4.814a1 1 0 1 1-1.924.55l-2-7a1 1 0 0 1 .323-1.044"/>'}}))},O.CloseIcon=R,O),C={reviewGallery:{replyTo:"В ответ",textareaPlaceholder:"Ваш комментарий к отзыву",notificationError:"Произошла ошибка при создании комментария, попробуйте снова.",notificationSuccess:"Спасибо! Комментарий отправлен на проверку и скоро будет опубликован"}};t.Z={name:"CreateComment",components:{DsIconButton:m.DsIconButton,OzTextarea:h.OzTextarea,Notification:v.Z,CloseIcon:y},inject:{getLocalization:{default:()=>{}}},props:{answerAuthorName:c().string.def(""),rootParentUuid:c().string.def(""),parentUuid:c().string.def(""),isCreating:c().bool.def(!1),hasError:c().bool.def(!1),hasCreated:c().bool.def(!1),itemId:c().oneOfType([c().integer,c().string])},data:()=>({SendIcon:w,comment:"",TEXTAREA_MAX_LENGTH:_.kX}),computed:{localization(){return this.getLocalization()||C},notificationError(){return{type:"error",text:this.localization.reviewGallery.notificationError}},notificationSuccess(){return{type:"success",text:this.localization.reviewGallery.notificationSuccess}}},watch:{hasCreated(e){e&&(this.comment="",this.hideNotification())},hasError(e){e&&this.hideNotification()}},methods:{onSubmit(){this.isCreating||d()(this.comment)&&this.$emit("create",{comment:this.comment,rootParentUuid:this.rootParentUuid,parentUUID:this.parentUuid,itemId:this.itemId})},handleEnter(e){(e.metaKey||e.ctrlKey)&&this.onSubmit()},hideNotification(){setTimeout(()=>{this.$emit("writeComment"),this.resetAnswerAuthor()},4e3)},resetAnswerAuthor(){this.$emit("resetAnswerAuthor")}}},o()}catch(e){o(e)}var O,R})},"2a079":(e,t,r)=>{"use strict";r.a(e,async(e,o)=>{try{var n=r("ce27b"),c=r.n(n),l=r("f7785"),d=r.n(l),h=r("c7b40"),m=r.n(h),v=r("b5aae"),_=r("d46c4"),f=r("8581f"),w=r("3ea25"),y=r("79a44"),C=r("f52fa"),O=r("5462a"),R=r("ecabc"),T=r("7a782"),M=r("22203"),E=r("7e0fc"),I=r("8f9b1"),A=r("7fce6"),P=r.n(A),x=r("abb9e"),L=r.n(x),N=r("fd073"),S=r("2aea6"),j=r("0697e"),D=r("1d18b"),U=r("2fea9"),k=r("14217"),W=r("9b991"),V=r("e2f5a"),Z=r.n(V),$=r("69aed"),B=e([v,_,f,w,E,I,S,j]);[v,_,f,w,E,I,S,j]=B.then?(await B)():B;var{PrefetchVideoSwMixin:G,ProductType:z}=((e,t)=>{var r=(e=>(e.OTHER="other",e.REVIEW_PREVIEW="review-preview",e.TILE="tile",e.ADV="advertisement",e.REVIEW="review",e.GALLERY="gallery",e))(r||{}),o={gallery:"cdn_video_pdp_hostname",tile:"cdn_video_tile_hostname",review:"cdn_video_review_hostname","review-preview":"cdn_video_review_hostname",other:"cdn_video_hostname"};function n(e,t,r){try{var n=e[o[r]]||e[o.other];if(n){var c=new URL(t);return c.hostname=n,c.toString()}return t}catch(e){}return t}var c=((t=class extends $.AbstractStoreService{getInitialState(){return{videos:{}}}setVideoData(e,t){this.pushState(r=>{r.videos[e]=t})}}).__serviceName="AbstractStoreService_ServiceWorkerInstance",t),l={methods:{async prefetchVideoChunksSW(e,t,r){try{if(!e||!t)return;var o=y.registry.use(c).state._get("videos");for(var l of e){if(o[l])return;var d=(0,$.createVideoPrefetchUrl)(l),[h,m]=await Promise.all([(0,$.getVideoDuration)(l),fetch(d,{method:"HEAD"})]),v="";if(m&&m.ok){var _=m.headers.get("content-type");_&&_.includes("codecs")&&(v=_)}if(!v)return;var f={duration:h,contentType:v};y.registry.use(c).setVideoData(l,f);var w=n((0,R.useComposerStore)(this).state._get("resolveParams"),d,t);(0,$.sendMessageToSW)({action:"CACHE_VIDEO_CHUNK",url:w+`&from=0&dur=${r}`})}}catch(e){}}}};return e.PrefetchVideoSwMixin=l,e.ProductType=r,e})({}),F={loadError:"Не удалось загрузить. Попробуйте обновить страницу",somethingGetWrong:"Что-то пошло не так",complaintSent:"Жалоба успешно отправлена"};t.Z=L().extend({name:"WidgetDesktopReviewGallery",provide(){return{getLocalization:()=>this.localizationConsts}},components:{Gallery:E.Z,DsDialog:v.DsDialog,Carousel:I.Z,DsLoader:f.DsLoader,Notification:w.Z,DsIconButton:_.DsIconButton,SingleReportForm:S.Z},mixins:[P(),N.Z,Z(),j.Z,G,(0,R.composerStateMixin)({enableVideoPrefetchSW:e=>e._get("experimentsConfig.enableVideoPrefetchSW",!1),prefetchWebReviewGalleryVideoSW:e=>e._get("experimentsConfig.prefetchWebReviewGalleryVideoSW",!1)})],data:()=>({activeIndex:0,creatingAbuseReport:"",creatingAbuseReportError:"",currentCommentDeletingUuid:"",currentCommentDeletingError:"",isCommentsLoading:!1,commentsLoadingReview:"",isGallery:!0,isReviewCollapsed:!0,currentReviewCommentingInfo:null,hasCreateCommentError:!1,hasCreatedComment:!1,isCommentCreating:!1,customMedia:{},isShowReport:!1,reportData:{},videoIdentifier:void 0}),computed:{localizationConsts(){return this.widgetState.constants?this.widgetState.constants:null},getNotificationError(){return{type:"error",text:this.$i18n.t("system@error_occured_retry_later")}},currentReview(){var e=(this.listMedia[this.activeIndex]||{}).reviewUuid;return(this.widgetState.reviews||{})[e]||null},modalProps(){return this.paramSeoMode?{}:{withoutFade:!0,opaqueBackground:!0,theme:"fullScreen",closeButton:!1}},buttonCloseProps(){return{icon:this.asyncIconComponent("ic_s_cross"),size:"400",shape:"circle",theme:"custom",backgroundColor:"bgSecondary",iconColor:"graphicTertiary"}},currentReportOptions(){return"comment"!==this.reportDataspecification?this.getReportListWithMedia:this.getReportList},getReportListWithMedia(){var e=c()(this.localizationConsts,"abuseReport",{});return Object.keys(e).length?[{label:e.misleading,value:U.c8.INFO},{label:e.inappropriatePhotoOrVideo,value:U.c8.MEDIA},{label:e.inappropriateContent,value:U.c8.CONTENT},{label:e.abuseOther,value:U.c8.OTHER}]:U.aF},getReportList(){var e=c()(this.localizationConsts,"abuseReport",{});return Object.keys(e).length?[{label:e.misleading,value:U.c8.INFO},{label:e.inappropriateContent,value:U.c8.CONTENT},{label:e.abuseOther,value:U.c8.OTHER}]:U.Ky},externalMetaVideo(){return{mediaPlayerInit:{videoIdentifier:this.videoIdentifier}}}},beforeMount(){this.chunkSize=Number(JSON.parse(this.$config.get("videoChunkSizes")||"{}")[z.REVIEW])},mounted(){window.addEventListener("reviewsClickOpenModal",this.setvideoIdentifier),this.chunkSize&&this.enableVideoPrefetchSW&&this.prefetchWebReviewGalleryVideoSW&&(this.unwatchActiveIndex=this.$watch("activeIndex",(e,t)=>{if(e-t===1){var r=e+1,o=this.listMedia&&this.listMedia[r];o&&o.type===k.w_.VIDEO&&requestIdleCallback(()=>{this.prefetchVideoChunksSW([o.url],z.REVIEW,this.chunkSize)})}},{immediate:!0}))},beforeDestroy(){this.unwatchActiveIndex&&this.unwatchActiveIndex()},destroyed(){window.removeEventListener("reviewsClickOpenModal",this.setvideoIdentifier)},watch:{widgetState(){var e=this.widgetState.selectedIndex||0;this.getCurrentIndex(e),this.getCurrentCommentingInfo()}},methods:Object.assign(Object.assign({setvideoIdentifier(e){this.videoIdentifier=e.detail.videoIdentifier},onSlideChange(e,{isEnd:t}){e!==this.activeIndex&&(this.sentEventSlideChange(this.activeIndex,e),this.getCurrentIndex(e),this.getCurrentCommentingInfo(),this.clearCustomMedia(),this.isReviewCollapsed=!0,t&&this.onEnd())},onChangeActiveIndex(e,t=!0){this.activeSlide=e,this.clearCustomMedia(),t&&this.onScrollToUp()},sentEventSlideChange(e,t){this.listMedia[t]&&this.listMedia[t].type!==k.w_.VIDEO||(t-e===1&&(this.videoIdentifier=m()(),window.dispatchEvent(new CustomEvent("reviewsNextSlideCarousel",{detail:{videoIdentifier:this.videoIdentifier,timestamp:performance.now()}}))),t-e===-1&&(this.videoIdentifier=m()(),window.dispatchEvent(new CustomEvent("reviewsPrevSlideCarousel",{detail:{videoIdentifier:this.videoIdentifier,timestamp:performance.now()}}))))},clickTile(){this.videoIdentifier=m()(),window.dispatchEvent(new CustomEvent("reviewsClickTile",{detail:{videoIdentifier:this.videoIdentifier,timestamp:performance.now()}}))},prevProduct(){this.activeIndex>0&&this.activeIndex<=this.listMedia.length-1&&this.onChangeActiveIndex(this.activeIndex-1,!1)},nextProduct(){this.activeIndex>-1&&this.activeIndex<this.listMedia.length-1&&this.onChangeActiveIndex(this.activeIndex+1,!1)},asyncWidgetMapper(e){if(e.error)return this.widgetState;if(this.showStateError=!1,this.skipWidgetMapper)return e;var t=e.media||[],r=e.reviews||{},o=this.widgetState.reviews||{},n=d()([...this.listMedia,...t],"uuid");return Object.assign(Object.assign({},e),{},{media:n,reviews:Object.assign(Object.assign({},o),r)})},onToogleReview(){this.isReviewCollapsed=!this.isReviewCollapsed},getCurrentCommentingInfo(){this.currentReview&&(this.currentReviewCommentingInfo={rootParentUuid:this.currentReview.uuid,parentUuid:null,answerAuthorName:null})},getCurrentIndex(e){this.activeIndex=e,this.activeSlide=e},onScrollToUp(){var e=this.$refs.wrapperModal;e&&e.scrollIntoView({behavior:"smooth"})},onOpenMediaInside(e){if(!(!e||e.urlVideo&&this.customMedia.url===e.urlVideo||e.url&&this.customMedia.url===e.url)){var t=this.listMedia.findIndex(t=>t.uuid===e.uuid),r=t>=0?this.listMedia[t]:{};t>=0&&this.sendAnalytics(t),this.customMedia={url:e.urlVideo||e.url||"",previewUrl:e.previewUrl||"",type:e.type,sharing:e.sharing||null,cellTrackingInfo:r.cellTrackingInfo}}},onScrollToParent({uuid:e,type:t}){var r=this.$refs.wrapperModal;r&&(0,W.J)({uuid:e,type:t,wrapper:r})},onOpenFreshModal(e){this.$composerRouter.push(e,{contextOptions:{theme:"default",closeButton:!1}})},onAction({action:e}){var t;"COPY_LINK"===e.type&&this.onCopyUrl(null!=(t=e.value)?t:"");"REPORT_BUTTON"===e.type&&(this.reportData=Object.assign({},e.action),this.isShowReport=!0)},async sendReportModal({name:e,data}){try{await y.registry.use(C.ComposerService).actionPost({name:e,data}),await y.registry.use(O.NotificationsActions).createNewNotificationDeprecated({type:O.NotificationTypes.SUCCESS,content:c()(this.localizationConsts,"notification.complaintSent",F.complaintSent)}),this.updateReviewAfterReport(data.reviewUuid),this.isShowReport=!1}catch(e){await y.registry.use(O.NotificationsActions).createNewNotificationDeprecated({type:O.NotificationTypes.ERROR,content:c()(this.localizationConsts,"notification.somethingGetWrong",F.somethingGetWrong)}),this.$logger.error({exception:e,message:D.N.ERROR_REPORT_ABUSE})}},onReviewTranslate({uuid:e="",content={},error:t=!1}){if(t)this.sendTokenAnalytics(`error_${e}_translate_review`);else{var r=Object.assign(Object.assign({},this.currentReview.content),{},{comment:content.comment||"",negative:content.negative||"",positive:content.positive||""});this.setWidgetStateValue(`reviews[${e}].content`,r),this.sendTokenAnalytics(`click_${e}_translate_review`)}},closeReport(){this.isShowReport=!1},sendVideoAnalytics({analytics:e,custom:t}){e&&this.sendTokenAnalytics(e,t)}},T.u),M.w)}),o()}catch(e){o(e)}})},22203:(e,t,r)=>{"use strict";r.d(t,{w:()=>v});var o=r("ce27b"),n=r.n(o),c=r("79a44"),l=r("f52fa"),d=r("11061"),h=r("d3b92"),m=r("1d18b"),v={onWriteComment(data){this.currentReviewCommentingInfo=data,this.hasCreateCommentError=!1,this.hasCreatedComment=!1},isReviewCommentFormVisible(e){return e===(n()(this.currentReviewCommentingInfo,"rootParentUuid")||null)},async onCreateComment(e){var t=n()(this.widgetState,`actions.${h.MX.ADD_COMMENT}`,h.MM.CREATE_COMMENT);try{this.isCommentCreating=!0,await c.registry.use(l.ComposerService).actionPost({name:t,data:Object.assign({},e)}),this.hasCreatedComment=!0}catch(e){this.hasCreateCommentError=!0,this.hasCreatedComment=!1}this.isCommentCreating=!1},isCommentExistInList(e,t,r){var o=e.find(e=>e.uuid===t);if(!o)return!1;var c=n()(o,"comments.list")||null;return!!c&&!!c.find(e=>e.uuid===r)},async onDeleteComment(e){var{uuid:t,rootParentUuid:r,itemId:o,isNew:m}=e,v=this.isGallery?[this.currentReview]:this.reviews,_=n()(this.widgetState,`actions.${h.MX.DELETE_COMMENT}`,h.MM.DELETE_MY_REVIEW);if(this.isGallery||this.isCommentExistInList(v,r,t))try{this.currentCommentDeletingUuid=t,this.currentCommentDeletingError="",await c.registry.use(l.ComposerService).actionPost({name:_,data:{reviewUuid:t,itemId:o}});var f=(0,d.hJ)(v,{type:d.K4,payload:{uuid:t,rootParentUuid:r,isNew:m}});this.changeReviewsList(f),this.currentCommentDeletingUuid=""}catch(e){this.currentCommentDeletingError=t,this.currentCommentDeletingUuid=""}},async onVoteComment({value:e,uuid:t,rootParentUuid:r,itemId:o}){var v=this.isGallery?[this.currentReview]:this.reviews,_=n()(this.widgetState,`actions.${h.MX.VOTE_COMMENT}`,h.MM.VOTE_OPINION);if(this.isGallery||this.isCommentExistInList(v,r,t))try{var{usefulness:f}=await c.registry.use(l.ComposerService).actionPost({name:_,data:{reviewUuid:t,itemId:o,value:e}}),w=(0,d.hJ)(v,{type:d.Xf,payload:{uuid:t,rootParentUuid:r,usefulness:f}});this.changeReviewsList(w)}catch(e){this.$logger.error({exception:e,message:m.N.ERROR_VOTE_COMMENT})}},async onReportedComment(e){var{uuid:t,rootParentUuid:r,report:o,itemId:n}=e,c=this.isGallery?[this.currentReview]:this.reviews;if(await this.sendReport(t,n,o,h.MX.REPORT_COMMENT),!this.creatingAbuseReportError){var l=(0,d.hJ)(c,{type:d.AM,payload:{uuid:t,rootParentUuid:r}});this.changeReviewsList(l)}},async loadMoreComments(e){var{review:t,currentComments:r,itemId:o}=e,v=this.isGallery?[this.currentReview]:this.reviews,_=n()(this.widgetState,`actions.${h.MX.LOAD_COMMENT}`,h.MM.GET_COMMENTS_BY_REVIEW_UUID);this.isCommentsLoading=!0;try{var{uuid:f}=t;this.commentsLoadingReview=f;var{comments:w}=await c.registry.use(l.ComposerService).actionPost({name:_,data:{reviewUuid:f,sku:o,limit:10,offset:r.length}}),y=(0,d.hJ)(v,{type:d.iF,payload:{uuid:f,newLoadedComments:w}});this.changeReviewsList(y)}catch(e){this.$logger.error({exception:e,message:m.N.ERROR_LOAD_MORE_COMMENTS})}this.isCommentsLoading=!1,this.commentsLoadingReview=""}}},11061:(e,t,r)=>{"use strict";r.d(t,{AM:()=>f,K4:()=>v,VX:()=>m,Xf:()=>_,Zk:()=>C,hJ:()=>y,iF:()=>w,np:()=>d,yz:()=>h});var o=r("ce27b"),n=r.n(o),c=r("f7785"),l=r.n(c),d="REVIEW_VOTE_ACTION",h="REVIEW_REPORT_ACTION",m="REVIEW_DELETE_ACTION",v="COMMENT_DELETE_ACTION",_="COMMENT_VOTE_ACTION",f="COMMENT_REPORT_ACTION",w="COMMENTS_LOAD_MORE";function y(e=[],t){switch(t.type){case d:var{uuid:r,usefulness:o}=t.payload;return e.map(e=>e.uuid===r?Object.assign(Object.assign({},e),{},{usefulness:o}):e);case h:var{uuid:c}=t.payload;return e.map(e=>e.uuid===c?Object.assign(Object.assign({},e),{},{isReportable:!1,isAbuseReported:!0}):e);case m:var{deletedIndex:y}=t.payload;return e.filter((e,t)=>t!==y);case v:var{uuid:C,rootParentUuid:O,isNew:R}=t.payload;return e.map(e=>{if(e.uuid===O){var t=(n()(e,"comments.list")||[]).filter(e=>e.uuid!==C),r=R?0:1;return Object.assign(Object.assign({},e),{},{comments:{totalCount:e.comments.totalCount-r,list:t}})}return e});case _:var{uuid:T,rootParentUuid:M,usefulness:E}=t.payload;return e.map(e=>{if(e.uuid===M){var t=(n()(e,"comments.list")||[]).map(e=>e.uuid===T?Object.assign(Object.assign({},e),{},{usefulness:E}):e);return Object.assign(Object.assign({},e),{},{comments:Object.assign(Object.assign({},e.comments),{},{list:t})})}return e});case f:var{uuid:I,rootParentUuid:A}=t.payload;return e.map(e=>{if(e.uuid===A){var t=(n()(e,"comments.list")||[]).map(e=>e.uuid===I?Object.assign(Object.assign({},e),{},{isReportable:!1,isAbuseReported:!0}):e);return Object.assign(Object.assign({},e),{},{comments:Object.assign(Object.assign({},e.comments),{},{list:t})})}return e});case w:var{uuid:P,newLoadedComments:x}=t.payload;return e.map(e=>{if(e.uuid===P){var t=n()(e,"comments.list")||[],r=l()([...t,...x],"uuid");return Object.assign(Object.assign({},e),{},{comments:Object.assign(Object.assign({},e.comments),{},{list:r})})}return e});default:return e}}function C(e,t){switch(t.type){case d:var{usefulness:r}=t.payload;return Object.assign(Object.assign({},e),{},{usefulness:r});case h:return Object.assign(Object.assign({},e),{},{isReportable:!1,isAbuseReported:!0})}}},49246:(e,t,r)=>{"use strict";r.d(t,{C:()=>d});var o=r("14217"),n=function(e){return e.VIDEO="onlyVideoClasses",e.PHOTO="onlyPhotoClasses",e.MIXED="mixedClasses",e}(n||{}),c=function(e){return e.ONE="gridMobileOneRow",e.TWO="gridMobileTwoRows",e.THREE="gridMobileThreeRows",e}(c||{}),l={onlyPhotoClasses:{1:"doublePhoto",2:"doublePhoto",3:"threePhotos",4:"fourPhotos",5:"fivePhotos",6:"sixPhotos",7:"sevenPhotos",8:"eightPhotos"},onlyVideoClasses:{1:"threeVideos",2:"threeVideos",3:"threeVideos"},mixedClasses:{2:"doubleMedia",3:"threeMedia",4:"fourMedia",5:"fiveMedia",6:"sixMedia",7:"sevenMedia",8:"eightMedia"}},d=(e=[],t=[],r,d)=>{var h=((e=[],t=[],r=8,o=!1)=>{var d=[...e||[],...t||[]].slice(0,r),h=n.MIXED;return o?e&&e.length?d&&d.length>3?c.THREE:c.TWO:d&&d.length>3?c.TWO:c.ONE:(!e||!e.length||t&&t.length?!t||!t.length||e&&e.length||(h=n.PHOTO):h=n.VIDEO,l[h][d.length]||"")})(e,t,d,r),m=t&&t.length?0:2;return{media:[...(e||[]).map((video,e)=>(video.urlVideo=video.urlVideo||video.url,video.url=video.previewUrl,video.type=o.w_.VIDEO,video.duration=e<=m?video.duration:"",video)),...(t||[]).map(e=>(e.type=o.w_.IMG,e))],gridClass:h}}},"0d3ba":(e,t,r)=>{"use strict";r.d(t,{K:()=>n,o:()=>o});var o={NOT_TRANSLATED:"NOT_TRANSLATED",IN_PROGRESS:"IN_PROGRESS",TRANSLATED:"TRANSLATED"},n={NOT_TRANSLATED:"translateButton",IN_PROGRESS:"inProgressButton",TRANSLATED:"backToOriginalButton"}},"2fea9":(e,t,r)=>{"use strict";r.d(t,{Ky:()=>n,aF:()=>c,c8:()=>o});var o={MEDIA:"4",OTHER:"3",CONTENT:"2",INFO:"1"},n=[{label:"Введение в заблуждение",value:o.INFO},{label:"Неприемлемое содержание",value:o.CONTENT},{label:"Другая причина",value:o.OTHER}],c=[{label:"Введение в заблуждение",value:o.INFO},{label:"Неприемлемое фото или видео",value:o.MEDIA},{label:"Неприемлемое содержание",value:o.CONTENT},{label:"Другая причина",value:o.OTHER}]},"5c136":(e,t,r)=>{"use strict";r.d(t,{D:()=>o,t:()=>n});var o={EDIT:"EDIT",COPY:"COPY_LINK",REPORT:"REPORT_BUTTON",DELETE:"DELETE",DELETE_ACTION:"DELETE_BUTTON",ADD_COMMENT:"ADD_COMMENT",COMMENTS:"COMMENTS",REVIEW:"REVIEW"},n=function(e){return e.VIEW_REVIEW="view",e.CHANGE_SORTING="add-review-sorting-value",e.EDIT_URL="edit",e.VIEW_COMMENT="comments",e.CLICK_MEDIA="media",e.CLICK_USEFUL="like",e.CLICK_UNUSEFUL="dislike",e.DELETE_REVIEW="delete",e.SEND_REPLAY="reply",e.CLICK_BADGE="harvest",e.SHARE="share",e}({})},68103:(e,t,r)=>{"use strict";r.d(t,{Au:()=>l,uM:()=>d});var o,n=r("d3b92"),{objectToQuerystring:c}=((o={}).objectToQuerystring=e=>Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&"),o);function l(e){var{author:t,isUserEntity:r,isAnonymous:o=!1,defaultAuthorName:l=n.fy,query:h={}}=e,m=t.clientOfficial||{},v=d(t.firstName,t.lastName,t.fio,l),_=function(e,t="",r){if(!r)return e&&e.brandLogoUri||t}(m,t.avatarUrl,o)||"",f=function(e,t,r,o="",n={}){if(!r){var l=e.brandUri||"",d="";if(l)return l;if(n&&Object.keys(n).length&&(d=`?${c(n)}`),o)return t?"/my/reviews/":`/context/client_opinion/ClientGuid/${o}/${d}`}}(m,r,o,t.guid,h)||"";return{name:v,imageUrl:_,authorUrl:f}}function d(e="",t="",r="",o=n.fy){return`${e}${t?" ":""}${t}`||r||o}},"7a782":(e,t,r)=>{"use strict";r.d(t,{u:()=>m});var o=r("ce27b"),n=r.n(o),c=r("79a44"),l=r("f52fa"),d=r("11061"),h=r("d3b92"),m={async changeReviewsList(e){var t=Array.isArray(e)?e[0]:e,r=this.currentReview.uuid;await this.setWidgetStateValue(`reviews[${r}]`,t)},async sendReport(e,t,r,o){var d=n()(this.widgetState,`actions.${o}`,h.MM.REPORT_ABUSE);if(!this.creatingAbuseReport){this.creatingAbuseReport=e,this.creatingAbuseReportError="";try{await c.registry.use(l.ComposerService).actionPost({name:d,data:{reviewUuid:e,reasonId:Number(r.reasonId),comment:r.content,itemId:t}})}catch(t){return this.creatingAbuseReportError=e,void(this.creatingAbuseReport="")}this.creatingAbuseReport=""}},async onReportedReview({uuid:e,itemId:t,report:r}){await this.sendReport(e,t,r,h.MX.REPORT_REVIEW),this.updateReviewAfterReport(e)},updateReviewAfterReport(e){if(!this.creatingAbuseReportError){var t=(0,d.Zk)(this.currentReview,{type:d.yz});this.changeReviewsList(t),this.widgetState.media.filter(t=>t.reviewUuid===e).forEach(e=>{e.details.actions=e.details.actions.filter(e=>"REPORT_BUTTON"!==e.type);var t=this.widgetState.media.findIndex(t=>t.uuid===e.uuid);this.setWidgetStateValue(`reviews[${t}]`,e)})}},async onDeleteReview(e,t){var r=new URL(this.$composerRouter.current,window.location.origin),o=n()(this.widgetState,`actions.${h.MX.DELETE_REVIEW}`,h.MM.DELETE_MY_REVIEW);this.activeIndex=0,this.activeSlide=0,await c.registry.use(l.ComposerService).actionPost({name:o,data:{reviewUuid:e,itemId:t}}),this.getWidgetState(r.toString(),!0)},async onVoteReview({uuid:e,itemId:t,value:r}){var o=n()(this.widgetState,`actions.${h.MX.VOTE_REVIEW}`,h.MM.VOTE_OPINION),m=await c.registry.use(l.ComposerService).actionPost({name:o,data:{reviewUuid:e,itemId:t,value:r}}),v=(0,d.Zk)(this.currentReview,{type:d.np,payload:{usefulness:m.usefulness}});this.changeReviewsList(v)},onWriteCommentGallery(data){data&&(this.currentReviewCommentingInfo=data),this.hasCreateCommentError=!1,this.hasCreatedComment=!1}}},"09896":(e,t,r)=>{"use strict";r.d(t,{Y:()=>_});var o=r("14217"),n=3/4,c=4/3,l=function(e){return e[e.DEFAULT=216]="DEFAULT",e[e.XL=456]="XL",e.MODE_SEO_MOB="40%",e}(l||{}),d=function(e){return e[e.X=216]="X",e[e.M=288]="M",e[e.L=384]="L",e[e.XL=612]="XL",e}(d||{}),h={X:216,M:216,L:288,XL:612};function m(e,t){var r=t.width/t.height;return e===o.w_.VIDEO?r<n?d.L:d.M:e===o.w_.IMG?r<n?d.L:r<c?d.M:d.X:void 0}function v(e,t){var r=e[t-1],o=e[t-2];return{prevHeight:m(r.type,r.size),beforePrevHeight:m(o.type,o.size)}}function _(e,t,r){var n=t[e],c=r?l.MODE_SEO_MOB:l.DEFAULT,_=d.X,f=!1;if(e>1&&e<5){var{prevHeight:w,beforePrevHeight:y}=v(t,e),C=m(n.type,n.size);_=w===y&&y===C?function(e,t){return t===o.w_.IMG?h[d[e]]:t===o.w_.VIDEO&&e===d.L?h.L:e}(C,n.type):C}else if(n.type===o.w_.VIDEO&&e>6&&e<24&&e%5>2&&t.length>14){var{prevHeight:O,beforePrevHeight:R}=v(t,e);O!==R||r?_=m(n.type,n.size):(c=l.XL,_=d.XL,f=!0)}else _=m(n.type,n.size);var T=r?6:12;return{gridRowEnd:`span ${Math.ceil((_+T)/(12+T))}`,gridColumnEnd:f?"span 2":null,width:`${c}px`,height:`${_}px`,gridColumnStart:f?3:null}}},fd073:(e,t,r)=>{"use strict";var o=r("ce27b"),n=r.n(o),c=r("16477"),l=r("14217"),d=r("225da"),h=r("d3b92");t.Z={data:()=>({showModal:!1,showStateError:!1,loading:!1,activeSlide:0,skipWidgetMapper:!0}),computed:{listMedia(){return this.widgetState.media||[]},paramSeoMode(){return n()(this.widgetState,"lmtParams.paramSeoMode",!1)}},created(){!this.paramSeoMode&&this.asyncType&&this.preventAsyncFetch()},async mounted(){this.paramSeoMode?await this.openSeoGallery():(await this.openPopupGallery(),await this.afterUrlChange(this.openPopupGallery)),this.preloadImages()},watch:{activeSlide(e){this.sendAnalytics(e)}},methods:{preloadImages(){(this.listMedia&&this.listMedia.slice(0,5)||[]).forEach(e=>{fetch(e.url,{priority:"low"})})},async openPopupGallery(){var{query:e}=this.$composerRouter.getParams(),t=Object.keys(e||{}).some(param=>l.BZ.includes(param));e&&t&&(this.showModal=!0,await this.getWidgetState(this.$composerRouter.current,!0),this.sendAnalytics(this.activeSlide),this.getInfoGallery(),!this.isMobile&&this.$refs.wrapperModal&&this.$refs.wrapperModal.focus({preventScroll:!0}))},async openSeoGallery(){this.isMobile||(this.showModal=!0,this.getCurrentCommentingInfo()),this.getInfoGallery()},getInfoGallery(){this.isMobile&&(this.activeSlide=this.widgetState.selectedIndex||0,this.getOrientation(),window.addEventListener("resize",this.getOrientation))},closeGallery(){this.clearCustomMedia();var e=new URL(this.$composerRouter.current,window.location.origin);l.Kw.forEach(param=>{e.searchParams.delete(param)}),this.videoMode&&(this.videoMode=!1),this.showModal=!1,this.$composerRouter.replace(e.toString(),{silent:!0})},onEnd(){var{total:e,rgPage:t,perPage:r}=this.widgetState.paging;e>t*r&&this.fetchNextPage()},clearCustomMedia(){this.customMedia&&Object.keys(this.customMedia).length&&(this.customMedia={})},async fetchNextPage(){var e=this.widgetState.paging.rgPage+1,t=new URL(this.$composerRouter.current,window.location.origin);t.searchParams.set("rgPage",`${e}`),this.getWidgetState(t.toString(),!1)},async getWidgetState(e,t){if(!this.loading){this.loading=!0;try{this.skipWidgetMapper=t,await this.fetchAsyncState({},e)}catch(e){this.showStateError=!0}this.loading=!1}},sendAnalytics(e){var t=(this.widgetState.media||[])[e]||{};t.cellTrackingInfo&&t.cellTrackingInfo[c.EActionTypes.VIEW_ACTION]&&this.sendTokenAnalytics(t.cellTrackingInfo[c.EActionTypes.VIEW_ACTION])},onEditReview(e){var t=(this.widgetState.media||[]).find(t=>t.reviewUuid===e);t.cellTrackingInfo&&t.cellTrackingInfo[`${h.JG.CLICK_EDIT_URL}-${e}`]&&this.sendTokenAnalytics(t.cellTrackingInfo[`${h.JG.CLICK_EDIT_URL}-${e}`])},sendTokenAnalytics:d.A}}},"5472d":(e,t,r)=>{var o=r("f25b4"),n=r("a52ba"),c=r("caf36"),l=r("7ced4"),d=r("6145b"),h=r("e0576");e.exports=function(e,t,r){var m=-1,v=n,_=e.length,f=!0,w=[],y=w;if(r)f=!1,v=c;else if(_>=200){var C=t?null:d(e);if(C)return h(C);f=!1,v=l,y=new o}else y=t?[]:w;e:for(;++m<_;){var O=e[m],R=t?t(O):O;if(O=r||0!==O?O:0,f&&R==R){for(var T=y.length;T--;)if(y[T]===R)continue e;t&&y.push(R),w.push(O)}else v(y,R,r)||(y!==w&&y.push(R),w.push(O))}return w}},"6145b":e=>{e.exports=function(){}},ecc42:e=>{e.exports=function(){return!1}},e0576:e=>{e.exports=function(){return[]}},"41f20":(e,t,r)=>{var o=r("79230"),n=r("ecc42"),c=r("961ac"),l=Math.ceil,d=Math.max;e.exports=function(e,t,r){t=(r?n(e,t,r):void 0===t)?1:d(c(t),0);var h=null==e?0:e.length;if(!h||t<1)return[];for(var m=0,v=0,_=Array(l(h/t));m<h;)_[v++]=o(e,m,m+=t);return _}},"5fca6":e=>{e.exports=function(e){for(var t=-1,r=null==e?0:e.length,o=0,n=[];++t<r;){var c=e[t];c&&(n[o++]=c)}return n}},"961ac":e=>{e.exports=function(e){return e}},f7785:(e,t,r)=>{var o=r("245ed"),n=r("5472d");e.exports=function(e,t){return e&&e.length?n(e,o(t,2)):[]}},"8ec5d":e=>{for(var t=[],i=0;i<256;++i)t[i]=(i+256).toString(16).substr(1);e.exports=function(e,r){var i=r||0,o=t;return[o[e[i++]],o[e[i++]],o[e[i++]],o[e[i++]],"-",o[e[i++]],o[e[i++]],"-",o[e[i++]],o[e[i++]],"-",o[e[i++]],o[e[i++]],"-",o[e[i++]],o[e[i++]],o[e[i++]],o[e[i++]],o[e[i++]],o[e[i++]]].join("")}},"9f430":e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var r=new Uint8Array(16);e.exports=function(){return t(r),r}}else{var o=new Array(16);e.exports=function(){for(var e,i=0;i<16;i++)3&i||(e=4294967296*Math.random()),o[i]=e>>>((3&i)<<3)&255;return o}}},c7b40:(e,t,r)=>{var o=r("9f430"),n=r("8ec5d");e.exports=function(e,t,r){var i=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var c=(e=e||{}).random||(e.rng||o)();if(c[6]=15&c[6]|64,c[8]=63&c[8]|128,t)for(var l=0;l<16;++l)t[i+l]=c[l];return t||n(c)}},"8f9b1":(e,t,r)=>{"use strict";r.a(e,async(e,o)=>{try{var n=r("8026b"),c=r("b2a90"),l=r("02c22"),d=r("695d8"),h=r.n(d),m=e([c]);function v(e){this.$style=l.Z.locals||l.Z}c=(m.then?(await m)():m)[0];var component=h()(c.Z,n.s,n.x,!1,v,null,null);t.Z=component.exports,o()}catch(_){o(_)}})},"756da":(e,t,r)=>{"use strict";r.a(e,async(e,o)=>{try{var n=r("c424b"),c=r("81b0f"),l=r("cdcac"),d=r("695d8"),h=r.n(d),m=e([c]);function v(e){this.$style=l.Z.locals||l.Z}c=(m.then?(await m)():m)[0];var component=h()(c.Z,n.s,n.x,!1,v,null,null);t.Z=component.exports,o()}catch(_){o(_)}})},cd83a:(e,t,r)=>{"use strict";r.a(e,async(e,o)=>{try{r.r(t);var n=r("f40d1"),c=r("9aad3"),l=r("d6575"),d=r("695d8"),h=r.n(d),m=e([c]);function v(e){this.$style=l.Z.locals||l.Z}c=(m.then?(await m)():m)[0];var component=h()(c.Z,n.s,n.x,!1,v,null,null);t.default=component.exports,o()}catch(_){o(_)}})},"779b0":(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var o={avatar:"yn5_30",hasImage:"y5n_30",xl:"ny6_30",l:"n6y_30",m:"yn6_30",s:"y6n_30",xs:"ny7_30",img:"n7y_30"}},f9021:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var o={text:"yn7_30",badge:"y7n_30",default:"ny8_30",success:"n8y_30",icon:"yn8_30"}},"79c86":(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var o={creating:"oo9_30",loader:"o9o_30"}},"55b3e":(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var o={header:"oq5_30",field:"o5q_30",buttonClose:"qo5_30"}},"949a0":(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var o={button:"q5o_30",active:"oq6_30",buttonAction:"o6q_30",item:"qo6_30"}},"64ba5":(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var o={author:"q6o_30",point:"oq7_30",avatar:"o7q_30",content:"qo7_30",name:"q7o_30",partner:"oq8_30",confirmationIcon:"o8q_30",partnerTitle:"qo8_30",mobile:"q8o_30"}},b8247:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var o={simple:"oq9_30",text:"o9q_30"}},a5043:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var o={success:"qo9_30",error:"q9o_30"}},"89ebc":(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var o={status:"or_30",icon:"ro_30"}},e7cc2:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var o={text:"or0_30"}},"115fe":(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var o={content:"o0r_30",header:"ro0_30",text:"r0o_30",link:"or1_30"}},"9ca93":(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var o={highlight:"o1r_30",highlightMobile:"ro1_30"}},"2e40d":(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var o={title:"r1o_30",buttons:"or2_30",button:"o2r_30"}},d8967:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var o={mediaPreviews:"so2_30",mobile:"s2o_30",mediaWrapper:"os3_30",mediaItem:"o3s_30",image:"so3_30",playIcon:"s3o_30",modAlly:"os4_30",videoDuration:"o4s_30",overflow:"so4_30",brokenVideo:"s4o_30",gridMobileTwoRows:"os5_30",gridMobileThreeRows:"o5s_30",doublePhoto:"so5_30",threePhotos:"s5o_30",fourPhotos:"os6_30",fivePhotos:"o6s_30",sixPhotos:"so6_30",sevenPhotos:"s6o_30",eightPhotos:"os7_30",threeVideos:"o7s_30",threeMedia:"so7_30",doubleMedia:"s7o_30",fourMedia:"os8_30",fiveMedia:"o8s_30",sixMedia:"so8_30",sevenMedia:"s8o_30",eightMedia:"os9_30",gridMobileOneRow:"o9s_30",withVideo:"so9_30",galleryTheme:"s9o_30"}},d2f36:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var o={comment:"ot_30",header:"to_30",mainInfo:"ot0_30",authorInfo:"o0t_30",date:"to0_30",xs:"t0o_30",replyLink:"ot1_30",wrapper:"o1t_30",wrapperText:"to1_30",text:"t1o_30",footer:"ot2_30",mobile:"o2t_30",highlight:"to2_30"}},"9916d":(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var o={commentsList:"t2o_30",gallery:"ot3_30",comment:"o3t_30",loaderWrapper:"to3_30",showMoreComments:"t3o_30",showMoreButtonSlot:"ot4_30",showMoreCommentsIconWrapper:"o4t_30",showMoreCommentsLoading:"to4_30",mobile:"t4o_30"}},"97e8b":(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var o={info:"ot5_30",date:"o5t_30",xs:"to5_30",rating:"t5o_30",themeAuthor:"ot6_30",mobile:"o6t_30"}},fef85:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var o={contentWrapper:"to6_30",contentText:"t6o_30",contentTitle:"ot7_30",contentBlock:"o7t_30",readMore:"to7_30"}},b2c50:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var o={question:"t7o_30",questionAnswer:"ot8_30"}},"9e781":(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var o={footer:"o8t_30",footerItem:"to8_30",buttonReply:"t8o_30",buttonEdit:"ot9_30",confirmation:"o9t_30",notification:"to9_30",footerWrapper:"t9o_30",mobile:"ou_30",buttonUsefulness:"uo_30"}},"31acc":(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var o={product:"ou0_30",imageWrapper:"o0u_30",default:"uo0_30",image:"u0o_30",headerWrapper:"ou1_30",subtitle:"o1u_30",title:"uo1_30",mobile:"u1o_30"}},ed66b:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var o={review:"ou2_30",header:"o2u_30",footer:"uo2_30",body:"u2o_30",variant:"ou3_30",variantLink:"o3u_30",itemPurchased:"uo3_30",contextQuestions:"u3o_30",additionalInfo:"ou4_30",content:"o4u_30",mediaContent:"uo4_30",fullWidth:"u4o_30",moreButton:"ou5_30",travelBadge:"o5u_30",themeAuthor:"uo5_30",status:"u5o_30",themeMyAccount:"ou6_30",translateButton:"o6u_30",hasVariant:"uo6_30",extendedWrapper:"u6o_30",translateButtonGallery:"ou7_30",mobile:"o7u_30",info:"uo7_30",rating:"u7o_30"}},dc540:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var o={actions:"ov4_30",buttonContainer:"o4v_30",buttonCancel:"vo4_30",detailIcon:"v4o_30"}},"1f1e7":(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var o={modal:"o6v_30",radioGroup:"vo6_30",radioGroupItem:"v6o_30",radioGroupLabel:"ov7_30",report:"o7v_30",mobile:"vo7_30",buttons:"v7o_30",title:"ov8_30",reasons:"o8v_30",input:"vo8_30",subtitle:"v8o_30"}},"1a2a2":(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var o={backgroundWrapper:"t7q_30",backgroundImg:"qt8_30",themeVideo:"q8t_30",desktop:"tq8_30"}},b66ed:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var o={badgeRating:"t8q_30",title:"qt9_30",mobile:"q9t_30"}},"02c22":(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var o={slide:"q1u_30",wrapper:"uq1_30",contentWrapper:"u1q_30",paddingMax:"qu2_30",entityWrapper:"q2u_30",commentsWrapper:"uq2_30",commentsTitle:"u2q_30",commentsCount:"qu3_30",footer:"q3u_30"}},cdcac:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var o={commentForm:"uq3_30",authorWrapper:"u3q_30",wrapperForm:"qu4_30",notification:"q4u_30",textarea:"uq4_30",sendButton:"u4q_30",closeIcon:"qu5_30"}},"46d21":(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var o={listMedia:"q5u_30",listWrapper:"uq5_30",modeMobile:"u5q_30",loader:"qu6_30",title:"q6u_30",subTitle:"uq6_30",arrow:"u6q_30",down:"qu7_30"}},b626e:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var o={mediaWrapper:"q7u_30",mobile:"uq7_30",load:"u7q_30",media:"qu8_30",modAlly:"q8u_30",share:"uq8_30",loader:"u8q_30",badgeWrapper:"qu9_30",badge:"q9u_30",details:"uq9_30",detailsWithVideo:"u9q_30"}},"936ce":(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var o={mediaGallery:"qv_30",mediaWrapper:"vq_30",badge:"qv0_30",img:"q0v_30",video:"vq0_30",badgeDuration:"v0q_30",coverVideo:"qv1_30"}},d6575:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var o={wrapperModal:"qv2_30",loaderWrapper:"q2v_30",closeButton:"vq2_30",notification:"v2q_30"}},b2a90:(e,t,r)=>{"use strict";r.a(e,async(e,o)=>{try{var n=r("a3b81"),c=e([n]);n=(c.then?(await c)():c)[0],t.Z=n.Z,o()}catch(e){o(e)}})},"81b0f":(e,t,r)=>{"use strict";r.a(e,async(e,o)=>{try{var n=r("ff194"),c=e([n]);n=(c.then?(await c)():c)[0],t.Z=n.Z,o()}catch(e){o(e)}})},"9aad3":(e,t,r)=>{"use strict";r.a(e,async(e,o)=>{try{var n=r("2a079"),c=e([n]);n=(c.then?(await c)():c)[0],t.Z=n.Z,o()}catch(e){o(e)}})},"8026b":(e,t,r)=>{"use strict";r.d(t,{s:()=>o,x:()=>n});var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("OzCarousel",{attrs:{"slide-index":e.activeIndex,transition:0},on:{"slide-change":e.$listeners.slideChange}},e._l(e.listMedia,function(t,o){var n;return r("OzCarouselItem",{key:o,class:e.$style.slide},[e.activeIndex===o?r("div",{class:e.$style.wrapper},[r("MediaCarousel",e._b({attrs:{"widget-name":e.widgetName,"external-meta":e.externalMeta},on:{onAction:e.$listeners.onAction,sendAnalytics:e.$listeners.sendAnalytics}},"MediaCarousel",Object.assign({},t,e.customMedia),!1)),e._v(" "),e.review?r("div",{class:[e.$style.contentWrapper,(n={},n[e.$style.paddingMax]=e.currentReviewCommentingInfo.answerAuthorName,n)]},[r("div",{class:e.$style.entityWrapper},[r("Review",e._b({attrs:{"is-mobile":!0,"data-review-uuid":e.review.uuid,product:e.products[e.review.itemId],"creating-abuse-report":e.creatingAbuseReport===e.review.uuid,"creating-abuse-report-error":e.creatingAbuseReportError===e.review.uuid,"is-gallery":!0,"is-review-collapsed":e.isReviewCollapsed},on:{delete:e.$listeners.deleteReview,reported:e.$listeners.reportedReview,vote:e.$listeners.voteReview,toogleReview:e.$listeners.toogleReview,openMediaInside:e.$listeners.openMediaInside,editReview:e.$listeners.editReview,openFreshModal:e.$listeners.openFreshModal,translateClick:e.$listeners.translateClick}},"Review",e.review,!1)),e._v(" "),e.review.isCommentsDisabled?e._e():r("div",{class:e.$style.commentsWrapper},[r("div",{class:e.$style.commentsTitle},[e._v("\n              "+e._s(e.localization.reviewGallery.commentsText)+"\n              "),r("span",{class:e.$style.commentsCount},[e._v(e._s(e.commentsTotal))])]),e._v(" "),r("CommentsList",{attrs:{"current-comment-deleting-error":e.currentCommentDeletingError,"current-comment-deleting-uuid":e.currentCommentDeletingUuid,"is-comments-loading":e.isCommentsLoading,"comments-loading-review":e.commentsLoadingReview,"is-gallery":!0,"creating-abuse-report":e.creatingAbuseReport,"creating-abuse-report-error":e.creatingAbuseReportError,review:e.review},on:{loadMore:e.$listeners.loadMoreComments,delete:e.$listeners.deleteComment,reported:e.$listeners.reportedComment,voteComment:e.$listeners.voteComment,writeComment:e.$listeners.writeComment,scrollToParent:e.$listeners.scrollToParent}})],1)],1),e._v(" "),e.review.isCommentable&&!e.review.isCommentsDisabled?r("CreateComment",e._b({class:e.$style.footer,attrs:{"has-error":e.hasErrorComment,"has-created":e.hasCreatedComment,"is-creating":e.isCreatingComment,"item-id":e.review.itemId},on:{create:e.$listeners.createComment,writeComment:e.$listeners.writeComment,resetAnswerAuthor:e.$listeners.resetAnswerAuthor}},"CreateComment",e.currentReviewCommentingInfo,!1)):e._e()],1):e._e()],1):e._e()])}),1)},n=[]},c424b:(e,t,r)=>{"use strict";r.d(t,{s:()=>o,x:()=>n});var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:e.$style.commentForm,on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])||"button"in t&&0!==t.button?null:void t.stopPropagation()},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"right",39,t.key,["Right","ArrowRight"])||"button"in t&&2!==t.button?null:void t.stopPropagation()}]}},[e.hasError||e.hasCreated?r("Notification",{class:e.$style.notification,attrs:{notification:e.hasError?e.notificationError:e.notificationSuccess}}):e._e(),e._v(" "),e.answerAuthorName&&!e.hasCreated?r("div",{class:e.$style.authorWrapper},[e._v("\n    "+e._s(e.localization.reviewGallery.replyTo)+" "+e._s(e.answerAuthorName)+"\n    "),r("CloseIcon",{class:e.$style.closeIcon,on:{click:e.resetAnswerAuthor}})],1):e._e(),e._v(" "),r("form",{class:e.$style.wrapperForm,attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[r("OzTextarea",{ref:"commentTextarea",class:e.$style.textarea,attrs:{"max-height":"100px",placeholder:e.localization.reviewGallery.textareaPlaceholder,"auto-height-by-rows":"","max-length":e.TEXTAREA_MAX_LENGTH,"has-error":e.hasError},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleEnter.apply(null,arguments)}},model:{value:e.comment,callback:function(t){e.comment=t},expression:"comment"}}),e._v(" "),r("DsIconButton",{class:e.$style.sendButton,attrs:{type:"submit",loading:e.isCreating,size:"300",theme:"custom",icon:e.SendIcon,"icon-color":"graphicLightKey","background-color":"bgActionPrimary",disabled:!e.comment.length}})],1)],1)},n=[]},f40d1:(e,t,r)=>{"use strict";r.d(t,{s:()=>o,x:()=>n});var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.showModal?r(e.paramSeoMode?"div":"DsDialog",e._b({tag:"component",on:{close:e.closeGallery}},"component",e.modalProps,!1),[r("div",{directives:[{name:"qa",rawName:"v-qa:id",value:"open-web-reviews-gallery",expression:"'open-web-reviews-gallery'",arg:"id"}],ref:"wrapperModal",class:e.$style.wrapperModal,attrs:{tabindex:"-1"},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])||"button"in t&&0!==t.button?null:(t.stopPropagation(),t.preventDefault(),e.prevProduct.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"right",39,t.key,["Right","ArrowRight"])||"button"in t&&2!==t.button?null:(t.stopPropagation(),t.preventDefault(),e.nextProduct.apply(null,arguments))}]}},[e.paramSeoMode?e._e():r("DsIconButton",e._b({class:e.$style.closeButton,on:{click:e.closeGallery}},"DsIconButton",e.buttonCloseProps,!1)),e._v(" "),!e.showStateError&&e.showWidget?[!e.listMedia.length||e.loading&&e.skipWidgetMapper?e._e():r("Carousel",{key:e.currentReview&&e.currentReview.uuid,attrs:{"list-media":e.listMedia,"active-index":e.activeSlide,review:e.currentReview,products:e.widgetState.products||{},"creating-abuse-report":e.creatingAbuseReport,"creating-abuse-report-error":e.creatingAbuseReportError,"current-comment-deleting-error":e.currentCommentDeletingError,"current-comment-deleting-uuid":e.currentCommentDeletingUuid,"is-comments-loading":e.isCommentsLoading,"is-review-collapsed":e.isReviewCollapsed,"current-review-commenting-info":e.currentReviewCommentingInfo,"has-error-comment":e.hasCreateCommentError,"has-created-comment":e.hasCreatedComment,"is-creating-comment":e.isCommentCreating,"custom-media":e.customMedia,"widget-name":e.componentName,"external-meta":e.externalMetaVideo},on:{slideChange:e.onSlideChange,reportedReview:e.onReportedReview,voteReview:e.onVoteReview,deleteReview:e.onDeleteReview,reportedComment:e.onReportedComment,voteComment:e.onVoteComment,deleteComment:e.onDeleteComment,loadMoreComments:e.loadMoreComments,toogleReview:e.onToogleReview,createComment:e.onCreateComment,writeComment:e.onWriteCommentGallery,resetAnswerAuthor:e.getCurrentCommentingInfo,openMediaInside:e.onOpenMediaInside,scrollToParent:e.onScrollToParent,editReview:e.onEditReview,openFreshModal:e.onOpenFreshModal,onAction:e.onAction,sendAnalytics:e.sendVideoAnalytics,translateClick:e.onReviewTranslate}}),e._v(" "),!(e.listMedia.length&&e.listMedia.length>1)||e.loading&&e.skipWidgetMapper?e._e():r("Gallery",{attrs:{"list-media":e.listMedia,total:e.widgetState.paging.total||0,loading:e.loading,"param-seo-mode":e.paramSeoMode,"widget-name":e.componentName},on:{changeActiveIndex:e.onChangeActiveIndex,changeVideoIndex:e.clickTile,loadMore:e.onEnd,scrollToUp:e.onScrollToUp}}),e._v(" "),e.loading&&e.skipWidgetMapper?r("div",{class:e.$style.loaderWrapper},[r("DsLoader",{attrs:{size:500}})],1):e._e()]:e._e(),e._v(" "),!e.loading&&e.showStateError?r("Notification",{class:e.$style.notification,attrs:{notification:e.getNotificationError}}):e._e()],2)]):e._e(),e._v(" "),e.isShowReport?r("SingleReportForm",{attrs:{action:e.reportData,"radio-options":e.currentReportOptions},on:{sendReport:e.sendReportModal,closeReport:e.closeReport}}):e._e()],1)},n=[]}}]);