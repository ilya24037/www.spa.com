# üó∫Ô∏è Vue Yandex Maps 3.0 - –ü—Ä–∏–º–µ—Ä—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

## üìã –û –ø—Ä–æ–µ–∫—Ç–µ

–ù–∞–±–æ—Ä –≥–æ—Ç–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç 3.0 –≤ Vue 3 –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –≠—Ç–∏ –ø—Ä–∏–º–µ—Ä—ã —Å–æ–∑–¥–∞–Ω—ã —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è SPA Platform –∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã —Ä–∞–±–æ—Ç—ã —Å –∫–∞—Ä—Ç–∞–º–∏.

### ‚úÖ –ß—Ç–æ –≤–∫–ª—é—á–µ–Ω–æ

- **MapExample.vue** - –ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã —Å –∫–∞—Ä—Ç–æ–π
- **AddressSelector.vue** - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –≤—ã–±–æ—Ä–∞ –∞–¥—Ä–µ—Å–∞ —Å –ø–æ–∏—Å–∫–æ–º
- **ServiceAreaMap.vue** - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∑–æ–Ω—ã –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è
- **index.html** - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–µ–º–æ-—Å—Ç—Ä–∞–Ω–∏—Ü–∞

### üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚ú® Vue 3 Composition API
- üìç –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –º–∞—Ä–∫–µ—Ä—ã
- üîç –ü–æ–∏—Å–∫ –ø–æ –∞–¥—Ä–µ—Å—É
- üìè –†–∞–¥–∏—É—Å –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è
- üèôÔ∏è –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–∞–π–æ–Ω–æ–≤ –∏ –º–µ—Ç—Ä–æ
- üì± –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å
- üé® –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–ª–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ö–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã –≤ –≤–∞—à –ø—Ä–æ–µ–∫—Ç
cp -r C:\–ü—Ä–æ–µ–∫—Ç SPA\–ö–∞—Ä—Ç—ã\Map\* your-project/
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ vue-yandex-maps
npm install vue-yandex-maps@latest

# –ò–ª–∏ —á–µ—Ä–µ–∑ yarn
yarn add vue-yandex-maps@latest
```

### 3. API –∫–ª—é—á —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω!

‚úÖ **API –∫–ª—é—á:** `23ff8acc-835f-4e99-8b19-d33c5d346e18`

–ö–ª—é—á —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω –≤–æ –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã. –ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ SPA Platform, –∫–ª—é—á –±–µ—Ä–µ—Ç—Å—è –∏–∑:
- `.env`: `YANDEX_MAPS_API_KEY=23ff8acc-835f-4e99-8b19-d33c5d346e18`
- `resources/js/src/features/map/utils/mapConstants.ts`

–ï—Å–ª–∏ –Ω—É–∂–µ–Ω –¥—Ä—É–≥–æ–π –∫–ª—é—á:
1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ [developer.tech.yandex.ru](https://developer.tech.yandex.ru/)
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
3. –í—ã–±–µ—Ä–∏—Ç–µ "JavaScript API –∏ HTTP –ì–µ–æ–∫–æ–¥–µ—Ä"
4. –ó–∞–º–µ–Ω–∏—Ç–µ –∫–ª—é—á –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ –ø—Ä–æ–µ–∫—Ç–µ

```typescript
// main.ts –∏–ª–∏ app.ts
import { createApp } from 'vue'
import VueYandexMaps from 'vue-yandex-maps'

const app = createApp(App)

app.use(VueYandexMaps, {
  apikey: '23ff8acc-835f-4e99-8b19-d33c5d346e18', // –ò–ª–∏ process.env.YANDEX_MAPS_API_KEY
  lang: 'ru_RU',
  coordorder: 'latlong',
  enterprise: false,
  version: '3.0'
})
```

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
Map/
‚îú‚îÄ‚îÄ MapExample.vue          # –ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä
‚îú‚îÄ‚îÄ AddressSelector.vue     # –í—ã–±–æ—Ä –∞–¥—Ä–µ—Å–∞
‚îú‚îÄ‚îÄ ServiceAreaMap.vue      # –ó–æ–Ω–∞ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ index.html             # –î–µ–º–æ-—Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îú‚îÄ‚îÄ package.json           # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ package-lock.json      # Lock-—Ñ–∞–π–ª
‚îî‚îÄ‚îÄ README.md             # –≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üíª –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### MapExample - –ë–∞–∑–æ–≤–∞—è –∫–∞—Ä—Ç–∞

```vue
<template>
  <MapExample />
</template>

<script setup>
import MapExample from './MapExample.vue'
</script>
```

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ö–ª–∏–∫ –ø–æ –∫–∞—Ä—Ç–µ –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ç–æ—á–∫–∏
- –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ –º–∞—Ä–∫–µ—Ä–∞
- –ì–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
- –ö–æ–Ω—Ç—Ä–æ–ª—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### AddressSelector - –í—ã–±–æ—Ä –∞–¥—Ä–µ—Å–∞

```vue
<template>
  <AddressSelector 
    v-model="selectedAddress"
    @update:coordinates="onCoordinatesUpdate"
  />
</template>

<script setup>
import { ref } from 'vue'
import AddressSelector from './AddressSelector.vue'

const selectedAddress = ref(null)

const onCoordinatesUpdate = (coords) => {
  console.log('–ù–æ–≤—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã:', coords)
}
</script>
```

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ü–æ–∏—Å–∫ –∞–¥—Ä–µ—Å–∞ —á–µ—Ä–µ–∑ —Å—Ç—Ä–æ–∫—É –ø–æ–∏—Å–∫–∞
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–∞–π–æ–Ω–∞ –∏ —Å—Ç–∞–Ω—Ü–∏–∏ –º–µ—Ç—Ä–æ
- –ë—ã—Å—Ç—Ä—ã–π –≤—ã–±–æ—Ä –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ä–∞–π–æ–Ω–æ–≤
- –≠–º–∏—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –∏ –ø–æ–ª–Ω–æ–≥–æ –∞–¥—Ä–µ—Å–∞

### ServiceAreaMap - –ó–æ–Ω–∞ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è

```vue
<template>
  <ServiceAreaMap 
    :service-points="points"
    :default-radius="5"
  />
</template>

<script setup>
import ServiceAreaMap from './ServiceAreaMap.vue'

const points = [
  { 
    id: 1, 
    coordinates: [55.755864, 37.617698],
    name: '–û—Å–Ω–æ–≤–Ω–∞—è —Ç–æ—á–∫–∞',
    radius: 5
  }
]
</script>
```

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ç–æ—á–∫–∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π —Ä–∞–¥–∏—É—Å (1-50 –∫–º)
- –†–∞—Å—á–µ—Ç –ø–ª–æ—â–∞–¥–∏ –ø–æ–∫—Ä—ã—Ç–∏—è
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π –∑–æ–Ω

## üîß –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ SPA Platform

### 1. –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```bash
# –ö–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ –Ω—É–∂–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é FSD
cp MapExample.vue resources/js/src/features/map/ui/
cp AddressSelector.vue resources/js/src/features/address-selector/ui/
cp ServiceAreaMap.vue resources/js/src/features/service-area/ui/
```

### 2. –ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É FSD

```typescript
// features/map/model/types.ts
export interface MapCoordinates {
  lat: number
  lng: number
}

export interface AddressData {
  coordinates: MapCoordinates
  address: string
  district?: string
  metro?: string
}
```

### 3. –°–æ–∑–¥–∞–Ω–∏–µ composables

```typescript
// features/map/composables/useYandexMap.ts
import { ref, onMounted } from 'vue'

export function useYandexMap() {
  const isLoaded = ref(false)
  const mapInstance = ref(null)
  
  // –õ–æ–≥–∏–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
  
  return {
    isLoaded,
    mapInstance
  }
}
```

### 4. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ —Ñ–æ—Ä–º—ã

```vue
<!-- –í AdForm.vue –∏–ª–∏ GeoSection.vue -->
<template>
  <CollapsibleSection title="–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ">
    <AddressSelector 
      v-model="form.location.address"
      @update:coordinates="updateCoordinates"
    />
    
    <ServiceAreaMap
      v-if="form.location.coordinates"
      :service-points="[{
        id: 1,
        coordinates: form.location.coordinates,
        radius: form.service_radius || 5
      }]"
    />
  </CollapsibleSection>
</template>
```

## üé® –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∏–ª–µ–π –º–∞—Ä–∫–µ—Ä–∞

```vue
<yandex-map-marker>
  <div class="custom-marker">
    <!-- –í–∞—à SVG –∏–ª–∏ HTML -->
    <svg>...</svg>
  </div>
</yandex-map-marker>
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ç—Ä–æ–ª–æ–≤

```vue
<yandex-map-controls position="right">
  <yandex-map-zoom-control />
  <yandex-map-geolocation-control />
  <!-- –î–æ–±–∞–≤—å—Ç–µ —Å–≤–æ–∏ –∫–æ–Ω—Ç—Ä–æ–ª—ã -->
</yandex-map-controls>
```

### –¢–µ–º–Ω–∞—è —Ç–µ–º–∞

```javascript
const mapSettings = {
  theme: 'dark',
  behaviors: ['drag', 'scrollZoom', 'dblClickZoom']
}
```

## üì± –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è

–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤:

- **320px+** - –ú–æ–±–∏–ª—å–Ω—ã–µ —Ç–µ–ª–µ—Ñ–æ–Ω—ã
- **768px+** - –ü–ª–∞–Ω—à–µ—Ç—ã
- **1024px+** - –î–µ—Å–∫—Ç–æ–ø

```css
/* –ü—Ä–∏–º–µ—Ä –∞–¥–∞–ø—Ç–∏–≤–Ω—ã—Ö —Å—Ç–∏–ª–µ–π */
.map-container {
  height: 400px;
}

@media (max-width: 768px) {
  .map-container {
    height: 300px;
  }
}
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ –¥–µ–º–æ

1. –û—Ç–∫—Ä–æ–π—Ç–µ `index.html` –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –í—Å—Ç–∞–≤—å—Ç–µ –≤–∞—à API –∫–ª—é—á –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Å–µ –≤–∫–ª–∞–¥–∫–∏ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏

### Unit —Ç–µ—Å—Ç—ã

```bash
# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã)
npm test
```

### E2E —Ç–µ—Å—Ç—ã

```javascript
// cypress/integration/map.spec.js
describe('Yandex Maps', () => {
  it('should select address', () => {
    cy.visit('/map-demo')
    cy.get('[data-cy=address-input]').type('–ú–æ—Å–∫–≤–∞, –ö—Ä–∞—Å–Ω–∞—è –ø–ª–æ—â–∞–¥—å')
    cy.get('[data-cy=search-result]').first().click()
    cy.get('[data-cy=selected-address]').should('contain', '–ö—Ä–∞—Å–Ω–∞—è –ø–ª–æ—â–∞–¥—å')
  })
})
```

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞: –ö–∞—Ä—Ç–∞ –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API –∫–ª—é—á –∏ –¥–æ–º–µ–Ω—ã –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ –Ø–Ω–¥–µ–∫—Å–µ

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ CORS

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤—å—Ç–µ –≤–∞—à –¥–æ–º–µ–Ω –≤ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ –≤ –∫–∞–±–∏–Ω–µ—Ç–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –Ø–Ω–¥–µ–∫—Å–∞

### –ü—Ä–æ–±–ª–µ–º–∞: –ú–∞—Ä–∫–µ—Ä—ã –Ω–µ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã

**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ z-index –º–∞—Ä–∫–µ—Ä–æ–≤ –≤—ã—à–µ —á–µ–º —É –∫–∞—Ä—Ç—ã

```css
.custom-marker {
  z-index: 1000;
  cursor: pointer;
}
```

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è vue-yandex-maps](https://vue-yandex-maps.github.io/)
- [API –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç 3.0](https://yandex.ru/dev/maps/jsapi/doc/)
- [–ü—Ä–∏–º–µ—Ä—ã –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç](https://yandex.ru/dev/maps/jsapi/doc/3.0/examples/)
- [–ì–µ–æ–∫–æ–¥–µ—Ä API](https://yandex.ru/dev/maps/geocoder/)

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —ç—Ç—É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
2. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –≤ `index.html`
3. –ò–∑—É—á–∏—Ç–µ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
4. –°–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–≤–æ–±–æ–¥–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤ –≤–∞—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö.

## üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

- –ö–æ–º–∞–Ω–¥–µ –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç –∑–∞ –æ—Ç–ª–∏—á–Ω–æ–µ API
- –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º vue-yandex-maps –∑–∞ Vue –æ–±–µ—Ä—Ç–∫—É
- –°–æ–æ–±—â–µ—Å—Ç–≤—É Vue.js –∑–∞ –ø–æ–¥–¥–µ—Ä–∂–∫—É

---

*–°–æ–∑–¥–∞–Ω–æ –¥–ª—è SPA Platform —Å ‚ù§Ô∏è*

*–í–µ—Ä—Å–∏—è: 1.0.0 | –î–∞—Ç–∞: 01.09.2025*