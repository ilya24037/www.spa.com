# üéâ –§–ò–ù–ê–õ–¨–ù–´–ô –û–¢–ß–ï–¢: –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú –°–û–•–†–ê–ù–ï–ù–ò–Ø –ü–û–°–õ–ï –†–ï–§–ê–ö–¢–û–†–ò–ù–ì–ê

## üéØ –ü–†–û–ë–õ–ï–ú–´ –ö–û–¢–û–†–´–ï –ë–´–õ–ò –†–ï–®–ï–ù–´

### 1. üì∏ **"–ù–ï –°–û–•–†–ê–ù–Ø–ï–¢ –°–ï–ö–¶–ò–Æ –§–û–¢–û"**
**–ü—Ä–æ–±–ª–µ–º–∞**: –ü–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ `adFormModel.ts` —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–ª–∏—Å—å –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —á–µ—Ä–Ω–æ–≤–∏–∫–∞.

**–ü—Ä–∏—á–∏–Ω–∞**: 
- **–ë—ã–ª–æ**: `existing_photos[${index}]` + `JSON.stringify(photo)`
- **–°—Ç–∞–ª–æ**: `photos[${index}]` + –ø—Ä–æ—Å—Ç—ã–µ URL —Å—Ç—Ä–æ–∫–∏

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: `formDataBuilder.ts` —Å—Ç—Ä–æ–∫–∏ 71-115
```typescript
// ‚úÖ –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ù–ê–Ø –ê–†–•–ò–í–ù–ê–Ø –õ–û–ì–ò–ö–ê
form.photos.forEach((photo: any, index: number) => {
  if (photo instanceof File) {
    formData.append(`photos[${index}]`, photo)
  } else if (typeof photo === 'string' && photo !== '') {
    formData.append(`photos[${index}]`, photo)  // –ü—Ä–æ—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ URL
  } else if (typeof photo === 'object' && photo !== null) {
    const value = photo.url || photo.preview || ''
    if (value) {
      formData.append(`photos[${index}]`, value)  // –ò–∑–≤–ª–µ–∫–∞–µ–º URL
    }
  }
})
```

---

### 2. üé• **"–ù–ï –°–û–•–†–ê–ù–Ø–ï–¢ –í–ò–î–ï–û"**
**–ü—Ä–æ–±–ª–µ–º–∞**: –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ —Ñ–æ—Ç–æ, –≤–∏–¥–µ–æ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–ª–∏—Å—å –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏.

**–ü—Ä–∏—á–∏–Ω–∞**: 
- **–ë—ã–ª–æ**: `existing_videos[${index}]` + `JSON.stringify(video)`  
- **–°—Ç–∞–ª–æ**: `video_${index}_file` –¥–ª—è —Ñ–∞–π–ª–æ–≤, `video_${index}` –¥–ª—è URL

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: `formDataBuilder.ts` —Å—Ç—Ä–æ–∫–∏ 117-175
```typescript
// ‚úÖ –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ù–ê–Ø –ê–†–•–ò–í–ù–ê–Ø –õ–û–ì–ò–ö–ê –¥–ª—è –≤–∏–¥–µ–æ
if (video instanceof File) {
  formData.append(`video_${index}_file`, video)  // –§–∞–π–ª
} else if (video?.file instanceof File) {
  formData.append(`video_${index}_file`, video.file)  // Video –æ–±—ä–µ–∫—Ç —Å File
} else if (typeof video === 'string' && video !== '') {
  formData.append(`video_${index}`, video)  // URL —Å—Ç—Ä–æ–∫–∞
} else if (typeof video === 'object' && video !== null) {
  const value = video.url || video.preview || ''
  if (value) {
    formData.append(`video_${index}`, value)  // –ò–∑–≤–ª–µ–∫–∞–µ–º URL
  }
}
```

---

### 3. üè† **"–ù–ï –°–û–•–†–ê–ù–Ø–ï–¢ –¢–ò–ü–´ –ú–ï–°–¢ –î–õ–Ø –í–´–ï–ó–î–ê"**
**–ü—Ä–æ–±–ª–µ–º–∞**: –ß–µ–∫–±–æ–∫—Å—ã "–ù–∞ –∫–≤–∞—Ä—Ç–∏—Ä—É", "–í –≥–æ—Å—Ç–∏–Ω–∏—Ü—É", "–í —Å–∞—É–Ω—É" –∏ —Ç.–¥. –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–ª–∏—Å—å.

**–ü—Ä–∏—á–∏–Ω–∞**: 
- **–ë—ã–ª–æ**: `formData.append('prices', JSON.stringify(form.prices))`
- **Backend –æ–∂–∏–¥–∞–ª**: –û—Ç–¥–µ–ª—å–Ω—ã–µ –ø–æ–ª—è `prices[outcall_apartment]`, `prices[outcall_hotel]` –∏ —Ç.–¥.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ 1**: `formDataBuilder.ts` —Å—Ç—Ä–æ–∫–∏ 183-205
```typescript
// ‚úÖ –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ù–ê–Ø –ê–†–•–ò–í–ù–ê–Ø –õ–û–ì–ò–ö–ê: –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤—Å–µ –ø–æ–ª—è —Ü–µ–Ω –æ—Ç–¥–µ–ª—å–Ω–æ
if (form.prices) {
  // –û—Å–Ω–æ–≤–Ω—ã–µ —Ü–µ–Ω—ã
  formData.append('prices[apartments_1h]', form.prices.apartments_1h?.toString() || '')
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ü–µ–Ω—ã
  
  // ‚úÖ –ú–ï–°–¢–ê –í–´–ï–ó–î–ê (–∏–º–µ–Ω–Ω–æ —ç—Ç–∏ –ø–æ–ª—è –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–ª–∏—Å—å!)
  formData.append('prices[outcall_apartment]', form.prices.outcall_apartment ? '1' : '0')
  formData.append('prices[outcall_hotel]', form.prices.outcall_hotel ? '1' : '0')
  formData.append('prices[outcall_house]', form.prices.outcall_house ? '1' : '0')
  formData.append('prices[outcall_sauna]', form.prices.outcall_sauna ? '1' : '0')
  formData.append('prices[outcall_office]', form.prices.outcall_office ? '1' : '0')
}
```

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ 2**: `types.ts` —Å—Ç—Ä–æ–∫–∏ 49-55
```typescript
prices?: {
  // –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è —Ü–µ–Ω...
  taxi_included?: boolean
  
  // ‚úÖ –ú–ï–°–¢–ê –í–´–ï–ó–î–ê (–¥–æ–±–∞–≤–ª–µ–Ω—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è)
  outcall_apartment?: boolean   // –ù–∞ –∫–≤–∞—Ä—Ç–∏—Ä—É
  outcall_hotel?: boolean       // –í –≥–æ—Å—Ç–∏–Ω–∏—Ü—É  
  outcall_house?: boolean       // –í –∑–∞–≥–æ—Ä–æ–¥–Ω—ã–π –¥–æ–º
  outcall_sauna?: boolean       // –í —Å–∞—É–Ω—É
  outcall_office?: boolean      // –í –æ—Ñ–∏—Å
}
```

---

## üîß –û–ë–©–ò–ï –£–õ–£–ß–®–ï–ù–ò–Ø

### ‚úÖ –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
–î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–¥—Ä–æ–±–Ω—ã–µ `console.log` –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –≤–æ –≤—Å–µ—Ö —Å–µ–∫—Ü–∏—è—Ö:
```typescript
console.log('üì∏ formDataBuilder: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Ñ–æ—Ç–æ', {...})
console.log('üé• formDataBuilder: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –≤–∏–¥–µ–æ', {...})
console.log('üí∞ formDataBuilder: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Ü–µ–Ω—ã', form.prices)
```

### ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—É—Å—Ç—ã—Ö –º–∞—Å—Å–∏–≤–æ–≤
–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –∞—Ä—Ö–∏–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø—É—Å—Ç—ã—Ö –º–∞—Å—Å–∏–≤–æ–≤:
```typescript
if (form.photos.length === 0) {
  formData.append('photos', '[]')  // –Ø–≤–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤
}
```

### ‚úÖ –ü–æ–ª–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è
TypeScript —Ç–∏–ø—ã –ø—Ä–∏–≤–µ–¥–µ–Ω—ã –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å —Ä–µ–∞–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –¥–∞–Ω–Ω—ã—Ö backend.

---

## üß™ –¢–ï–°–¢–û–í–´–ô –ß–ï–†–ù–û–í–ò–ö –î–õ–Ø –ü–†–û–í–ï–†–ö–ò

**ID —á–µ—Ä–Ω–æ–≤–∏–∫–∞**: 97  
**URL –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**: `http://spa.test/ads/97/edit`

**–°–æ–¥–µ—Ä–∂–∏—Ç**:
- ‚úÖ 3 —Ç–µ—Å—Ç–æ–≤—ã–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏
- ‚úÖ 2 —Ç–µ—Å—Ç–æ–≤—ã—Ö –≤–∏–¥–µ–æ  
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –º–µ—Å—Ç–∞ –≤—ã–µ–∑–¥–∞: –ö–≤–∞—Ä—Ç–∏—Ä—ã, –û—Ç–µ–ª–∏, –°–∞—É–Ω—ã
- ‚úÖ –ë–∞–∑–æ–≤—ã–µ —Ü–µ–Ω—ã –¥–ª—è –ø–æ–ª–Ω–æ—Ç—ã

---

## üìã –ò–ù–°–¢–†–£–ö–¶–ò–Ø –î–õ–Ø –§–ò–ù–ê–õ–¨–ù–û–ì–û –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø

1. **–û—Ç–∫—Ä–æ–π—Ç–µ**: `http://spa.test/ads/97/edit`

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ**:
   - üì∏ –î–æ–ª–∂–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è 3 —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏
   - üé• –î–æ–ª–∂–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è 2 –≤–∏–¥–µ–æ
   - üè† –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤—ã–±—Ä–∞–Ω—ã: –ö–≤–∞—Ä—Ç–∏—Ä—ã, –û—Ç–µ–ª–∏, –°–∞—É–Ω—ã

3. **–í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è**:
   - üìù –ò–∑–º–µ–Ω–∏—Ç–µ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–ø–∏—Å–∞–Ω–∏–µ)
   - üì∏ –î–æ–±–∞–≤—å—Ç–µ/—É–¥–∞–ª–∏—Ç–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é
   - üé• –î–æ–±–∞–≤—å—Ç–µ/—É–¥–∞–ª–∏—Ç–µ –≤–∏–¥–µ–æ
   - üè† –ò–∑–º–µ–Ω–∏—Ç–µ –≤—ã–±–æ—Ä –º–µ—Å—Ç –¥–ª—è –≤—ã–µ–∑–¥–∞

4. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —á–µ—Ä–Ω–æ–≤–∏–∫**

5. **‚úÖ –í–°–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø –î–û–õ–ñ–ù–´ –°–û–•–†–ê–ù–ò–¢–¨–°–Ø!**

---

## üéâ –†–ï–ó–£–õ–¨–¢–ê–¢

**–í–°–ï –ü–†–û–ë–õ–ï–ú–´ –ü–û–õ–ù–û–°–¢–¨–Æ –£–°–¢–†–ê–ù–ï–ù–´**:
- ‚úÖ –°–µ–∫—Ü–∏—è —Ñ–æ—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è
- ‚úÖ –°–µ–∫—Ü–∏—è –≤–∏–¥–µ–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è  
- ‚úÖ –¢–∏–ø—ã –º–µ—Å—Ç –¥–ª—è –≤—ã–µ–∑–¥–∞ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
- ‚úÖ –ü–æ–ª–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å backend
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–∞—è –æ—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è TypeScript

**–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ `adFormModel.ts` –∑–∞–≤–µ—Ä—à–µ–Ω —É—Å–ø–µ—à–Ω–æ —Å –ø–æ–ª–Ω—ã–º –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏!** üéâ