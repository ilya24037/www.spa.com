<?php

use App\Domain\Ad\Models\Ad;

require_once __DIR__ . '/vendor/autoload.php';
$app = require_once __DIR__ . '/bootstrap/app.php';
$kernel = $app->make(Illuminate\Contracts\Http\Kernel::class);
$request = Illuminate\Http\Request::capture();
$response = $kernel->handle($request);

echo "üéØ –ü–†–û–í–ï–†–ö–ê –ü–†–û–ë–õ–ï–ú –° –°–û–•–†–ê–ù–ï–ù–ò–ï–ú –í–ò–î–ï–û\n";
echo "========================================\n\n";

// –ù–∞–π–¥–µ–º —á–µ—Ä–Ω–æ–≤–∏–∫ ID 70
$draft = Ad::find(70);

if ($draft) {
    echo "üìã –ß–µ—Ä–Ω–æ–≤–∏–∫ –Ω–∞–π–¥–µ–Ω: ID {$draft->id}\n";
    echo "–°—Ç–∞—Ç—É—Å: {$draft->status->value}\n";
    echo "–ó–∞–≥–æ–ª–æ–≤–æ–∫: {$draft->title}\n\n";
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–∏–¥–µ–æ
    $videos = $draft->video;
    echo "üìπ –í–∏–¥–µ–æ –≤ —á–µ—Ä–Ω–æ–≤–∏–∫–µ:\n";
    
    if (is_array($videos)) {
        echo "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∏–¥–µ–æ: " . count($videos) . "\n";
        foreach ($videos as $index => $video) {
            echo "  –í–∏–¥–µ–æ $index: $video\n";
        }
    } else {
        echo "–í–∏–¥–µ–æ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –º–∞—Å—Å–∏–≤–æ–º: " . gettype($videos) . "\n";
        echo "–ó–Ω–∞—á–µ–Ω–∏–µ: " . json_encode($videos) . "\n";
    }
    
    echo "\n‚úÖ –ê–ù–ê–õ–ò–ó –ü–†–û–ë–õ–ï–ú–´:\n";
    echo "1. –í –ª–æ–≥–∞—Ö –≤–∏–¥–Ω–æ, —á—Ç–æ –≤—Ç–æ—Ä–æ–µ –≤–∏–¥–µ–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫–∞–∫ video.1.file\n";
    echo "2. –ü–µ—Ä–≤–æ–µ –≤–∏–¥–µ–æ (—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ) –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫–∞–∫ video.0 (—Å—Ç—Ä–æ–∫–∞)\n";
    echo "3. Backend –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ–±–∞ —Ñ–æ—Ä–º–∞—Ç–∞\n\n";
    
    echo "‚ùå –í–û–ó–ú–û–ñ–ù–´–ï –ü–†–û–ë–õ–ï–ú–´:\n";
    echo "1. –ù–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ä–µ–¥–∏—Ä–µ–∫—Ç –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\n";
    echo "2. –ó–∞–ø—Ä–æ—Å –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∫–∞–∫ Inertia\n";
    echo "3. –û—Ç–≤–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∫–∞–∫ JSON –≤–º–µ—Å—Ç–æ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞\n\n";
    
    echo "üîß –†–ï–®–ï–ù–ò–ï:\n";
    echo "–ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ –∏ —É–±–µ–¥–∏—Ç—å—Å—è,\n";
    echo "—á—Ç–æ X-Inertia –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ FormData\n";
    
} else {
    echo "‚ùå –ß–µ—Ä–Ω–æ–≤–∏–∫ —Å ID 70 –Ω–µ –Ω–∞–π–¥–µ–Ω!\n";
}