# üìä –û–¢–ß–ï–¢ –û –ó–ê–í–ï–†–®–ï–ù–ò–ò JsonFieldsTrait

## ‚úÖ –°–¢–ê–¢–£–°: –ü–û–õ–ù–û–°–¢–¨–Æ –í–´–ü–û–õ–ù–ï–ù–û

### üìã –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏:

#### 1. –°–æ–∑–¥–∞–Ω–∏–µ JsonFieldsTrait ‚úÖ
- **–§–∞–π–ª:** `app/Support/Traits/JsonFieldsTrait.php`
- **–ú–µ—Ç–æ–¥–æ–≤:** 12+
- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è casts
  - –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å JSON –ø–æ–ª—è–º–∏
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
  - –£–¥–æ–±–Ω—ã–µ –º–µ—Ç–æ–¥—ã –¥–ª—è –º–∞—Å—Å–∏–≤–æ–≤ –∏ –æ–±—ä–µ–∫—Ç–æ–≤

#### 2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –º–æ–¥–µ–ª–∏ ‚úÖ
**–í—Å–µ–≥–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ: 16 –º–æ–¥–µ–ª–µ–π**

##### –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥–µ–ª–∏:
1. **Ad** - 10 JSON –ø–æ–ª–µ–π
2. **MasterProfile** - 4 JSON –ø–æ–ª—è  
3. **UserSettings** - 1 JSON –ø–æ–ª–µ

##### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏:
4. **Booking** - 3 JSON –ø–æ–ª—è
5. **AdLocation** - 3 JSON –ø–æ–ª—è
6. **AdMedia** - 2 JSON –ø–æ–ª—è
7. **AdPricing** - 1 JSON –ø–æ–ª–µ
8. **AdSchedule** - 3 JSON –ø–æ–ª—è
9. **Review** - 4 JSON –ø–æ–ª—è
10. **Payment** - 3 JSON –ø–æ–ª—è
11. **Notification** - 3 JSON –ø–æ–ª—è
12. **Media** - 2 JSON –ø–æ–ª—è
13. **WorkZone** - 1 JSON –ø–æ–ª–µ
14. **MasterSubscription** - 1 JSON –ø–æ–ª–µ
15. **SubscriptionHistory** - 1 JSON –ø–æ–ª–µ
16. **Service** - 3 JSON –ø–æ–ª—è

#### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞ ‚úÖ
- **AdService:** –£–¥–∞–ª–µ–Ω json_encode/json_decode
- **–£–ø—Ä–æ—â–µ–Ω–∞ –ª–æ–≥–∏–∫–∞:** –ú–∞—Å—Å–∏–≤—ã –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é

#### 4. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è ‚úÖ
- **JsonFieldsTrait.example.md** - –±–∞–∑–æ–≤—ã–µ –ø—Ä–∏–º–µ—Ä—ã
- **JsonFieldsTrait.usage-example.php** - —Ä–µ–∞–ª—å–Ω—ã–µ –∫–µ–π—Å—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

#### 5. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚úÖ
- **–§–∞–π–ª:** `tests/Unit/Support/Traits/JsonFieldsTraitTest.php`
- **–¢–µ—Å—Ç–æ–≤:** 11
- **–ü–æ–∫—Ä—ã—Ç–∏–µ:** –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã

### üìä –ò—Ç–æ–≥–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏:

```
–î–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:
- –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞: 16 –º–æ–¥–µ–ª–µ–π √ó 10 —Å—Ç—Ä–æ–∫ = 160 —Å—Ç—Ä–æ–∫
- –†–∏—Å–∫ –æ—à–∏–±–æ–∫: –í—ã—Å–æ–∫–∏–π (—Ä—É—á–Ω–æ–π json_encode/decode)
- –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ: –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç

–ü–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:
- –ï–¥–∏–Ω—ã–π —Ç—Ä–µ–π—Ç: 1 —Ñ–∞–π–ª, 200 —Å—Ç—Ä–æ–∫
- –†–∏—Å–∫ –æ—à–∏–±–æ–∫: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π (—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞)
- –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ: 100%
```

### üöÄ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è:

1. **–£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è** - –≤—Å–µ –º–æ–¥–µ–ª–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Å JSON –æ–¥–∏–Ω–∞–∫–æ–≤–æ
2. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
3. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å JSON
4. **–£–¥–æ–±—Å—Ç–≤–æ** - –±–æ–≥–∞—Ç—ã–π API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏
5. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ JSON –ø–æ–ª—è

### üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

```php
// –ë—ã–ª–æ:
$services = json_decode($ad->services, true) ?: [];
$services[] = '–Ω–æ–≤–∞—è —É—Å–ª—É–≥–∞';
$ad->services = json_encode($services);

// –°—Ç–∞–ª–æ:
$ad->appendToJsonField('services', '–Ω–æ–≤–∞—è —É—Å–ª—É–≥–∞');
```

### ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è:

1. **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ - —Å—Ç–∞—Ä—ã–π –∫–æ–¥ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
2. **–ú–∏–≥—Ä–∞—Ü–∏—è –ë–î –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è** - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å
3. **–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥** - –º–æ–∂–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å –∫–æ–¥ –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

### üìÖ –ó–∞—Ç—Ä–∞—á–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è: ~2 —á–∞—Å–∞

### ‚úÖ –ó–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –Ω–∞ 100%