# üìä –§–ò–ù–ê–õ–¨–ù–´–ô –û–¢–ß–ï–¢ –û –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ò

**–î–∞—Ç–∞:** 19.09.2025
**–ó–∞–¥–∞—á–∞:** –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ —Å–æ –≤—Å–µ–º–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–º–∏ –ø–æ–ª—è–º–∏ –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –±–∞–∑–µ

## ‚úÖ –ß–¢–û –ë–´–õ–û –°–î–ï–õ–ê–ù–û

### 1. –°–æ–∑–¥–∞–Ω—ã —Ç–µ—Å—Ç–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã:

1. **test_full_ad_creation.php** - –ø–æ–ª–Ω—ã–π —Ç–µ—Å—Ç —Å–æ –í–°–ï–ú–ò –ø–æ–ª—è–º–∏ —Ñ–æ—Ä–º—ã:
   - –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è (title, age, height, weight –∏ —Ç.–¥.)
   - –ü–†–û–ë–õ–ï–ú–ù–´–ï –ø–æ–ª—è (specialty, work_format, service_provider)
   - –ö–æ–Ω—Ç–∞–∫—Ç—ã (phone, whatsapp, telegram)
   - –¶–µ–Ω—ã (JSON)
   - –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ (JSON)
   - –£—Å–ª—É–≥–∏ (JSON)
   - –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è (JSON)

2. **simple_test_with_specialty.php** - —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π —Ç–µ—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö –ø–æ–ª–µ–π

3. **test_specialty_field.php** - —Ñ–æ–∫—É—Å –Ω–∞ –ø–æ–ª–µ specialty

### 2. –î–∞–Ω–Ω—ã–µ –¥–ª—è —Ç–µ—Å—Ç–∞:

```php
$testData = [
    // –ü–†–û–ë–õ–ï–ú–ù–´–ï –ü–û–õ–Ø - –ì–õ–ê–í–ù–û–ï!
    'specialty' => 'massage_classic',     // ‚Üê –°–ü–ï–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø
    'work_format' => 'duo',               // ‚Üê –§–û–†–ú–ê–¢ –†–ê–ë–û–¢–´
    'service_provider' => ['women', 'men'], // ‚Üê –ö–¢–û –û–ö–ê–ó–´–í–ê–ï–¢ –£–°–õ–£–ì–ò

    // –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è
    'title' => '–ü–û–õ–ù–´–ô –¢–ï–°–¢',
    'category' => 'girls',
    'age' => 28,
    'phone' => '+79251234567',
    'whatsapp' => '+79251234567',
    'telegram' => '@massage_moscow',

    // –°—Ç–∞—Ç—É—Å
    'status' => 'active',      // –ü—Ä—è–º–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è
    'is_published' => false,   // –ù–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é
];
```

## üìã –î–û–ö–ê–ó–ê–¢–ï–õ–¨–°–¢–í–ê –ò–ó –õ–û–ì–û–í

### –†–µ–∞–ª—å–Ω—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –∏–∑ –ª–æ–≥–æ–≤ Laravel:

#### ‚úÖ ID: 27 (19.09.2025 09:26)
```
saved_work_format: "duo" ‚úÖ
saved_service_provider: ["women"] ‚úÖ
```

#### ‚úÖ ID: 28 (19.09.2025 09:23)
```
saved_work_format: "individual" ‚úÖ
saved_service_provider: ["women"] ‚úÖ
status: "active"
is_published: false
```

#### ‚úÖ ID: 29 (19.09.2025 09:55)
```
saved_work_format: "duo" ‚úÖ
saved_service_provider: ["men"] ‚úÖ
status: "active"
```

## üîç –ö–ê–ö –ó–ê–ü–£–°–¢–ò–¢–¨ –¢–ï–°–¢–´

### Windows (—á–µ—Ä–µ–∑ Herd):
```batch
# –ü–æ–ª–Ω—ã–π —Ç–µ—Å—Ç
C:\Users\user1\.config\herd\bin\php.bat test_full_ad_creation.php

# –ü—Ä–æ—Å—Ç–æ–π —Ç–µ—Å—Ç
C:\Users\user1\.config\herd\bin\php.bat simple_test_with_specialty.php

# –ò–ª–∏ —á–µ—Ä–µ–∑ .bat —Ñ–∞–π–ª—ã
run_full_test.bat
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –ë–î —á–µ—Ä–µ–∑ Tinker:
```bash
php artisan tinker

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ 5 –æ–±—ä—è–≤–ª–µ–Ω–∏–π
>>> DB::table('ads')->orderBy('id','desc')->limit(5)->get(['id','title','specialty','work_format','service_provider']);

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –∏–∑ —Ç–µ—Å—Ç–æ–≤
>>> DB::table('ads')->whereIn('id',[27,28,29])->get(['id','specialty','work_format','service_provider']);
```

### SQL –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è phpMyAdmin:
```sql
-- –ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è —Å –ø—Ä–æ–±–ª–µ–º–Ω—ã–º–∏ –ø–æ–ª—è–º–∏
SELECT
    id,
    title,
    specialty,
    work_format,
    service_provider,
    status,
    is_published,
    created_at
FROM ads
WHERE
    specialty IS NOT NULL
    OR work_format IS NOT NULL
    OR service_provider IS NOT NULL
ORDER BY id DESC
LIMIT 10;
```

## ‚úÖ –†–ï–ó–£–õ–¨–¢–ê–¢ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø

### –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç:

| –ü–æ–ª–µ | –¢–∏–ø | –ü—Ä–∏–º–µ—Ä –∑–Ω–∞—á–µ–Ω–∏—è | –°—Ç–∞—Ç—É—Å |
|------|-----|-----------------|--------|
| **specialty** | VARCHAR | 'massage_classic' | ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ |
| **work_format** | VARCHAR | 'duo', 'solo', 'individual' | ‚úÖ –†–ê–ë–û–¢–ê–ï–¢ (–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ –ª–æ–≥–∞–º–∏) |
| **service_provider** | JSON | ["women"], ["men"], ["women","men"] | ‚úÖ –†–ê–ë–û–¢–ê–ï–¢ (–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ –ª–æ–≥–∞–º–∏) |
| status | ENUM | 'active' | ‚úÖ –†–ê–ë–û–¢–ê–ï–¢ |
| is_published | BOOLEAN | 0 (–Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏) | ‚úÖ –†–ê–ë–û–¢–ê–ï–¢ |

### –ü—Ä—è–º–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è:
- ‚úÖ –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ "–†–∞–∑–º–µ—Å—Ç–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ" —Å–æ–∑–¥–∞–µ—Ç—Å—è –æ–±—ä—è–≤–ª–µ–Ω–∏–µ —Å–æ status='active'
- ‚úÖ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è is_published=0 –¥–ª—è –º–æ–¥–µ—Ä–∞—Ü–∏–∏
- ‚úÖ –í—Å–µ –ø–æ–ª—è –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ DraftService

### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —á–µ—Ä–Ω–æ–≤–∏–∫–æ–≤:
- ‚úÖ status='draft'
- ‚úÖ –ú–æ–∂–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –ø–æ–∑–∂–µ

## üìù –í–´–í–û–î–´

1. **work_format** –∏ **service_provider** - 100% –†–ê–ë–û–¢–ê–Æ–¢ (–µ—Å—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –ª–æ–≥–∞—Ö)
2. **specialty** - –ø–æ–ª–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–æ –≤ —Ç–µ—Å—Ç–∞—Ö –±—ã–ª–æ NULL (–Ω—É–∂–Ω–æ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å)
3. **–ü—Ä—è–º–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è** - –†–ê–ë–û–¢–ê–ï–¢
4. **–í—Å–µ JSON –ø–æ–ª—è** - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∫–æ–¥–∏—Ä—É—é—Ç—Å—è –∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è

## üéØ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `run_full_test.bat` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏—è —Å –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–º specialty
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ phpMyAdmin –ø–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ–∑–¥–∞–Ω–Ω–æ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ
3. –ï—Å–ª–∏ specialty –≤—Å–µ –µ—â–µ NULL - –ø—Ä–æ–±–ª–µ–º–∞ –≤ frontend (–Ω–µ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ)

---
*–¢–µ—Å—Ç—ã –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ –∑–∞–ø—É—Å–∫—É. –ù—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∏—Ö –≤ Windows –¥–ª—è –æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏.*