"use strict";(self.webpackChunkDetached_navi=self.webpackChunkDetached_navi||[]).push([["products-desktop-tile-grid-desktop"],{"6bc2f":(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.HookEmitter=class{constructor(t=console){this._hooks=new Map,this._onError=t}on(t,e){if(!t||!e){const t=this.hookException("Error while try to subscribe on hook without passing name or handler!");return void this._onError.error(t)}this._hooks.has(t)||this._hooks.set(t,new Set);const n=this._hooks.get(t);return n&&n.add(e),()=>{const n=this._hooks.get(t);n&&n.delete(e)}}once(t,e){if(!t||!e){const t=this.hookException("Error while try to once subscribe on hook without passing name or handler!");return void this._onError.error(t)}const n=this.on(t,t=>{e(t),n&&n()});return n}async callHook(t,e){if(!t){const t=this.hookException("Error while try to call hook without name or passing values!");return void this._onError.error(t)}const n=this._hooks.get(t),r=n?Array.from(n):[];if(r.length)for(let s=0;s<r.length;s++){const t=r[s];if("function"==typeof t)try{const n=await this.resolveHookPromise(t,e);if(null!==n&&(!1===n||"object"==typeof n))return n}catch(e){const n=this.hookException(e,t);return this._onError.error(n),!1}else{const e=this.hookException(`Hook must be type of function, but passed - ${typeof t}!`,t);this._onError.error(e)}}}resolveHookPromise(t,e){let n;return Promise.race([new Promise((n,r)=>{let o=t(e);return o instanceof Promise?o.then(t=>(o=t,o)).then(n).catch(r):n(o)}),new Promise((t,e)=>{n=setTimeout(e,5e3,new Error("Time out in 5000 ms. while try to resolve hook!"))})]).finally(()=>clearTimeout(n))}hookException(t,e){const n=t instanceof Error?t:new Error("Error during call hook!"),r="string"==typeof t?new Error(t):n;return{exception:t instanceof Error?t:r,payload:{hook:void 0!==e?e.toString():"none"},zone:"hook"}}}},"6d251":(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r,o,c,h,s,i,l=n("16477"),a=n("6bc2f"),d="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},f=(r=function(t,e){var n,r;r=function(t,e){var n="XMLHttpRequest"in window?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");n.open("POST",t,!1),n.withCredentials=!0,n.setRequestHeader("Accept","*/*"),"string"==typeof e?(n.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),n.responseType="text/plain"):"[object Blob]"==={}.toString.call(e)&&e.type&&n.setRequestHeader("Content-Type",e.type);try{n.send(e)}catch(t){}return!0},"navigator"in(n="object"==typeof window?window:d)&&"sendBeacon"in n.navigator&&(r=navigator.sendBeacon.bind(navigator)),t.exports&&(e=t.exports=r),e.sendBeacon=r},r(o={path:void 0,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},o.exports),o.exports);function u(t){return`${function(t){return t.indexOf("://")>0||0===t.indexOf("//")}(t)?"":window.location.origin}${t}`}function p(t){return`TSDK:${t}`}!function(t){t.UNLOAD="unload",t.BEFORE_UNLOAD="beforeunload",t.LOAD="load"}(c||(c={})),(h=e.ETrackerHooks||(e.ETrackerHooks={})).EVENT_ADD="EVENT_ADD",h.EVENTS_SENT="EVENTS_SENT",function(t){t.START="start",t.END="end"}(s||(s={}));class v{constructor(t){this.heldEvents=[],this.sentEvents=[],this.capacity=20,this.capacity=void 0!==t.capacity?t.capacity:20}addHeldEvents(t,e=s.END){"start"===e?Array.isArray(t)?this.heldEvents.unshift(...t):this.heldEvents.unshift(t):Array.isArray(t)?this.heldEvents.push(...t):this.heldEvents.push(t)}addSentEvents(t){this.sentEvents.push(...t)}updateHeldEvent(t,e){return"object"==typeof this.heldEvents[t]&&(this.heldEvents[t].data=Object.assign({},e),!0)}deleteHeldEvent(t){return"object"==typeof this.heldEvents[t]&&(this.heldEvents.splice(t,1),!0)}clearHeldEvents(){this.heldEvents=[]}clearSentEvents(){this.sentEvents=[]}_isFilled(){return this.heldEvents.length>=this.capacity}}function m(){return{}}function g(t){return"object"==typeof t&&null!==t}function y(){try{return g(sessionStorage)}catch(t){if("Failed to read the 'sessionStorage' property from 'Window': Access is denied for this document."===t.message)return!1;throw t}}function w(){try{return g(localStorage)}catch(t){if("Failed to read the 'localStorage' property from 'Window': Access is denied for this document."===t.message)return!1;throw t}}function _(){if(y()){const t=sessionStorage.getItem(p("pageHash"));w()&&localStorage.removeItem(p(t))}}function j(){let t=i.NAVIGATE;if("object"==typeof window&&"object"==typeof window.performance)if("object"==typeof window.performance.navigation)t=window.performance.navigation.type?i.RELOAD:i.NAVIGATE;else if("function"==typeof performance.getEntriesByType){const e=performance.getEntriesByType("navigation").map(t=>t.type);t=e[0]&&"reload"===e[0]?i.RELOAD:i.NAVIGATE}return t}!function(t){t.NAVIGATE="navigate",t.RELOAD="reload",t.NAVIGATE_WITH_RELOAD="navigate_with_reload",t.NAVIGATE_IN_NEW_TAB="navigate_in_new_tab"}(i||(i={}));const S=(t=21)=>{let e="",n=t;for(;n--;)e+="abcdef0123456789"[16*Math.random()|0];return e};function b(){return`${S(8)}-${S(4)}-4${S(3)}-${S(4)}-${S(12)}`}function O(t,e,n){let r="";if(t.length<n)for(let s=0;s<n-t.length;++s)r+=e;return r+t}function k(t,e){return`${t.getFullYear()}-${O((t.getMonth()+1).toString(),"0",2)}-${O(t.getDate().toString(),"0",2)} ${O(t.getHours().toString(),"0",2)}:${O(t.getMinutes().toString(),"0",2)}:${O(t.getSeconds().toString(),"0",2)}${e?"."+O(t.getMilliseconds().toString(),"0",3):""} ${function(t){const e=t.getTimezoneOffset()>0?"-":"+",n=Math.abs(t.getTimezoneOffset());return e+O(Math.floor(n/60).toString(),"0",2)+O((n%60).toString(),"0",2)}(t)}`}const E=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,x=/CrOS/,I=/android|ipad|playbook|silk/i;class T{constructor(t,e,n){this.options=e,this.event=Object.assign({},t),this.event.attributes=this.setEventAttributes(this.event.attributes);const r=this.setEventProperties(this.event.properties,n);r&&(this.event.properties=r)}}function A(t){if(!t)return"";if(t.id)return`//*[@id="${t.id}"]`;const e=[];for(;t&&t.nodeType===Node.ELEMENT_NODE;){let n=1,r=t.previousElementSibling;for(;r;)r.tagName===t.tagName&&n++,r=r.previousElementSibling;const s=t.tagName.toLowerCase();e.push(`${s}[${n}]`),t=t.parentElement}return"/"+e.reverse().join("/")}const D="event",$=class extends T{constructor(t,e,n){super(t,e,n)}setEventAttributes(t={}){return t.userAgent=void 0!==t.userAgent?t.userAgent:navigator.userAgent,t.platform=void 0!==t.platform?t.platform:this.options&&this.options.platform||"",t.screenResolutionX=void 0!==t.screenResolutionX?t.screenResolutionX:screen.width,t.screenResolutionY=void 0!==t.screenResolutionY?t.screenResolutionY:screen.height,t}setEventProperties(t,e){return e&&(t||(t={}),t&&(t.coordinateY=e.pageY,t.coordinateX=e.pageX,t.mapSelectedTitle=A(e.target))),t}},z=new RegExp("eyJ(?:hbGciOiJFUz|hbGciOiJSUz|hbGciOiJIUz|hbGciOiJQUz|0eXAiOiJqd3|0eXAiOiJKV1|raWQiOi)[a-zA-Z0-9_-]+\\.[a-zA-Z0-9_-]+\\.[a-zA-Z0-9_-]+","g"),N=new Map,P=t=>{if(N.has(t))return N.get(t);if(!t.includes("eyJ"))return N.set(t,t),t;const e=t.replace(z,"______");return N.set(t,e),e};class Z{constructor(t,e){this.navigationType=j(),this.viewNumber=1,this.pageNumber=1,this.nextPageNumber=1,this.currentUrl="",this.referralUrl="",this.pageViewId=b(),this.previousPageViewId=void 0,this.currentPageType="",this.previousPageType=void 0,this.pageInit=!1,this.supplier=new Map,this.namespace=t.namespace,this.version=t.version||"unknown",this.pageTimestamp=t.pageTimestamp,this.registryEvents(e),this.registryOnInit(),window.addEventListener(c.BEFORE_UNLOAD,_)}get isMobile(){return void 0===this._isMobile&&(this._isMobile=function(t){t||(t={});let e=t.ua;if(e||"undefined"==typeof navigator||(e=navigator.userAgent),e&&e.headers&&"string"==typeof e.headers["user-agent"]&&(e=e.headers["user-agent"]),"string"!=typeof e)return!1;let n=E.test(e)&&!x.test(e)||!!t.tablet&&I.test(e);return!n&&t.tablet&&t.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==e.indexOf("Macintosh")&&-1!==e.indexOf("Safari")&&(n=!0),n}({tablet:!1,featureDetect:!0})),this._isMobile}getEventByType(t,e={},n){const r=this.supplier.get(t);if(void 0===r)throw new Error(`Не удалось получить конструктор события по ключу - ${t}`);const s={platform:this.isMobile?l.EPlatform.MOBILE_SITE:l.EPlatform.SITE},{event:i}=new r(e,s,n);return i.actionType===l.EActionTypes.PAGE_VIEW_ACTION&&(this.savePageViewInformation(i.page),this.currentPageType="object"==typeof i.page&&void 0!==i.page.current?i.page.current:"",this.enrichEvent(i)),i.timestamp=i.timestamp||k(new Date),i.timestampMs=i.timestampMs||k(new Date,!0),i.pageTimestamp=this.pageTimestamp,i.attributes.namespace=i.actionType===l.EActionTypes.SCREEN_CLICK?"native":this.namespace,i.attributes.appVersion||(i.attributes.appVersion=p(this.version)),i.uuid=i.uuid||b(),i}enrichEvent(t={}){return t.page=Object.assign({},t.page),t.page.number=this.pageNumber,t.page.currentUrl=P(this.currentUrl),t.page.current=this.currentPageType,t.page.referralUrl=P(this.referralUrl),t.page.previous=this.previousPageType,t.page.pageViewId=this.pageViewId,t.page.previousPageViewId=this.previousPageViewId,t.page.isActiveTab=!document.hidden,t}registryEvents(t){if(this.supplier.set(D,$),Array.isArray(t))for(let e=0;e<t.length;e++){const n=t[e];n.name!==D&&this.supplier.set(n.name,n.constructor)}}registryOnInit(){const t=y()?sessionStorage.getItem(p("pageHash")):null,e=y()?sessionStorage.getItem(p("customReferrer")):"";this.pageInit=function(){if(y()){const t=j(),e=sessionStorage.getItem(p("pageInit"));return null!==e&&"false"!==e&&t!==i.RELOAD||(sessionStorage.setItem(p("pageInit"),"true"),!1)}return!1}();const n=this.pageInit&&null!==t&&!document.referrer?t:document.referrer;this.currentUrl=window.location.href,this.referralUrl=this.navigationType===i.RELOAD&&null!==e?e:n,!y()||null!==e&&""!==e&&this.navigationType===i.RELOAD||sessionStorage.setItem(p("customReferrer"),document.referrer);const r=u(this.referralUrl||"/");document.referrer!==r&&Object.defineProperty(document,"referrer",{value:r,writable:!0,configurable:!0});const s=function(){if(y()){const t=sessionStorage.getItem(p("nextPageNumber"));return null!==t?t:null}return null}();null!==s&&(this.pageNumber=Number(s),this.nextPageNumber=this.pageNumber),this.getInformationFromStorage()}setViewNumber(){const t=this.viewNumber++;return this.viewNumber>=Number.MAX_SAFE_INTEGER&&(this.viewNumber=1),t}setNextPageNumber(){const t=this.nextPageNumber++;return this.nextPageNumber>=Number.MAX_SAFE_INTEGER&&(this.nextPageNumber=1),t}savePageViewInformation(t={}){this.pageNumber=this.setNextPageNumber();const e=this.setViewNumber();var n;this.pageNumber>1&&(this.pageViewId=b(),this.pageInit&&this.trackPageTransition(e,t.currentUrl,t.referralUrl)),n=this.nextPageNumber,y()&&sessionStorage.setItem(p("nextPageNumber"),String(n)),this.pageInit&&w()&&localStorage.removeItem(p(this.referralUrl)),function(t,e){const n=j();if(y()){sessionStorage.setItem(p("pageHash"),t);const r=JSON.parse(sessionStorage.getItem(p("pageData"))||"{}"),s=Object.keys(r);2===s.length&&n!==i.RELOAD&&delete r[s[0]],r[t]=e,sessionStorage.setItem(p("pageData"),JSON.stringify(r))}w()&&localStorage.setItem(p(t),JSON.stringify(e))}(this.currentUrl,{pageViewId:this.pageViewId,pageType:t.current}),this.pageInit=!0}trackPageTransition(t,e,n){const r=t>1;r&&void 0===e&&console.warn("При spa-переходе необходимо прокидывать обновлённый url в page.currentUrl.");const s=r?this.currentUrl:this.referralUrl;r&&(document.referrer!==s&&Object.defineProperty(document,"referrer",{value:s,writable:!0,configurable:!0}),function(){const t=i.NAVIGATE===i.RELOAD?1:0;"object"==typeof window&&("object"==typeof window.performance.navigation?Object.defineProperties(window.performance.navigation,{type:{value:t,writable:!0}}):Object.defineProperties(window.performance,{navigation:{value:{type:t},writable:!0}}))}(),y()&&sessionStorage.setItem(p("customReferrer"),s));const o=void 0!==n?n:s;this.currentUrl=u(void 0!==e?e:this.currentUrl),this.referralUrl=u(o||"/"),this.getInformationFromStorage()}getInformationFromStorage(){const t=function(t){if(y()&&w()){const e=""!==t?t:sessionStorage.getItem(p("pageHash")),n=sessionStorage.getItem(p("pageData"));if(null!==e&&null!==n){const t=JSON.parse(n||"{}");return"object"==typeof t[e]&&Object.keys(t[e]).length?t[e]:{}}return JSON.parse(localStorage.getItem(p(t))||"{}")}return{}}(this.referralUrl);this.saveData(t)}saveData(t){this.previousPageType=t.pageType,this.previousPageViewId=t.pageViewId}}function M(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){const e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===H}(t)}(t)}(e.EDefaultEvents||(e.EDefaultEvents={})).EVENT="event";const H="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function B(t,e){return!1!==e.clone&&e.isMergeableObject(t)?C(Array.isArray(t)?[]:{},t,e):t}function R(t,e,n){return t.concat(e).map(function(t){return B(t,n)})}function J(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[]}(t))}function G(t,e){try{return e in t}catch(t){return!1}}function C(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||R,n.isMergeableObject=n.isMergeableObject||M,n.cloneUnlessOtherwiseSpecified=B;const r=Array.isArray(e);return r===Array.isArray(t)?r?n.arrayMerge(t,e,n):function(t,e,n){const r={};return n.isMergeableObject(t)&&J(t).forEach(function(e){r[e]=B(t[e],n)}),J(e).forEach(function(s){(function(t,e){return G(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,s)||(r[s]=G(t,s)&&n.isMergeableObject(e[s])?function(t,e){if(!e.customMerge)return C;const n=e.customMerge(t);return"function"==typeof n?n:C}(s,n)(t[s],e[s],n):B(e[s],n))}),r}(t,e,n):B(e,n)}function F(t){if(null==t||"object"!=typeof t)return t;if(t instanceof Date)return t;if(t instanceof String)return t;if(t instanceof Number)return t;if(t instanceof Boolean)return t;if(t instanceof RegExp)return t;let e={};t instanceof Array&&(e=new Array(t.length));for(const n in t)e[n]=F(t[n]);return e}class L extends a.HookEmitter{constructor(t,e){super(),this.isTMEnabled=!1,this.isTMAllowed=!1,this.isPageViewSent=!1,this.isPageCloseSent=void 0,this.isOnUnload=!1,this.scrollDepth=0,this.pageStartTimestamp=0,this.needXHR=void 0,this.checkScrollDeep=()=>{window.scrollY>this.scrollDepth&&(this.scrollDepth=window.scrollY)},this.pageStartTimestamp=Date.now(),this.isTMAllowed=Boolean(t.manager&&t.manager.enable)||document.cookie.includes("ozon_devtools");try{this.config=function(t){const e=Object.assign({},t);if(!e.namespace)throw new Error("Необходимо установить параметр namespace в конструктор Tracker SDK");e.dev=void 0!==e.dev&&e.dev;const n="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname,r=n||e.dev?"https://trinity-storage-stg.ozonru.me/v1/json-payloads":"https://trinity-storage.t.o3.ru/v1/json-payloads",s=n||e.dev?"https://cdn-qa.ozonru.me":"https://cdn2.ozone.ru",i=n||e.dev?"https://cdn-qa.ozonru.me":"https://cdn2.ozone.ru";return e.host=void 0!==e.host?e.host:n||e.dev?"https://xapi-stg.ozonru.me/dlte/multi":"https://xapi.ozon.ru/dlte/multi",e.dynamicApiHost&&(e.host=`${document.location.origin}/p-api/tracker/dlte/multi`),e.trinityStorageUrl=void 0!==e.trinityStorageUrl?e.trinityStorageUrl:r,e.manager={enable:"object"==typeof e.manager&&"boolean"==typeof e.manager.enable&&e.manager.enable,host:"object"==typeof e.manager&&"string"==typeof e.manager.host?e.manager.host:s},e.metrics={enable:"object"==typeof e.metrics&&"boolean"==typeof e.metrics.enable&&e.metrics.enable,host:"object"==typeof e.metrics&&"string"==typeof e.metrics.host?e.metrics.host:i},e.sendTimeout=void 0!==e.sendTimeout?e.sendTimeout:2e4,e.pageViewEnabled=void 0===e.pageViewEnabled||e.pageViewEnabled,e.pageCloseEnabled=void 0===e.pageCloseEnabled||e.pageCloseEnabled,e.eventTemplate="function"==typeof e.eventTemplate?e.eventTemplate:m,e.pageAdditional=void 0!==e.pageAdditional?e.pageAdditional:{},e}(Object.assign({},t))}catch(t){throw console.error(t),t}try{this.store=new v({capacity:this.config.capacity})}catch(t){throw console.error(t),t}try{this.factory=new Z({namespace:this.config.namespace,version:this.config.version,pageTimestamp:k(new Date(this.pageStartTimestamp))},e)}catch(t){throw console.error(t),t}this.sendTimeout=this.config.sendTimeout,setTimeout(()=>{if(-1!==("object"==typeof PerformanceObserver&&Array.isArray(PerformanceObserver.supportedEntryTypes)||[]).indexOf("layout-shift")){const t=()=>{"hidden"===document.visibilityState&&(this.flush(),removeEventListener("visibilitychange",t,!0))};addEventListener("visibilitychange",t,!0)}else addEventListener("pagehide",()=>this.flush(),{capture:!0,once:!0})}),window.addEventListener("scroll",this.checkScrollDeep),window.addEventListener("pageshow",t=>{t.persisted&&(this.isPageCloseSent=!1)}),window.addEventListener(c.BEFORE_UNLOAD,()=>{this.isOnUnload=!0,this.config.pageCloseEnabled?this.sendPageClose():this.flush()})}setTMFlag(t){this.isTMEnabled=t}sendPageView(t={}){const e=F(t);this.isPageViewSent=!1,this.isPageCloseSent=void 0,this.sendCustomPageEvent(l.EActionTypes.PAGE_VIEW_ACTION,e)}sendPageClose(t={}){const e=F(t);e.viewTime=Date.now()-this.pageStartTimestamp,e.scrollDepth=this.scrollDepth,this.factory.pageInit&&!this.isPageCloseSent&&(this.isPageCloseSent=!1,this.sendCustomPageEvent(l.EActionTypes.PAGE_CLOSE,e))}sendEvent(t,n={},r){const o=this.factory.getEventByType(e.EDefaultEvents.EVENT,t,r);return this.add({key:e.EDefaultEvents.EVENT,data:o},n)}add(t,n={}){const r=F(t);if(!this.isPageViewSent)return this.store.addHeldEvents(r),!0;const o=Array.isArray(r)?r.map(t=>({key:t.key,data:this.factory.enrichEvent(t.data)})):{key:r.key,data:this.factory.enrichEvent(r.data)};if(!1===this.isPageCloseSent||this.isOnUnload&&void 0===this.isPageCloseSent)return void 0!==this.sendTimerId&&clearTimeout(this.sendTimerId),this.store.addHeldEvents(o),!0;this.store._isFilled()&&this.sendEvents();const{force:s=!1}=n;return this.store.addHeldEvents(r),this.callHook(e.ETrackerHooks.EVENT_ADD,r).catch(console.error),void 0!==this.sendTimerId&&clearTimeout(this.sendTimerId),s?(this.flush(),!this.store._isFilled()):(this.isTMEnabled||(this.sendTimerId=setTimeout(()=>{this.sendEvents()},this.sendTimeout)),!this.store._isFilled())}flush(){return void 0!==this.sendTimerId&&(clearTimeout(this.sendTimerId),this.sendTimerId=void 0),this.sendEvents(),!0}async sendXHR(t,e){return new Promise((n,r)=>{const s=new Error("Analytics sent XHR error"),i=new XMLHttpRequest,o=()=>{i.removeEventListener("load",a),i.removeEventListener("error",c)},a=()=>{o(),200===i.status?n(!0):c(s)},c=t=>{o(),r(t instanceof Error?t:s)};i.open("POST",t,!0),i.addEventListener("load",a),i.addEventListener("error",c),i.send(e)})}sendData(t,e){return new Blob([e]).size>=65536?(this.sendXHR(t,e).catch(t=>console.error(t)),!0):f(t,e)}sendEvents(){const t=this.store.heldEvents.concat();if(!t.length)return!1;const n=t.map(({key:t,data:e})=>({[t]:e})),r=function(t){return`{"events":${t}}`}(JSON.stringify(n)),o=this.sendData(this.config.host,r);return o&&(this.store.clearHeldEvents(),this.isTMAllowed&&this.store.addSentEvents(t),this.callHook(e.ETrackerHooks.EVENTS_SENT,t).catch(console.error)),o}sendCustomPageEvent(t,n={}){n.actionType=t,n.object=Object.assign(Object.assign({},n.object),{type:"page"});const r="function"==typeof this.config.eventTemplate?this.config.eventTemplate():{},o=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(t,n){return C(t,n,e)},{})}([this.config.pageAdditional,r,n],{}),i=this.factory.getEventByType(e.EDefaultEvents.EVENT,o);i.actionType===l.EActionTypes.PAGE_VIEW_ACTION&&(this.store.heldEvents=this.store.heldEvents.concat().map(t=>Object.assign(Object.assign({},t),{data:this.factory.enrichEvent(t.data)})),this.store.addHeldEvents({key:e.EDefaultEvents.EVENT,data:i},s.START),this.isPageViewSent=this.sendEvents()),i.actionType===l.EActionTypes.PAGE_CLOSE&&(this.store.addHeldEvents({key:e.EDefaultEvents.EVENT,data:this.factory.enrichEvent(i)}),this.isPageCloseSent=this.sendEvents())}}e.CommonEventModel=T,e.SHOW_MANAGER_COOKIE_NAME="tracker_manager",e.SHOW_METRICS_COOKIE_NAME="tracker_metrics",e.TRACKER_KEY_WITH_PREFIX=p,e.Tracker=L,e.TrackerCoreInitialize=class{createTrackerCore(t,e){return"object"==typeof this.core||(this.core=new L(t,e)),this.core}on(t,e){return this.core.on(t,e)}once(t,e){return this.core.once(t,e)}setTMFlag(t){"object"==typeof this.core&&this.core.setTMFlag(t)}flush(){"object"==typeof this.core&&this.core.flush()}sendEvents(){return"object"==typeof this.core&&this.core.sendEvents()}},e.WINDOW_TRACKER_FIELD="$tracker",e.generateClickHouseUUID=b,e.getXPathForElement=A,e.nanoid=S},e113c:(t,e,n)=>{var r=n("6d251"),o=n("95c8d"),c=n("16477");var h,i=function(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}(o);!function(t){t.TRINITY_EVENT="trinityEvent"}(h||(h={}));const s={name:h.TRINITY_EVENT,constructor:class extends r.CommonEventModel{constructor(t,e,n){super(t,void 0,n)}setEventAttributes(t={}){return t.screenResolutionX=void 0!==t.screenResolutionX?t.screenResolutionX:screen.width,t.screenResolutionY=void 0!==t.screenResolutionY?t.screenResolutionY:screen.height,t}setEventProperties(t,e){return e&&(t||(t={}),t&&(t.coordinateY=e.pageY,t.coordinateX=e.pageX,t.mapSelectedTitle=r.getXPathForElement(e.target))),t}}},a=t=>({page:Object.assign({layoutId:t.layoutId,layoutVersion:t.layoutVersion,ruleId:t.ruleId,categoryId:t.categoryId,tagId:t.tagId,sku:t.sku,highlightId:t.highlightId,sellerId:t.sellerId,brandId:t.brandId},t.highlightIsExpress?{highlightIsExpress:t.highlightIsExpress}:{})});function l(t,e){const n=t&&t[e];return n&&JSON.parse(JSON.stringify(n))}class u{constructor(){this.data={}}setData(t){this.data=Object.assign({},t)}getData(){return this.data}}var g,d=(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.TM_LOCAL_HOST="http://localhost:5192",e.TM_NEED_LOCALHOST_COOKIE_NAME="tm_local",e.loadTrackerManagerScript=function(t,e){var n=document.createElement("script"),r=document.getElementsByTagName("script")[0];n.async=!0,n.src=t+"/s3/oztm/2.6.4-release-40893093-40894439.0/manager.js",void 0!==e&&n.setAttribute("nonce",e),r.parentNode&&r.parentNode.insertBefore(n,r);var o=setInterval(function(){if(window.$trackerManager&&"function"==typeof window.$trackerManager){var t=window.$trackerManager,e=document.createElement("div");e.setAttribute("id","tracker-manager"),e.style.cssText="position: sticky; top: 0; z-index: 9999;";var n=document.querySelector("#__ozon");document.body.insertBefore(e,n),new t({target:e}),clearInterval(o)}},1e3)}}(g={path:void 0,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},g.exports),g.exports);Object.defineProperty(e,"rr",{enumerable:!0,get:function(){return c.EActionTypes}}),d.TM_LOCAL_HOST,d.TM_NEED_LOCALHOST_COOKIE_NAME,r.TrackerCoreInitialize},"95c8d":t=>{var e=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===n}(t)}(t)};var n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(t,e){return!1!==e.clone&&e.isMergeableObject(t)?d((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function o(t,source,e){return t.concat(source).map(function(element){return r(element,e)})}function c(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(symbol){return t.propertyIsEnumerable(symbol)}):[]}(t))}function h(object,t){try{return t in object}catch(t){return!1}}function l(t,source,e){var n={};return e.isMergeableObject(t)&&c(t).forEach(function(o){n[o]=r(t[o],e)}),c(source).forEach(function(o){(function(t,e){return h(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,o)||(h(t,o)&&e.isMergeableObject(source[o])?n[o]=function(t,e){if(!e.customMerge)return d;var n=e.customMerge(t);return"function"==typeof n?n:d}(o,e)(t[o],source[o],e):n[o]=r(source[o],e))}),n}function d(t,source,n){(n=n||{}).arrayMerge=n.arrayMerge||o,n.isMergeableObject=n.isMergeableObject||e,n.cloneUnlessOtherwiseSpecified=r;var c=Array.isArray(source);return c===Array.isArray(t)?c?n.arrayMerge(t,source,n):l(t,source,n):r(source,n)}d.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(t,n){return d(t,n,e)},{})};var f=d;t.exports=f},"3b578":(t,e,n)=>{n.a(t,async(t,r)=>{try{var o=n("abb9e"),c=n.n(o),h=n("d24bc"),l=n("e087a"),d=n("ecabc"),f=n("b7fb1"),v=n("57490"),m=n("3e161"),y=t([f]);f=(y.then?(await y)():y)[0],e.Z=c().extend({name:"TileGridDesktop",components:{TileGridItem:f.Z,TileGridSkeleton:l.Z},mixins:[(0,h.Defer)(),(0,d.composerStateMixin)({isBot:t=>t._get("browser.isBot")}),v.p,m.q],provide(){return{imageHeight:this.imageHeight,experiments:this.experiments,sharedBlurItemInfo:this.sharedBlurItemInfo,overlayItem:this.overlayItem}},inject:{virtualScrollContext:{default:()=>({disableDeferredRendering:!1})}},data(){return{detectViewportSettings:{once:!0,callback:()=>this.trackerSend(this.trackingInfo)}}},computed:{tiles(){var t=this.widgetState.items;return t&&!t.length&&this.$logger.error({message:"There are no tiles in state",payload:{component:"TileGrid2",state:this.widgetState},zone:"navi"}),t||[]},columnsCount(){return this.widgetState.columnsCount||4},trackingInfo(){return this.widgetState.trackingInfo},imageHeight(){return this.widgetState.imageHeight||200},experiments(){return this.widgetState.abMap||{}},noGridStyles(){return 5===this.columnsCount},sharedData(){return this.widgetState.sharedData||{}},sharedBlurItemInfo(){return this.sharedData.blurItemInfo||{}},automatizationId(){return this.widgetState.testInfo?this.widgetState.testInfo.automatizationId:""},overlayItem(){return this.sharedData.overlayItem}},methods:{getDefer(t){if(this.isBot||this.virtualScrollContext&&this.virtualScrollContext.disableDeferredRendering)return 0;switch(!0){case t<2*this.columnsCount:return 0;case t<3*this.columnsCount:return 2;case t<4*this.columnsCount:return 4;case t<5*this.columnsCount:return 6;default:return 8}}}}),r()}catch(t){r(t)}})},"3e161":(t,e,n)=>{n.d(e,{q:()=>h});var r=n("79a44"),o=n("69aed");class c extends o.EventBus{onReviewSend({reviewParams:t}){this.emit("sendReview",t)}}c.__serviceName="EventBus_ReviewSendEventsService";var h={mounted(){this.tiles.some(t=>t.rating)&&(this.observer=r.registry.use(c).listen("sendReview",({payload:t})=>{if(t.skuId){var e=this.tiles.findIndex(e=>(e.sku||"").toString()===t.skuId.toString());e>=0&&this.tiles[e].rating&&(this.setWidgetStateValue(`items[${e}].rating.rating.total`,t.rating),this.setWidgetStateValue(`items[${e}].rating.rating.common.action.link`,t.reviewEditUrl))}}))}}},f3996:(t,e,n)=>{n.a(t,async(t,r)=>{try{n.r(e);var o=n("8cc5f"),c=n("b651a"),h=n("02b49"),l=n("695d8"),d=n.n(l),f=t([c]);function v(t){this.$style=h.Z.locals||h.Z}c=(f.then?(await f)():f)[0];var component=d()(c.Z,o.s,o.x,!1,v,null,null);e.default=component.exports,r()}catch(m){r(m)}})},e087a:(t,e,n)=>{n.d(e,{Z:()=>h});var r={name:"TileGridSkeleton",functional:!0,render:(t,{$style:e,data})=>t("div",{class:[e.skeletonContainer,data.class]},[t("div",{class:[e.skeletonImage,e.bone]}),t("div",{class:[e.skeletonContent,e.bone]}),t("div",{class:[e.skeletonContent,e.bone]}),t("div",{class:[e.skeletonContent,e.bone,e.short]})])},o={skeletonContainer:"u5i_24",skeletonImage:"iu6_24",skeletonContent:"i6u_24",short:"ui6_24",bone:"u6i_24",placeHolderShimmer:"iu7_24"},c=n("695d8");var h=n.n(c)()(r,undefined,undefined,!1,function(t){this.$style=o.locals||o},null,null).exports},edb2e:(t,e,n)=>{n.d(e,{Z:()=>r});var r={overlay:"k2_24"}},"93f41":(t,e,n)=>{n.d(e,{Z:()=>r});var r={brandLogoWrapper:"i2i_24",srv2:"ii3_24",desktopIsland:"i3i_24",isMobile:"ii4_24",brandLogo:"i4i_24"}},"9992f":(t,e,n)=>{n.d(e,{Z:()=>r});var r={tooltipButtonWrapper:"ii5_24",tooltipSubtitle:"i5i_24",tooltipTitle:"ii6_24"}},fa3f6:(t,e,n)=>{n.d(e,{Z:()=>r});var r={iconButton:"i6i_24"}},"8925e":(t,e,n)=>{n.d(e,{Z:()=>r});var r={container:"oi2_24",express:"o2i_24",ozon:"io3_24",onlyOneBtn:"i3o_24"}},59564:(t,e,n)=>{n.d(e,{Z:()=>r});var r={tile:"oi3_24",content:"o3i_24",rating:"io4_24",isMobile:"i4o_24",multiButton:"oi4_24"}},"39af6":(t,e,n)=>{n.d(e,{Z:()=>r});var r={bullets:"o4i_24",mobile:"io5_24",bullet:"i5o_24",active:"oi5_24"}},"4726b":(t,e,n)=>{n.d(e,{Z:()=>r});var r={bullets:"o5i_24",bullet:"io6_24",active:"i6o_24"}},c30e6:(t,e,n)=>{n.d(e,{Z:()=>r});var r={imageWrapper:"oi6_24",square:"o6i_24",imageContainer:"io7_24",tileImage:"i7o_24",aspectFill:"oi7_24","img-wrapper":"o7i_24"}},"6add6":(t,e,n)=>{n.d(e,{Z:()=>r});var r={"tile-image-root":"io8_24",square:"i8o_24"}},"3e317":(t,e,n)=>{n.d(e,{Z:()=>r});var r={imageSelections:"oi8_24",imageFiller:"o8i_24"}},a8e7b:(t,e,n)=>{n.d(e,{Z:()=>r});var r={tileImage:"io9_24",isMobile:"i9o_24",withDots:"oi9_24",bulletsInsideImage:"o9i_24"}},84152:(t,e,n)=>{n.d(e,{Z:()=>r});var r={swipeContainer:"ip_24",imgContainer:"pi_24",tileImage:"ip0_24",aspectFill:"i0p_24"}},"084df":(t,e,n)=>{n.d(e,{Z:()=>r});var r={stateItem:"p0i_24",badge:"ip1_24",stockBar:"i1p_24",labelList:"pi1_24",priceV2:"p1i_24",name:"ip2_24",modAlly:"i2p_24"}},"79a7c":(t,e,n)=>{n.d(e,{Z:()=>r});var r={container:"qi0_24",mobile:"q0i_24","m-list":"iq1_24","m-island":"i1q_24",button:"qi1_24"}},"2e77f":(t,e,n)=>{n.d(e,{Z:()=>r});var r={sellerIcon:"iq2_24",sellerIconBg:"i2q_24"}},"7c9d1":(t,e,n)=>{n.d(e,{Z:()=>r});var r={container:"qi2_24",quantityWrapper:"q2i_24",quantityButton:"iq3_24",count:"i3q_24","quantity-actionSecondary":"qi3_24","quantity-accentSecondary":"q3i_24"}},"02b49":(t,e,n)=>{n.d(e,{Z:()=>r});var r={tileGrid:"i7u_24",tile:"ui7_24",columns1:"u7i_24",columns2:"iu8_24",columns3:"i8u_24",columns4:"ui8_24",columns5:"u8i_24",columns6:"iu9_24",noGridStyles:"i9u_24"}},b651a:(t,e,n)=>{n.a(t,async(t,r)=>{try{var o=n("3b578"),c=t([o]);o=(c.then?(await c)():c)[0],e.Z=o.Z,r()}catch(t){r(t)}})},"8cc5f":(t,e,n)=>{n.d(e,{s:()=>r,x:()=>o});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.tiles.length?n("div",{directives:[{name:"qa",rawName:"v-qa:id",value:t.automatizationId||t.groupStatePath,expression:"automatizationId || groupStatePath",arg:"id"}],class:[t.$style.tileGrid,t.noGridStyles&&t.$style.noGridStyles],on:{contextmenu:t.contextMenuHandler,mousedown:t.clickHandler}},[t._l(t.tiles,function(e,r){return[t.defer(t.getDefer(r))?n("TileGridItem",{directives:[{name:"qa",rawName:"v-qa:tile-index",value:r,expression:"index",arg:"tile-index"}],key:(e.action||{}).link+"_"+r,class:[t.$style.tile,t.$style["columns"+t.columnsCount]],attrs:{tile:e,index:r,"is-bot":t.isBot,"client-side-rendered":!!t.getDefer(r)}}):n("TileGridSkeleton",{key:r,class:[t.$style.tile,t.$style["columns"+t.columnsCount]]})]})],2):t._e()},o=[]}}]);