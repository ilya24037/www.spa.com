"use strict";(self.webpackChunkDetached_pdp=self.webpackChunkDetached_pdp||[]).push([["pdp-all-sharing-button-v3"],{"1752b":(t,e,n)=>{n.a(t,async(t,r)=>{try{var c=n("5009c"),o=n("eb583"),l=n("16477"),d=n("79a44"),h=n("8487a"),f=n.n(h),v=n("f8e15"),m=n("abb9e"),w=n.n(m),y=n("b359e"),x=n("d1e95"),S=n("90e3d"),_=n("724fc"),P=n("82fc7"),B=n("5462a"),T=n("3cc15"),k=n("fc6bc"),C=t([c,o,v]);[c,o,v]=C.then?(await C)():C;var I=n.n(c),{copyTextToClipboard:$}=((A={}).copyTextToClipboard=function(text,t={}){return new Promise((e,n)=>{var r=document.createElement("button"),c=new(I())(r,{text:()=>text,action:()=>"copy",container:t.container||document.body});c.on("success",t=>{c.destroy(),e(t)}),c.on("error",t=>{c.destroy(),n(t)}),r.click()})},A);e.Z=w().extend({name:"WidgetSharingButton",mixins:[y.Z,x.Z,S.Z],components:{DsTooltip:o.DsTooltip,PdpActionButton:v.Z,SocialItem:_.Z},created(){this.sendAnalyticsDebounced=f()(this.sendAnalytics,P.P)},data(){return{minifiedUrlCache:{},detectViewportSettings:{once:!0,callback:()=>this.sendAnalytics(l.EActionTypes.VIEW_ACTION)}}},methods:{onTooltipOpen(){this.sendAnalyticsDebounced(l.EActionTypes.SHOW_ACTION)},onClickSocial(t){switch(t.actionType){case P.U.COPY:this.copyHandler(t);break;case P.U.SHARE:this.shareHandler(t)}},async copyHandler(t){var e=this.widgetState.copyNotification;try{await(0,k.$)(()=>this.getMinifiedProductUrl(t),text=>$(text).then(()=>{})),d.registry.use(B.NotificationsActions).createNewNotificationDeprecated(e.success),this.sendAnalytics(l.EActionTypes.CLICK_ACTION,t.trackingInfo)}catch(t){this.logError({exception:t,message:"Error in copyHandler."}),d.registry.use(B.NotificationsActions).createNewNotificationDeprecated(e.error)}},async shareHandler(t){try{var e=t.options,n=await this.minifyShareUrl(t),r=`\n          scrollbars=1,\n          resizable=1,\n          menubar=0,\n          toolbar=0,\n          personalbar=0,\n          status=0,\n          left=${Math.round((window.innerWidth-e.width)/2)},\n          top=${Math.round((window.innerHeight-e.height)/2)},\n          width=${e.width},\n          height=${e.height}\n        `;window.open(n,"social",r).focus(),this.sendAnalytics(l.EActionTypes.CLICK_ACTION,t.trackingInfo)}catch(t){this.logError({exception:t,message:"Error in shareHandler."})}},async minifyShareUrl(t){var e=await this.getMinifiedProductUrl(t);return t.options.shareUrl.replace(t.options.urlPlaceholder,e)},async getMinifiedProductUrl(t){var{id:e,options:{productUrl:n}}=t;if(this.minifiedUrlCache[e])return this.minifiedUrlCache[e];var r=await this.fetchMinifiedUrl(n);return r?(this.minifiedUrlCache[e]=r,r):n},async fetchMinifiedUrl(t){try{return(await d.registry.use(T.f).minifyURL({url:t})).shortURL}catch(e){return this.logError({exception:e,message:`Error while fetching minified url: "${t}".`}),null}}}}),r()}catch(t){r(t)}var A})},"2988c":(t,e,n)=>{n.d(e,{A:()=>r});var r=function(t){return t.INLINE="inline",t.BUTTON="button",t}({})},fc6bc:(t,e,n)=>{async function r(t,e){var n=navigator.clipboard;if("undefined"!=typeof ClipboardItem&&n&&n.write){var r=new ClipboardItem({"text/plain":t().then(text=>new Blob([text],{type:"text/plain"}))});return n.write([r])}return e(await t())}n.d(e,{$:()=>r})},"82fc7":(t,e,n)=>{n.d(e,{P:()=>c,U:()=>r});var r=function(t){return t.COPY="ACTION_TYPE_COPY",t.SHARE="ACTION_TYPE_SHARE",t}({}),c=2e3},"015c9":(t,e,n)=>{n.d(e,{Z:()=>h});var r=n("2b62e"),c=n.n(r),o={name:"PdpPureButton",functional:!0,render(t,{$style:e,listeners:n,data,scopedSlots:r}){var content="function"==typeof r.default&&r.default();return t("button",c()([{},{directives:data.directives},{},{on:n},{class:[e.button,data.class]}]),[content])}},l={button:"jp2_27"},d=n("695d8");var h=n.n(d)()(o,undefined,undefined,!1,function(t){this.$style=l.locals||l},null,null).exports},"724fc":(t,e,n)=>{n.d(e,{Z:()=>x});var r=n("2b62e"),c=n.n(r),o=n("d86db"),l=n.n(o),d=n("015c9"),h=n("e2f5a"),f=n.n(h),v=n("ff1b4"),m={name:"SharingButtonSocialItem",functional:!0,props:{iconName:l().string,text:l().string,isFresh:l().bool.def(!1)},render(t,{$style:e,props:n,listeners:r}){var{iconName:o,text,isFresh:l}=n,h=f().methods.asyncIconComponent(o);return t(d.Z,c()([{class:[e.button,l&&e.isFresh]},(0,v.n)("pdp-sharing-button-item"),{on:{click:r.click}}]),[h&&t(h,{class:e.icon}),t("span",{class:[e.text,"tsBody400Small"]},[text])])}},w={icon:"l6q_27",text:"ql6_27",button:"q6l_27",isFresh:"lq7_27"},y=n("695d8");var x=n.n(y)()(m,undefined,undefined,!1,function(t){this.$style=w.locals||w},null,null).exports},d6870:(t,e,n)=>{n.a(t,async(t,r)=>{try{n.r(e);var c=n("de01f"),o=n("2c9a8"),l=n("ba193"),d=n("695d8"),h=n.n(d),f=t([o]);function v(t){this.$style=l.Z.locals||l.Z}o=(f.then?(await f)():f)[0];var component=h()(o.Z,c.s,c.x,!1,v,null,null);e.default=component.exports,r()}catch(m){r(m)}})},d224e:(t,e,n)=>{n.d(e,{Z:()=>r});var r={actionButton:"wi8_27",inline:"w8i_27"}},ba193:(t,e,n)=>{n.d(e,{Z:()=>r});var r={list:"l7q_27",separator:"ql7_27"}},"2c9a8":(t,e,n)=>{n.a(t,async(t,r)=>{try{var c=n("1752b"),o=t([c]);c=(o.then?(await o)():o)[0],e.Z=c.Z,r()}catch(t){r(t)}})},de01f:(t,e,n)=>{n.d(e,{s:()=>r,x:()=>c});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("DsTooltip",{directives:[{name:"detect-viewport",rawName:"v-detect-viewport",value:t.detectViewportSettings,expression:"detectViewportSettings"}],attrs:{"enable-static-arrow":"",placement:"bottom-end"},on:{open:t.onTooltipOpen},scopedSlots:t._u([{key:"popover",fn:function(){return[n("div",{class:t.$style.list},[t._l(t.widgetState.list,function(e,r){return[n("SocialItem",t._b({key:e.id,attrs:{"is-fresh":t.widgetState.isFresh},on:{click:function(n){return t.onClickSocial(e)}}},"SocialItem",e,!1)),t._v(" "),r!==t.widgetState.list.length-1?n("div",{key:e.id,class:t.$style.separator}):t._e()]})],2)]},proxy:!0}])},[t.showWidget?n("PdpActionButton",t._b({},"PdpActionButton",t.widgetState.button,!1)):t._e()],1)},c=[]}}]);