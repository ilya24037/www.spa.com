(self.webpackChunkDetached_reviews=self.webpackChunkDetached_reviews||[]).push([["rp-all-web-list-reviews-v3"],{"343d3":(t,e,r)=>{"use strict";r.a(t,async(t,o)=>{try{r.d(e,{k:()=>v});var n=r("acb29"),c=r("d3bd7"),l=t([n]);n=(l.then?(await l)():l)[0];var h=r.n(n);(0,c.setupDayjs)(h());var d=t=>t&&"string"==typeof t?t.toLowerCase():"ru",v=(t,e,r,o)=>h()(e,r,o).locale(d(t));o()}catch(t){o(t)}})},f5d9e:(t,e,r)=>{"use strict";r.a(t,async(t,o)=>{try{var n=r("2b62e"),c=r.n(n),l=r("d86db"),h=r.n(l),d=r("57ed6"),v=r("8581f"),m=t([d,v]);[d,v]=m.then?(await m)():m;e.Z={name:"LoadMore",functional:!0,props:{paging:h().shape({loadMoreText:h().string.def("Показать больше"),page:h().number.def(1),perPage:h().number.def(10),total:h().number.def(0)}).loose,loading:h().bool.def(!1)},render(t,{$style:e,props:r,listeners:o,data}){var{paging:{loadMoreText:n,page:l},loading:h}=r,m=Array.isArray(data.class)?data.class:[data.class||""];return t("div",c()([{class:m},{directives:data.directives}]),[t("div",{class:e.loadMore},[h?t(v.DsLoader,{attrs:{size:500}}):t(d.DsLinkButton,{attrs:{size:"400",title:n,textColor:"inherit"},on:{click:()=>{h||o.loadMore(l+1)}}})])])}},o()}catch(t){o(t)}})},"208a9":(t,e,r)=>{"use strict";r.a(t,async(t,o)=>{try{var n=r("d86db"),c=r.n(n),l=r("b5aae"),h=r("98692"),d=r("7cd3b"),v=r("d3b92"),m=r("f7acd"),_=t([l,h,d,m]);[l,h,d,m]=_.then?(await _)():_;var f=r.n(m),{SortMobileIcon:w,ArrowIcon:y}=(M={functional:!0,name:"icSDisclosure",meta:{width:16,height:16,viewBox:"0 0 16 16"},render:(t,e)=>t("svg",Object.assign(Object.assign({},e.data),{},{attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},e.data.attrs),domProps:{innerHTML:'<path fill="currentColor" d="M5.293 12.293a1 1 0 1 0 1.414 1.414l5-5a1 1 0 0 0 0-1.414l-5-5a1 1 0 0 0-1.414 1.414L9.586 8z"/>'}}))},(O={}).SortMobileIcon={functional:!0,name:"icMSort",meta:{width:24,height:24,viewBox:"0 0 24 24"},render:(t,a)=>t("svg",Object.assign(Object.assign({},a.data),{},{attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},a.data.attrs),domProps:{innerHTML:'<path fill="currentColor" d="M6.293 4.293a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1-1.414 1.414L8 7.414V19a1 1 0 1 1-2 0V7.414L3.707 9.707a1 1 0 0 1-1.414-1.414zM17 4a1 1 0 0 1 1 1v11.586l2.293-2.293a1 1 0 0 1 1.414 1.414l-4 4a1 1 0 0 1-1.414 0l-4-4a1 1 0 0 1 1.414-1.414L16 16.586V5a1 1 0 0 1 1-1"/>'}}))},O.ArrowIcon=M,O),C={sortFilter:{sortTitle:"Показать сначала",modalTitle:"Какие отзывы показать сначала?",modalButton:"Смотреть отзывы"}};e.Z={name:"SortFilter",components:{AtomIcon:f(),DsDialog:l.DsDialog,OzRadioGroup:h.OzRadioGroup,DsButton:d.DsButton,SortMobileIcon:w,ArrowIcon:y},inject:{getLocalization:{default:()=>{}}},props:{sortList:c().arrayOf(c().shape({name:c().string,value:c().string,active:c().bool,label:c().string}).loose).def([]),activeSort:c().string,isMobile:c().bool.def(!1)},data(){return{isShowModal:!1,currentActiveSort:this.activeSort,SCORE_ASC_SORT_VALUE:v.Xl,SCORE_DESC_SORT_VALUE:v.ys}},computed:{localization(){return this.getLocalization()||C},activeSortFull(){return this.sortList.find(t=>t.value===this.activeSort)},formattedSortList(){var t=this.activeSort===v.Xl,e=this.activeSort===v.ys,r=this.sortList.find(t=>t.value===v.Xl),o=t||e?"textAction":"textSecondary";return this.sortList.filter(t=>t.value!==v.Xl).map(e=>{var data=t?r:e;return e.value===v.ys&&(e=Object.assign(Object.assign({},data),{},{icon:{icon:t?"ic_s_sort_small_large":"ic_s_sort_large_small",tintColor:o}})),e})}},methods:{showModal(t){this.isMobile&&(this.isShowModal=t)},change(t){this.activeSort!==t&&this.$emit("changeSorting",t)},setCurrentSort(t){this.currentActiveSort=t},changeCurrentSort(){this.change(this.currentActiveSort),this.showModal(!1)},changeSort(t){if([v.ys,v.Xl].includes(t)){var e=this.activeSort===v.ys?v.Xl:v.ys;this.change(e)}else this.change(t)}}},o()}catch(t){o(t)}var O,M})},"7a7f8":(t,e,r)=>{"use strict";r.a(t,async(t,o)=>{try{var n=r("ce27b"),c=r.n(n),l=r("9d081"),h=r("8581f"),d=r("16477"),v=r("3c934"),m=r("79a44"),_=r("46c81"),f=r("abb9e"),w=r.n(f),y=r("69aed"),C=r("ecabc"),O=r("7fce6"),M=r.n(O),T=r("fceb5"),P=r("35ed4"),A=r("359f0"),I=r("9f5f9"),R=r("a7d86"),x=r("e27ef"),E=r("56a41"),S=r("22203"),j=r("72207"),L=r("73718"),N=r("ee5bb"),k=r.n(N),$=r("87687"),U=r("15108"),V=r("5f790"),D=r("225da"),Z=r("d3072"),W=r("9b991"),B=r("d3b92"),F=r("bce3d"),z=t([l,h,T,P,A,I,R,x,E]);[l,h,T,P,A,I,R,x,E]=z.then?(await z)():z;var{ReviewsActions:G}=((t,e)=>{var r=((e=class extends y.AbstractActionsService{}).__serviceName="AbstractActionsService_ReviewsActions",e);return t.ReviewsActions=r,t})({});e.Z=w().extend({name:"WebListReviews",provide(){return{getLocalization:()=>this.localization}},components:{Pagination:T.Z,PaginationItem:P.Z,Review:I.Z,CreateComment:x.Z,CommentsList:R.Z,DsLoader:h.DsLoader,OzCheckbox:l.OzCheckbox,LoadMore:A.Z,SortFilter:E.Z,PlaceholderRender:k()("pdp")},mixins:[M(),$.Z,U.Z,V.Z,(0,C.composerStateMixin)({hasToolbarFlag:t=>(t.o3Params||{})[v.TOOLBAR_FLAG_NAME],layoutModalUrl:t=>t._get("layoutModalOptions.url",null)})],data(){return{currentReviewCommentingInfo:null,currentReviewDeletingUuid:"",currentReviewDeletingError:"",loading:!1,PAGINATION_TYPE_LOAD_MORE_BUTTON:F.Mw,isAsyncAppend:!1,currentCommentDeletingUuid:"",currentCommentDeletingError:"",hasCreateCommentError:!1,hasCreatedComment:!1,isCommentCreating:!1,isCommentsLoading:!1,commentsLoadingReview:"",PAGE_TYPE_PDP:F.i1,creatingAbuseReport:"",creatingAbuseReportError:"",pagingBtn:{loadMoreText:"Показать больше отзывов"},BLOCK_HEIGHT:L.D,PAGINATION_TYPE_PAGINATION:F.Z,PAGINATION_TYPE_CUSTOM:F.D5,visibilitySettings:{once:!0,callback:this.onViewWidget},isFilterWithMedia:!1}},computed:{pageType(){return c()(this.widgetState,"pageType")||F.i1},reviews(){return c()(this.widgetState,"reviews")||[]},hideFirstCommentView(){return c()(this.widgetState,"hideFirstCommentView")||!1},products(){return c()(this.widgetState,"products")||{}},itemId(){return c()(this.widgetState,"itemId")||""},paging(){return c()(this.widgetState,"paging")||{}},isShowFullText(){return c()(this.widgetState,"isShowFullText")||!1},currentPage(){return this.paging.page||1},filters(){return c()(this.widgetState,"filters")||{}},filterWithMedia(){return c()(this.filters,"withMedia")||null},total(){return this.paging.total||0},commonTotal(){return this.paging.commonTotal||0},perPage(){return this.paging.perPage||10},totalPages(){return Math.ceil(this.total/this.perPage)},currentPath(){return this.widgetState.requestedPath||""},isLoadVisible(){return this.showAsyncLoader&&this.isAsyncLoading||this.loadingVariantMode},isLoadMoreButtonVisible(){return this.perPage*this.currentPage<this.total},nextPageLink(){var t=this.paging.nextButton;return t?this.currentPath+t:""},firstPageLink(){var t=this.paging.prevButton;return t?this.currentPath+t:""},isTotalVariantEmpty(){var t=this.paging.commonTotal||0;return!this.total&&t},paginationType(){return c()(this.widgetState,"lmtParams.paginationType",F.Z)},shelfEnabled(){return c()(this.widgetState,"lmtParams.shelfEnabled",!1)},paginationLinks(){return this.paging.links||[]},localization(){return c()(this.widgetState,"constants",null)}},watch:{isAsyncLoaded(t){t&&!this.hasWidgetError&&this.setActiveSort()}},created(){if(!this.hasWidgetError||this.asyncType){this.asyncType||this.setActiveSort();var{constants:t}=this.widgetState;t&&t.loadMoreText&&(this.pagingBtn.loadMoreText=t.loadMoreText)}},mounted(){if(this.pageType===F.cC){var{query:t}=this.$composerRouter.getParams();t&&this.$nextTick(()=>{t[B.Q6]&&(0,W.u)({uuid:t[B.Q6],type:Z.e.COMMENT}),t[B.IB]&&!t[B.Q6]&&(0,W.u)({uuid:t[B.IB]})})}this.isMobile&&this.layoutModalUrl&&this.openInModal(this.layoutModalUrl)},methods:Object.assign(Object.assign(Object.assign({getQuery:t=>({itemId:t.itemId,reviewUuid:t.uuid}),onReviewTranslate({uuid:t="",content={},error:e=!1}){if(e)this.sendTokenAnalytics(`error_${t}_translate_review`);else{var r=this.reviews.findIndex(e=>e.uuid===t),o=this.reviews.find(e=>e.uuid===t),n=Object.assign(Object.assign({},o.content),{},{comment:content.comment||"",negative:content.negative||"",positive:content.positive||""});this.setWidgetStateValue(`reviews[${r}].content`,n),this.sendTokenAnalytics(`click_${t}_translate_review`)}},async changeSorting(t){this.sendTokenAnalytics(`${L.t.CHANGE_SORTING}-${t}`);var e=this.getQueryParamsString({page:null,sort:t}),r=this.currentPath+e;this.shelfEnabled?this.paginationUpdate(r):(await Promise.all([this.getWidgetState(r),m.registry.use(G).emit("CHANGE_SORTING_REVIEWS",r)]),this.activeSortIndex=this.sortingsSortedList.findIndex(e=>e.value===t),this.activeSort=t)},asyncWidgetMapper(t){if(this.paginationType===F.Mw&&this.isAsyncAppend){var e=t.reviews||[],r=t.products;return this.isAsyncAppend=!1,Object.assign(Object.assign({},t),{},{products:Object.assign(Object.assign({},this.products),r),reviews:[...this.reviews,...e]})}return t},async loadMore(){if(!this.loading){var t=this.currentPage+1,e=this.getQueryParamsString({page:t,sort:this.activeSort}),r=this.currentPath+e;this.isAsyncAppend=!0,this.sendAnalyticsPage(t),await this.getWidgetState(r,!1)}},onChangeFilterMedia(){this.loading||(this.sendTokenAnalytics(this.filterWithMedia?d.EActionTypes.UNSET_ACTION:d.EActionTypes.SET_ACTION),this.isFilterWithMedia&&(this.filters.withMedia=!this.filterWithMedia||null),this.changeFilter())},changeFilter(){var t=this.getQueryParamsString({page:null,reviewsFilters:this.getFiltersStr(this.filters)}),e=this.currentPath+t;this.shelfEnabled?this.paginationUpdate(e):this.getWidgetState(e)},getFiltersStr(t){try{return btoa(JSON.stringify(t))}catch(t){return null}},sendAnalyticsPage(t){var e={number:t};this.sendTokenAnalytics(L.t.LOAD_MORE,e)},onClickContextQuestions(t){var e={index:t+1};this.sendTokenAnalytics(L.t.CLICK_CONTEXT,e)},onClickPhotoPreview(t,e){var r=this.reviews.find(({uuid:t})=>e===t),o=r&&r.content&&r.content.videos&&r.content.videos.length,n=o&&t<r.content.videos.length?L.t.CLICK_VIDEO:L.t.CLICK_PHOTO;n===L.t.CLICK_PHOTO&&o&&(t-=o),this.sendTokenAnalytics(`${n}-${e}-${t}`),this.layoutModalUrl&&m.registry.use(_.ComposerActions).closeModal()},onViewReview(t){this.sendTokenAnalytics(`${L.t.VIEW_REVIEW}-${t}`)},onScrollToParent({uuid:t,type:e}){var r=this.pageType!==F.i1||this.isMobile?0:L.D;(0,W.u)({uuid:t,type:e,offset:r})},openInModal(t){var e=new URL(t,window.location.origin),r=Object.fromEntries(e.searchParams.entries())||{};this.$nextTick(()=>{var t=document.querySelectorAll('[data-widget="webListReviews"]'),e=t[t.length-1];e&&r[B.Q6]&&(0,W.J)({uuid:r[B.Q6],type:Z.e.COMMENT,wrapper:e}),e&&r[B.IB]&&!r[B.Q6]&&(0,W.J)({uuid:r[B.IB],wrapper:e})})},onViewWidget(){this.sendTokenAnalytics(d.EActionTypes.VIEW_ACTION)},handleSelectClick(){this.sendTokenAnalytics(L.t.CLICK_SORTING)},handleCommentView(t){this.sendTokenAnalytics(`${L.t.VIEW_COMMENT}-${t}`)},handleWriteComment(data){var{uuid:t,entityType:e}=data;this.sendTokenAnalytics(`${d.EActionTypes.CLICK_ACTION}-${e}-${t}`),this.onWriteComment(data)},paginationUpdate(t){this.composerRouter.replace(t,{scroll:!1})},onOpenFreshModal(t,e){this.$composerRouter.push(t,{contextOptions:{theme:this.isMobile?"bottom":"default",closeButton:this.isMobile}}),this.sendTokenAnalytics(`${d.EActionTypes.CLICK_ACTION}_${e}_${L.t.CLICK_FRESH}`)}},j.z),S.w),{},{sendTokenAnalytics:D.A})}),o()}catch(t){o(t)}})},22203:(t,e,r)=>{"use strict";r.d(e,{w:()=>m});var o=r("ce27b"),n=r.n(o),c=r("79a44"),l=r("f52fa"),h=r("11061"),d=r("d3b92"),v=r("1d18b"),m={onWriteComment(data){this.currentReviewCommentingInfo=data,this.hasCreateCommentError=!1,this.hasCreatedComment=!1},isReviewCommentFormVisible(t){return t===(n()(this.currentReviewCommentingInfo,"rootParentUuid")||null)},async onCreateComment(t){var e=n()(this.widgetState,`actions.${d.MX.ADD_COMMENT}`,d.MM.CREATE_COMMENT);try{this.isCommentCreating=!0,await c.registry.use(l.ComposerService).actionPost({name:e,data:Object.assign({},t)}),this.hasCreatedComment=!0}catch(t){this.hasCreateCommentError=!0,this.hasCreatedComment=!1}this.isCommentCreating=!1},isCommentExistInList(t,e,r){var o=t.find(t=>t.uuid===e);if(!o)return!1;var c=n()(o,"comments.list")||null;return!!c&&!!c.find(t=>t.uuid===r)},async onDeleteComment(t){var{uuid:e,rootParentUuid:r,itemId:o,isNew:v}=t,m=this.isGallery?[this.currentReview]:this.reviews,_=n()(this.widgetState,`actions.${d.MX.DELETE_COMMENT}`,d.MM.DELETE_MY_REVIEW);if(this.isGallery||this.isCommentExistInList(m,r,e))try{this.currentCommentDeletingUuid=e,this.currentCommentDeletingError="",await c.registry.use(l.ComposerService).actionPost({name:_,data:{reviewUuid:e,itemId:o}});var f=(0,h.hJ)(m,{type:h.K4,payload:{uuid:e,rootParentUuid:r,isNew:v}});this.changeReviewsList(f),this.currentCommentDeletingUuid=""}catch(t){this.currentCommentDeletingError=e,this.currentCommentDeletingUuid=""}},async onVoteComment({value:t,uuid:e,rootParentUuid:r,itemId:o}){var m=this.isGallery?[this.currentReview]:this.reviews,_=n()(this.widgetState,`actions.${d.MX.VOTE_COMMENT}`,d.MM.VOTE_OPINION);if(this.isGallery||this.isCommentExistInList(m,r,e))try{var{usefulness:f}=await c.registry.use(l.ComposerService).actionPost({name:_,data:{reviewUuid:e,itemId:o,value:t}}),w=(0,h.hJ)(m,{type:h.Xf,payload:{uuid:e,rootParentUuid:r,usefulness:f}});this.changeReviewsList(w)}catch(t){this.$logger.error({exception:t,message:v.N.ERROR_VOTE_COMMENT})}},async onReportedComment(t){var{uuid:e,rootParentUuid:r,report:o,itemId:n}=t,c=this.isGallery?[this.currentReview]:this.reviews;if(await this.sendReport(e,n,o,d.MX.REPORT_COMMENT),!this.creatingAbuseReportError){var l=(0,h.hJ)(c,{type:h.AM,payload:{uuid:e,rootParentUuid:r}});this.changeReviewsList(l)}},async loadMoreComments(t){var{review:e,currentComments:r,itemId:o}=t,m=this.isGallery?[this.currentReview]:this.reviews,_=n()(this.widgetState,`actions.${d.MX.LOAD_COMMENT}`,d.MM.GET_COMMENTS_BY_REVIEW_UUID);this.isCommentsLoading=!0;try{var{uuid:f}=e;this.commentsLoadingReview=f;var{comments:w}=await c.registry.use(l.ComposerService).actionPost({name:_,data:{reviewUuid:f,sku:o,limit:10,offset:r.length}}),y=(0,h.hJ)(m,{type:h.iF,payload:{uuid:f,newLoadedComments:w}});this.changeReviewsList(y)}catch(t){this.$logger.error({exception:t,message:v.N.ERROR_LOAD_MORE_COMMENTS})}this.isCommentsLoading=!1,this.commentsLoadingReview=""}}},72207:(t,e,r)=>{"use strict";r.d(e,{z:()=>f});var o=r("ce27b"),n=r.n(o),c=r("69aed"),l=r("79a44"),h=r("f52fa"),d=r("11061"),v=r("d3b92"),m=r("bce3d"),_=r("1d18b"),f={async getWidgetState(t,e=!0){if(!this.loading){this.loading=!0;try{await this.fetchAsyncState({},t)}catch(t){return void(this.loading=!1)}this.loading=!1,e&&!this.layoutModalUrl&&this.$composerRouter.push(t,{silent:!0})}},onNewPage(t=1){var e=Math.ceil(this.total/this.perPage),r=t>e?e:t;this.onPageClick(r)},async onPageClick(t,e,link=""){if(e&&(e.preventDefault(),e.stopPropagation()),-1!==t){var r=link||this.getQueryParamsString({page:t,sort:this.activeSort}),o=this.currentPath+r;this.pageType!==m.cC&&this.pageType!==m.i1||this.sendAnalyticsPage(t),(0,c.scrollTo)(this.$el,0),await this.getWidgetState(o)}},async onDeleteReview(t,e){var r=this.reviews.findIndex(e=>e.uuid===t),o=n()(this.widgetState,`actions.${v.MX.DELETE_REVIEW}`,v.MM.DELETE_MY_REVIEW);if(-1!==r){try{this.currentReviewDeletingUuid=t,this.currentReviewDeletingError="",await l.registry.use(h.ComposerService).actionPost({name:o,data:{reviewUuid:t,itemId:e}})}catch(e){return this.currentReviewDeletingError=t,void(this.currentReviewDeletingUuid="")}var c=(0,d.hJ)(this.reviews,{type:d.VX,payload:{deletedIndex:r}}),_=c.length,f=this.currentPage===this.totalPages&&0===_,w=this.currentPage-1;if(f&&w&&w!==this.currentPage){var y=this.getQueryParamsString({page:w,sort:this.activeSort}),C=this.currentPath+y;await this.getWidgetState(C,this.pageType===m.cC)}else this.changeReviewsList(c);this.currentReviewDeletingUuid=""}},changeReviewsList(t){this.setWidgetStateValue("reviews",t)},async sendReport(t,e,r,o){var c=n()(this.widgetState,`actions.${o}`,v.MM.REPORT_ABUSE);if(!this.creatingAbuseReport){this.creatingAbuseReport=t,this.creatingAbuseReportError="";try{await l.registry.use(h.ComposerService).actionPost({name:c,data:{reviewUuid:t,reasonId:Number(r.reasonId),comment:r.content,itemId:e}})}catch(e){return this.creatingAbuseReportError=t,void(this.creatingAbuseReport="")}this.creatingAbuseReport=""}},async onReported({uuid:t,itemId:e,report:r}){if(await this.sendReport(t,e,r,v.MX.REPORT_REVIEW),!this.creatingAbuseReportError){var o=(0,d.hJ)(this.reviews,{type:d.yz,payload:{uuid:t}});this.changeReviewsList(o)}},async onVote({uuid:t,itemId:e,value:r}){var o=this.reviews.find(e=>e.uuid===t),c=n()(this.widgetState,`actions.${v.MX.VOTE_REVIEW}`,v.MM.VOTE_OPINION);if(o)try{var m=await l.registry.use(h.ComposerService).actionPost({name:c,data:{reviewUuid:t,itemId:e,value:r}}),f=(0,d.hJ)(this.reviews,{type:d.np,payload:{uuid:t,usefulness:m.usefulness}});this.changeReviewsList(f)}catch(t){this.$logger.error({exception:t,message:_.N.ERROR_VOTE_REVIEW})}},onHideComments(t){this.reviews.find(e=>e.uuid===t).comments.list=[]},onEditReview(t){this.sendTokenAnalytics(`${v.JG.CLICK_EDIT_URL}-${t}`)}}},11061:(t,e,r)=>{"use strict";r.d(e,{AM:()=>f,K4:()=>m,VX:()=>v,Xf:()=>_,Zk:()=>C,hJ:()=>y,iF:()=>w,np:()=>h,yz:()=>d});var o=r("ce27b"),n=r.n(o),c=r("f7785"),l=r.n(c),h="REVIEW_VOTE_ACTION",d="REVIEW_REPORT_ACTION",v="REVIEW_DELETE_ACTION",m="COMMENT_DELETE_ACTION",_="COMMENT_VOTE_ACTION",f="COMMENT_REPORT_ACTION",w="COMMENTS_LOAD_MORE";function y(t=[],e){switch(e.type){case h:var{uuid:r,usefulness:o}=e.payload;return t.map(t=>t.uuid===r?Object.assign(Object.assign({},t),{},{usefulness:o}):t);case d:var{uuid:c}=e.payload;return t.map(t=>t.uuid===c?Object.assign(Object.assign({},t),{},{isReportable:!1,isAbuseReported:!0}):t);case v:var{deletedIndex:y}=e.payload;return t.filter((t,e)=>e!==y);case m:var{uuid:C,rootParentUuid:O,isNew:M}=e.payload;return t.map(t=>{if(t.uuid===O){var e=(n()(t,"comments.list")||[]).filter(t=>t.uuid!==C),r=M?0:1;return Object.assign(Object.assign({},t),{},{comments:{totalCount:t.comments.totalCount-r,list:e}})}return t});case _:var{uuid:T,rootParentUuid:P,usefulness:A}=e.payload;return t.map(t=>{if(t.uuid===P){var e=(n()(t,"comments.list")||[]).map(t=>t.uuid===T?Object.assign(Object.assign({},t),{},{usefulness:A}):t);return Object.assign(Object.assign({},t),{},{comments:Object.assign(Object.assign({},t.comments),{},{list:e})})}return t});case f:var{uuid:I,rootParentUuid:R}=e.payload;return t.map(t=>{if(t.uuid===R){var e=(n()(t,"comments.list")||[]).map(t=>t.uuid===I?Object.assign(Object.assign({},t),{},{isReportable:!1,isAbuseReported:!0}):t);return Object.assign(Object.assign({},t),{},{comments:Object.assign(Object.assign({},t.comments),{},{list:e})})}return t});case w:var{uuid:x,newLoadedComments:E}=e.payload;return t.map(t=>{if(t.uuid===x){var e=n()(t,"comments.list")||[],r=l()([...e,...E],"uuid");return Object.assign(Object.assign({},t),{},{comments:Object.assign(Object.assign({},t.comments),{},{list:r})})}return t});default:return t}}function C(t,e){switch(e.type){case h:var{usefulness:r}=e.payload;return Object.assign(Object.assign({},t),{},{usefulness:r});case d:return Object.assign(Object.assign({},t),{},{isReportable:!1,isAbuseReported:!0})}}},"8a4a3":(t,e,r)=>{"use strict";r.d(e,{r:()=>l});var o=r("d86db"),n=r.n(o),c=function(t){return t.DARK="dark",t.LIGHT="light",t}(c||{}),l=n().oneOf(Object.values(c)).def(c.LIGHT)},49246:(t,e,r)=>{"use strict";r.d(e,{C:()=>h});var o=r("14217"),n=function(t){return t.VIDEO="onlyVideoClasses",t.PHOTO="onlyPhotoClasses",t.MIXED="mixedClasses",t}(n||{}),c=function(t){return t.ONE="gridMobileOneRow",t.TWO="gridMobileTwoRows",t.THREE="gridMobileThreeRows",t}(c||{}),l={onlyPhotoClasses:{1:"doublePhoto",2:"doublePhoto",3:"threePhotos",4:"fourPhotos",5:"fivePhotos",6:"sixPhotos",7:"sevenPhotos",8:"eightPhotos"},onlyVideoClasses:{1:"threeVideos",2:"threeVideos",3:"threeVideos"},mixedClasses:{2:"doubleMedia",3:"threeMedia",4:"fourMedia",5:"fiveMedia",6:"sixMedia",7:"sevenMedia",8:"eightMedia"}},h=(t=[],e=[],r,h)=>{var d=((t=[],e=[],r=8,o=!1)=>{var h=[...t||[],...e||[]].slice(0,r),d=n.MIXED;return o?t&&t.length?h&&h.length>3?c.THREE:c.TWO:h&&h.length>3?c.TWO:c.ONE:(!t||!t.length||e&&e.length?!e||!e.length||t&&t.length||(d=n.PHOTO):d=n.VIDEO,l[d][h.length]||"")})(t,e,h,r),v=e&&e.length?0:2;return{media:[...(t||[]).map((video,t)=>(video.urlVideo=video.urlVideo||video.url,video.url=video.previewUrl,video.type=o.w_.VIDEO,video.duration=t<=v?video.duration:"",video)),...(e||[]).map(t=>(t.type=o.w_.IMG,t))],gridClass:d}}},"0d3ba":(t,e,r)=>{"use strict";r.d(e,{K:()=>n,o:()=>o});var o={NOT_TRANSLATED:"NOT_TRANSLATED",IN_PROGRESS:"IN_PROGRESS",TRANSLATED:"TRANSLATED"},n={NOT_TRANSLATED:"translateButton",IN_PROGRESS:"inProgressButton",TRANSLATED:"backToOriginalButton"}},68103:(t,e,r)=>{"use strict";r.d(e,{Au:()=>l,uM:()=>h});var o,n=r("d3b92"),{objectToQuerystring:c}=((o={}).objectToQuerystring=t=>Object.keys(t).map(e=>`${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`).join("&"),o);function l(t){var{author:e,isUserEntity:r,isAnonymous:o=!1,defaultAuthorName:l=n.fy,query:d={}}=t,v=e.clientOfficial||{},m=h(e.firstName,e.lastName,e.fio,l),_=function(t,e="",r){if(!r)return t&&t.brandLogoUri||e}(v,e.avatarUrl,o)||"",f=function(t,e,r,o="",n={}){if(!r){var l=t.brandUri||"",h="";if(l)return l;if(n&&Object.keys(n).length&&(h=`?${c(n)}`),o)return e?"/my/reviews/":`/context/client_opinion/ClientGuid/${o}/${h}`}}(v,r,o,e.guid,d)||"";return{name:m,imageUrl:_,authorUrl:f}}function h(t="",e="",r="",o=n.fy){return`${t}${e?" ":""}${e}`||r||o}},"5f790":(t,e,r)=>{"use strict";var o=r("d3b92");e.Z={data:()=>({activeSort:o._Y,activeSortIndex:0}),computed:{sortingsSortedList(){return(this.widgetState.sortings||[]).map(t=>Object.assign(Object.assign({},t),{},{label:t.name}))}},methods:{setActiveSort(){var t=this.sortingsSortedList.findIndex(t=>t.active);this.activeSortIndex=t>-1?t:this.sortingsSortedList.findIndex(t=>t.value===o._Y),this.sortingsSortedList[this.activeSortIndex]?this.activeSort=this.sortingsSortedList[this.activeSortIndex].value:this.activeSort=o._Y}}}},73718:(t,e,r)=>{"use strict";r.d(e,{D:()=>n,t:()=>o});var o=function(t){return t.CLICK_SORTING="click-review-sorting",t.CHANGE_SORTING="add-review-sorting",t.VIEW_REVIEW="view-review",t.VIEW_COMMENT="view-comment",t.CLICK_PHOTO="click-photo",t.CLICK_VIDEO="click-video",t.CLICK_CONTEXT="click-context",t.CLICK_FRESH="harvest",t.LOAD_MORE="load-more",t}({}),n=80},"5472d":(t,e,r)=>{var o=r("f25b4"),n=r("a52ba"),c=r("caf36"),l=r("7ced4"),h=r("6145b"),d=r("e0576");t.exports=function(t,e,r){var v=-1,m=n,_=t.length,f=!0,w=[],y=w;if(r)f=!1,m=c;else if(_>=200){var C=e?null:h(t);if(C)return d(C);f=!1,m=l,y=new o}else y=e?[]:w;t:for(;++v<_;){var O=t[v],M=e?e(O):O;if(O=r||0!==O?O:0,f&&M==M){for(var T=y.length;T--;)if(y[T]===M)continue t;e&&y.push(M),w.push(O)}else m(y,M,r)||(y!==w&&y.push(M),w.push(O))}return w}},"6145b":t=>{t.exports=function(){}},e0576:t=>{t.exports=function(){return[]}},"5fca6":t=>{t.exports=function(t){for(var e=-1,r=null==t?0:t.length,o=0,n=[];++e<r;){var c=t[e];c&&(n[o++]=c)}return n}},f7785:(t,e,r)=>{var o=r("245ed"),n=r("5472d");t.exports=function(t,e){return t&&t.length?n(t,o(e,2)):[]}},"8ec5d":t=>{for(var e=[],i=0;i<256;++i)e[i]=(i+256).toString(16).substr(1);t.exports=function(t,r){var i=r||0,o=e;return[o[t[i++]],o[t[i++]],o[t[i++]],o[t[i++]],"-",o[t[i++]],o[t[i++]],"-",o[t[i++]],o[t[i++]],"-",o[t[i++]],o[t[i++]],"-",o[t[i++]],o[t[i++]],o[t[i++]],o[t[i++]],o[t[i++]],o[t[i++]]].join("")}},"9f430":t=>{var e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(e){var r=new Uint8Array(16);t.exports=function(){return e(r),r}}else{var o=new Array(16);t.exports=function(){for(var t,i=0;i<16;i++)3&i||(t=4294967296*Math.random()),o[i]=t>>>((3&i)<<3)&255;return o}}},c7b40:(t,e,r)=>{var o=r("9f430"),n=r("8ec5d");t.exports=function(t,e,r){var i=e&&r||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var c=(t=t||{}).random||(t.rng||o)();if(c[6]=15&c[6]|64,c[8]=63&c[8]|128,e)for(var l=0;l<16;++l)e[i+l]=c[l];return e||n(c)}},"359f0":(t,e,r)=>{"use strict";r.a(t,async(t,o)=>{try{var n=r("1cabc"),c=r("d0722"),l=r("695d8"),h=r.n(l),d=t([n]);function v(t){this.$style=c.Z.locals||c.Z}n=(d.then?(await d)():d)[0];var component=h()(n.Z,undefined,undefined,!1,v,null,null);e.Z=component.exports,o()}catch(m){o(m)}})},"56a41":(t,e,r)=>{"use strict";r.a(t,async(t,o)=>{try{var n=r("4c680"),c=r("fcd38"),l=r("588f6"),h=r("695d8"),d=r.n(h),v=t([c]);function m(t){this.$style=l.Z.locals||l.Z}c=(v.then?(await v)():v)[0];var component=d()(c.Z,n.s,n.x,!1,m,null,null);e.Z=component.exports,o()}catch(_){o(_)}})},"18b28":(t,e,r)=>{"use strict";r.a(t,async(t,o)=>{try{r.r(e);var n=r("06515"),c=r("1570e"),l=r("8fd0a"),h=r("695d8"),d=r.n(h),v=t([c]);function m(t){this.$style=l.Z.locals||l.Z}c=(v.then?(await v)():v)[0];var component=d()(c.Z,n.s,n.x,!1,m,null,null);e.default=component.exports,o()}catch(_){o(_)}})},"779b0":(t,e,r)=>{"use strict";r.d(e,{Z:()=>o});var o={avatar:"yn5_30",hasImage:"y5n_30",xl:"ny6_30",l:"n6y_30",m:"yn6_30",s:"y6n_30",xs:"ny7_30",img:"n7y_30"}},f9021:(t,e,r)=>{"use strict";r.d(e,{Z:()=>o});var o={text:"yn7_30",badge:"y7n_30",default:"ny8_30",success:"n8y_30",icon:"yn8_30"}},"79c86":(t,e,r)=>{"use strict";r.d(e,{Z:()=>o});var o={creating:"oo9_30",loader:"o9o_30"}},"55b3e":(t,e,r)=>{"use strict";r.d(e,{Z:()=>o});var o={header:"oq5_30",field:"o5q_30",buttonClose:"qo5_30"}},"949a0":(t,e,r)=>{"use strict";r.d(e,{Z:()=>o});var o={button:"q5o_30",active:"oq6_30",buttonAction:"o6q_30",item:"qo6_30"}},"64ba5":(t,e,r)=>{"use strict";r.d(e,{Z:()=>o});var o={author:"q6o_30",point:"oq7_30",avatar:"o7q_30",content:"qo7_30",name:"q7o_30",partner:"oq8_30",confirmationIcon:"o8q_30",partnerTitle:"qo8_30",mobile:"q8o_30"}},b8247:(t,e,r)=>{"use strict";r.d(e,{Z:()=>o});var o={simple:"oq9_30",text:"o9q_30"}},a5043:(t,e,r)=>{"use strict";r.d(e,{Z:()=>o});var o={success:"qo9_30",error:"q9o_30"}},"89ebc":(t,e,r)=>{"use strict";r.d(e,{Z:()=>o});var o={status:"or_30",icon:"ro_30"}},e7cc2:(t,e,r)=>{"use strict";r.d(e,{Z:()=>o});var o={text:"or0_30"}},"115fe":(t,e,r)=>{"use strict";r.d(e,{Z:()=>o});var o={content:"o0r_30",header:"ro0_30",text:"r0o_30",link:"or1_30"}},"9ca93":(t,e,r)=>{"use strict";r.d(e,{Z:()=>o});var o={highlight:"o1r_30",highlightMobile:"ro1_30"}},"2e40d":(t,e,r)=>{"use strict";r.d(e,{Z:()=>o});var o={title:"r1o_30",buttons:"or2_30",button:"o2r_30"}},d0722:(t,e,r)=>{"use strict";r.d(e,{Z:()=>o});var o={loadMore:"o4r_30"}},"1f957":(t,e,r)=>{"use strict";r.d(e,{Z:()=>o});var o={container:"ro4_30",containerMobile:"r4o_30",modAlly:"or5_30",title:"o5r_30",dark:"ro5_30",input:"r5o_30"}},38313:(t,e,r)=>{"use strict";r.d(e,{Z:()=>o});var o={paginationItem:"or6_30",compression:"o6r_30",divider:"ro6_30",dark:"r6o_30",paginationItemMobile:"or7_30",current:"o7r_30",mMobile:"ro7_30"}},acfe9:(t,e,r)=>{"use strict";r.d(e,{Z:()=>o});var o={pagination:"r7o_30",paginationControls:"or8_30",paginationControlsMobile:"o8r_30",compressionPaginationControls:"ro8_30",pageButton:"r8o_30",pageButtonMobile:"or9_30",paginationItemsMobile:"o9r_30",compressionPaginationControlsMobile:"ro9_30",mDisableLeftDelimiter:"r9o_30"}},c1a87:(t,e,r)=>{"use strict";r.d(e,{Z:()=>o});var o={infoWrapper:"os_30",avatar:"so_30",info:"os0_30",answer:"o0s_30",author:"so0_30",form:"s0o_30",notification:"os1_30",textarea:"o1s_30",rules:"so1_30",buttons:"s1o_30",button:"os2_30",mobile:"o2s_30"}},d8967:(t,e,r)=>{"use strict";r.d(e,{Z:()=>o});var o={mediaPreviews:"so2_30",mobile:"s2o_30",mediaWrapper:"os3_30",mediaItem:"o3s_30",image:"so3_30",playIcon:"s3o_30",modAlly:"os4_30",videoDuration:"o4s_30",overflow:"so4_30",brokenVideo:"s4o_30",gridMobileTwoRows:"os5_30",gridMobileThreeRows:"o5s_30",doublePhoto:"so5_30",threePhotos:"s5o_30",fourPhotos:"os6_30",fivePhotos:"o6s_30",sixPhotos:"so6_30",sevenPhotos:"s6o_30",eightPhotos:"os7_30",threeVideos:"o7s_30",threeMedia:"so7_30",doubleMedia:"s7o_30",fourMedia:"os8_30",fiveMedia:"o8s_30",sixMedia:"so8_30",sevenMedia:"s8o_30",eightMedia:"os9_30",gridMobileOneRow:"o9s_30",withVideo:"so9_30",galleryTheme:"s9o_30"}},d2f36:(t,e,r)=>{"use strict";r.d(e,{Z:()=>o});var o={comment:"ot_30",header:"to_30",mainInfo:"ot0_30",authorInfo:"o0t_30",date:"to0_30",xs:"t0o_30",replyLink:"ot1_30",wrapper:"o1t_30",wrapperText:"to1_30",text:"t1o_30",footer:"ot2_30",mobile:"o2t_30",highlight:"to2_30"}},"9916d":(t,e,r)=>{"use strict";r.d(e,{Z:()=>o});var o={commentsList:"t2o_30",gallery:"ot3_30",comment:"o3t_30",loaderWrapper:"to3_30",showMoreComments:"t3o_30",showMoreButtonSlot:"ot4_30",showMoreCommentsIconWrapper:"o4t_30",showMoreCommentsLoading:"to4_30",mobile:"t4o_30"}},"97e8b":(t,e,r)=>{"use strict";r.d(e,{Z:()=>o});var o={info:"ot5_30",date:"o5t_30",xs:"to5_30",rating:"t5o_30",themeAuthor:"ot6_30",mobile:"o6t_30"}},fef85:(t,e,r)=>{"use strict";r.d(e,{Z:()=>o});var o={contentWrapper:"to6_30",contentText:"t6o_30",contentTitle:"ot7_30",contentBlock:"o7t_30",readMore:"to7_30"}},b2c50:(t,e,r)=>{"use strict";r.d(e,{Z:()=>o});var o={question:"t7o_30",questionAnswer:"ot8_30"}},"9e781":(t,e,r)=>{"use strict";r.d(e,{Z:()=>o});var o={footer:"o8t_30",footerItem:"to8_30",buttonReply:"t8o_30",buttonEdit:"ot9_30",confirmation:"o9t_30",notification:"to9_30",footerWrapper:"t9o_30",mobile:"ou_30",buttonUsefulness:"uo_30"}},"31acc":(t,e,r)=>{"use strict";r.d(e,{Z:()=>o});var o={product:"ou0_30",imageWrapper:"o0u_30",default:"uo0_30",image:"u0o_30",headerWrapper:"ou1_30",subtitle:"o1u_30",title:"uo1_30",mobile:"u1o_30"}},ed66b:(t,e,r)=>{"use strict";r.d(e,{Z:()=>o});var o={review:"ou2_30",header:"o2u_30",footer:"uo2_30",body:"u2o_30",variant:"ou3_30",variantLink:"o3u_30",itemPurchased:"uo3_30",contextQuestions:"u3o_30",additionalInfo:"ou4_30",content:"o4u_30",mediaContent:"uo4_30",fullWidth:"u4o_30",moreButton:"ou5_30",travelBadge:"o5u_30",themeAuthor:"uo5_30",status:"u5o_30",themeMyAccount:"ou6_30",translateButton:"o6u_30",hasVariant:"uo6_30",extendedWrapper:"u6o_30",translateButtonGallery:"ou7_30",mobile:"o7u_30",info:"uo7_30",rating:"u7o_30"}},"588f6":(t,e,r)=>{"use strict";r.d(e,{Z:()=>o});var o={sortTitle:"v2p_30",sortItem:"pv3_30",active:"p3v_30",icon:"vp3_30",mobile:"v3p_30",sortWrapper:"pv4_30",sortIcon:"p4v_30",sortArrow:"vp4_30",modalWrapper:"v4p_30",modalTitle:"pv5_30",modalList:"p5v_30",list:"vp5_30"}},"8fd0a":(t,e,r)=>{"use strict";r.d(e,{Z:()=>o});var o={listReviews:"v5p_30",controls:"pv6_30",checkboxFilter:"p6v_30",list:"vp6_30",loaderWrapper:"v6p_30",loader:"pv7_30",pagination:"p7v_30",loading:"vp7_30",review:"v7p_30",loadMoreWrapper:"pv8_30",loadMoreButton:"p8v_30",commentsWrapper:"vp8_30",reviewCreateComment:"v8p_30",mobile:"pv9_30"}},"1cabc":(t,e,r)=>{"use strict";r.a(t,async(t,o)=>{try{var n=r("f5d9e"),c=t([n]);n=(c.then?(await c)():c)[0],e.Z=n.Z,o()}catch(t){o(t)}})},fcd38:(t,e,r)=>{"use strict";r.a(t,async(t,o)=>{try{var n=r("208a9"),c=t([n]);n=(c.then?(await c)():c)[0],e.Z=n.Z,o()}catch(t){o(t)}})},"1570e":(t,e,r)=>{"use strict";r.a(t,async(t,o)=>{try{var n=r("7a7f8"),c=t([n]);n=(c.then?(await c)():c)[0],e.Z=n.Z,o()}catch(t){o(t)}})},"4c680":(t,e,r)=>{"use strict";r.d(e,{s:()=>o,x:()=>n});var o=function(){var t,e=this,r=e.$createElement,o=e._self._c||r;return o("div",{directives:[{name:"qa",rawName:"v-qa:id",value:"reviews-sort-select",expression:"'reviews-sort-select'",arg:"id"}],class:[e.$style.sortWrapper,(t={},t[e.$style.mobile]=e.isMobile,t)],on:{click:function(t){return e.showModal(!0)}}},[e.isMobile?[o("span",{class:e.$style.sortTitle},[o("SortMobileIcon",{class:e.$style.sortIcon}),e._v("\n      "+e._s(e.activeSortFull.name)+"\n    ")],1),e._v(" "),o("ArrowIcon",{class:e.$style.sortArrow})]:[o("span",{class:e.$style.sortTitle},[e._v("\n      "+e._s(e.localization.sortFilter.sortTitle)+"\n    ")]),e._v(" "),e._l(e.formattedSortList,function(t,r){var n;return o("span",{key:"sort-"+r},[o("span",{class:[e.$style.sortItem,(n={},n[e.$style.active]=t.value===e.activeSort,n)],on:{click:function(r){return e.changeSort(t.value)}}},[e._v("\n        "+e._s(t.name)+"\n        "),t.icon?o("AtomIcon",e._b({attrs:{size:"SIZE_300",shape:"SHAPE_NONE"}},"AtomIcon",t,!1)):e._e()],1)])})],e._v(" "),e.isMobile&&e.isShowModal?o("DsDialog",{attrs:{"is-mobile-theme":"",theme:"bottom"},on:{close:function(t){return e.showModal(!1)}}},[o("div",{class:e.$style.modalWrapper},[o("div",{class:e.$style.modalTitle},[e._v(e._s(e.localization.sortFilter.modalTitle))]),e._v(" "),o("OzRadioGroup",{class:[e.$style.modalList,e.$style.list],attrs:{fill:"",layout:"vertical","control-position":"right",value:e.activeSort,options:e.sortList},on:{change:e.setCurrentSort}}),e._v(" "),o("DsButton",{attrs:{fill:"",size:"500",title:e.localization.sortFilter.modalButton},on:{click:e.changeCurrentSort}})],1)]):e._e()],2)},n=[]},"06515":(t,e,r)=>{"use strict";r.d(e,{s:()=>o,x:()=>n});var o=function(){var t,e=this,r=e.$createElement,o=e._self._c||r;return e.showWidget?o("div",{class:[(t={},t[e.$style.mobile]=e.isMobile,t)]},[e.isLoadVisible?o("div",{class:e.$style.loaderWrapper},[o("DsLoader",{class:e.$style.loader,attrs:{size:"500"}})],1):e._e(),e._v(" "),e.isTotalVariantEmpty&&!e.isLoadVisible&&e.notEmptyPlaceholder("default")?o("PlaceholderRender",{attrs:{placeholders:e.placeholders,place:"default"}}):e._e(),e._v(" "),e.total&&!e.isLoadVisible?[e.sortingsSortedList.length||e.isFilterWithMedia?o("div",{class:e.$style.controls},[e.sortingsSortedList.length?o("SortFilter",{attrs:{"sort-list":e.sortingsSortedList,"active-sort":e.activeSort,"is-mobile":e.isMobile},on:{changeSorting:e.changeSorting}}):e._e(),e._v(" "),e.isFilterWithMedia&&!e.isMobile?o("OzCheckbox",{class:e.$style.checkboxFilter,attrs:{checked:e.filterWithMedia},on:{change:e.onChangeFilterMedia}},[e._v("\n        Только с фото/видео\n      ")]):e._e()],1):e._e(),e._v(" "),o("div",{directives:[{name:"qa",rawName:"v-qa:id",value:"reviews-list",expression:"'reviews-list'",arg:"id"}],class:e.$style.list},[e._l(e.reviews,function(t,r){return o("div",{key:t.uuid,class:e.$style.review},[o("Review",e._b({attrs:{"full-media-width":"","data-author-id":e.hasToolbarFlag&&t.author?t.author.id:null,"data-review-uuid":t.uuid,"delete-error":e.currentReviewDeletingError===t.uuid,"delete-processing":e.currentReviewDeletingUuid===t.uuid,product:e.products[t.itemId],index:r,"hide-first-comment-view":e.hideFirstCommentView,"creating-abuse-report":e.creatingAbuseReport===t.uuid,"creating-abuse-report-error":e.creatingAbuseReportError===t.uuid,"is-mobile":e.isMobile,"is-show-full-text":e.isShowFullText,query:e.getQuery(t)},on:{delete:e.onDeleteReview,reported:e.onReported,view:e.onViewReview,vote:e.onVote,writeComment:e.handleWriteComment,clickContextQuestions:e.onClickContextQuestions,clickPhotoPreview:e.onClickPhotoPreview,editReview:e.onEditReview,openFreshModal:e.onOpenFreshModal,showComments:e.loadMoreComments,hideComments:e.onHideComments,translateClick:e.onReviewTranslate}},"Review",t,!1)),e._v(" "),o("no-ssr",[o("div",{class:e.$style.commentsWrapper},[o("CommentsList",{attrs:{"current-comment-deleting-error":e.currentCommentDeletingError,"current-comment-deleting-uuid":e.currentCommentDeletingUuid,"is-comments-loading":e.isCommentsLoading,"comments-loading-review":e.commentsLoadingReview,"creating-abuse-report":e.creatingAbuseReport,"creating-abuse-report-error":e.creatingAbuseReportError,review:t,"hide-first-comment-view":e.hideFirstCommentView,"has-toolbar-flag":e.hasToolbarFlag},on:{delete:e.onDeleteComment,loadMore:e.loadMoreComments,reported:e.onReportedComment,scrollToParent:e.onScrollToParent,voteComment:e.onVoteComment,writeComment:e.handleWriteComment,viewComment:e.handleCommentView}}),e._v(" "),e.isReviewCommentFormVisible(t.uuid)?o("CreateComment",e._b({class:e.$style.reviewCreateComment,attrs:{author:e.widgetState.user,"has-error":e.hasCreateCommentError,"has-created":e.hasCreatedComment,"is-creating":e.isCommentCreating,"is-page-type-pdp":e.pageType===e.PAGE_TYPE_PDP,"item-id":t.itemId},on:{close:function(t){e.currentReviewCommentingInfo=null},create:e.onCreateComment}},"CreateComment",e.currentReviewCommentingInfo,!1)):e._e()],1)])],1)}),e._v(" "),e.loading&&e.paginationType===e.PAGINATION_TYPE_PAGINATION?o("div",{class:e.$style.loading}):e._e()],2),e._v(" "),e.paginationType!==e.PAGINATION_TYPE_LOAD_MORE_BUTTON||e.shelfEnabled?e._e():[e.isLoadMoreButtonVisible?o("LoadMore",{directives:[{name:"qa",rawName:"v-qa:id",value:"pagination-type-load-more",expression:"'pagination-type-load-more'",arg:"id"}],class:e.$style.loadMoreWrapper,attrs:{paging:e.pagingBtn,loading:e.loading},on:{loadMore:e.loadMore}}):e._e()],e._v(" "),e.paginationType===e.PAGINATION_TYPE_PAGINATION||e.paginationType===e.PAGINATION_TYPE_CUSTOM?[e.total>e.perPage?o("Pagination",{directives:[{name:"qa",rawName:"v-qa:id",value:"pagination-type-pagination",expression:"'pagination-type-pagination'",arg:"id"}],class:e.$style.pagination,attrs:{current:e.currentPage,links:e.paginationLinks,to:e.totalPages,"next-page":e.nextPageLink,"first-page":e.firstPageLink},on:{newPage:e.onNewPage},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.page,n=t.current;return[o("PaginationItem",{attrs:{"is-current":n,href:e.currentPath+r.urlParams,number:r.text,silent:""},on:{click:function(t){return e.onPageClick(r.text,t,r.urlParams)}}})]}}],null,!1,122403008)}):e._e()]:e._e()]:e._e()],2):e._e()},n=[]}}]);