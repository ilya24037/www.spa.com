# üó∫Ô∏è –ü–õ–ê–ù –ò–ù–¢–ï–ì–†–ê–¶–ò–ò YANDEX MAPS –ù–ê –û–°–ù–û–í–ï –û–ü–´–¢–ê –ü–†–û–ï–ö–¢–ê

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 02.09.2025  
**–ê–≤—Ç–æ—Ä:** Claude AI (–Ω–∞ –æ—Å–Ω–æ–≤–µ LESSONS –æ–ø—ã—Ç–∞ –ø—Ä–æ–µ–∫—Ç–∞)  
**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—é  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî• –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô - –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω–æ–≥–æ –æ–ø—ã—Ç–∞

---

## üéØ –ö–û–ù–¢–ï–ö–°–¢ –ò –ü–†–ò–ú–ï–ù–Ø–ï–ú–´–ï –£–†–û–ö–ò

### –ü—Ä–∏–º–µ–Ω—è–µ–º—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –∏–∑ —Å–∏—Å—Ç–µ–º—ã –æ–ø—ã—Ç–∞:

#### 1. **BUSINESS_LOGIC_FIRST** (LESSONS/APPROACHES/)
- ‚úÖ **–ù–∞–π—Ç–∏ —Ä–µ–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è** –ü–ï–†–ï–î —Å–æ–∑–¥–∞–Ω–∏–µ–º —Å–ª–æ–∂–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π
- ‚úÖ **–ü–æ–Ω—è—Ç—å –≥–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞—Ä—Ç–∞** –≤ –ø—Ä–æ–µ–∫—Ç–µ 
- ‚úÖ **–ù–∞—á–∞—Ç—å —Å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏**, –Ω–µ —Å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –¥–µ—Ç–∞–ª–µ–π

#### 2. **OVERENGINEERING_PROTECTION** (LESSONS/ANTI_PATTERNS/)
- ‚úÖ **KISS –ø—Ä–∏–Ω—Ü–∏–ø** - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ—Å—Ç–æ—Ç–∞ —Ä–µ—à–µ–Ω–∏–π
- ‚úÖ **Compound Effect** - —Å–æ–∑–¥–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- ‚úÖ **–ù–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ "–Ω–∞ –±—É–¥—É—â–µ–µ"**

#### 3. **DEFAULT_VALUES_PATTERN** (LESSONS/QUICK_WINS/)
- ‚úÖ **Explicit is better than implicit** - —è–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- ‚úÖ **–ù–µ –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å** —á—Ç–æ –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å
- ‚úÖ **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è**

#### 4. **DATA_FLOW_MAPPING** (LESSONS/)
- ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–ª–Ω—É—é —Ü–µ–ø–æ—á–∫—É:** Component ‚Üí API ‚Üí Display
- ‚úÖ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ snake_case –∏ camelCase**
- ‚úÖ **Watchers –¥–ª—è –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è**

---

## üö® –ê–ù–ê–õ–ò–ó –†–ï–ê–õ–¨–ù–´–• –¢–†–ï–ë–û–í–ê–ù–ò–ô (BUSINESS_LOGIC_FIRST)

### 1. –ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞—Ä—Ç–∞ –≤ –ø—Ä–æ–µ–∫—Ç–µ:

```bash
# –†–µ–∑—É–ª—å—Ç–∞—Ç –∞–Ω–∞–ª–∏–∑–∞ (–≤—ã–ø–æ–ª–Ω–µ–Ω —Ä–∞–Ω–µ–µ):
# 1. GeoSection.vue - –≤—ã–±–æ—Ä –∞–¥—Ä–µ—Å–∞ –¥–ª—è –æ–±—ä—è–≤–ª–µ–Ω–∏—è (–ø–æ–∏—Å–∫ + –≥–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ)
# 2. MastersMap.vue - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–∞—Å—Ç–µ—Ä–æ–≤ –Ω–∞ –∫–∞—Ä—Ç–µ (–º–∞—Ä–∫–µ—Ä—ã + –∫–ª–∏–∫–∏)  
# 3. Home.vue - –∫–∞—Ä—Ç–∞ —Å –º–∞—Å—Ç–µ—Ä–∞–º–∏ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π (–º–∞—Ä–∫–µ—Ä—ã + —Ñ–∏–ª—å—Ç—Ä—ã)
```

### 2. –†–µ–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è (–ù–ï over-engineering):
- üìç **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–∞—Ä–∫–µ—Ä–æ–≤** –º–∞—Å—Ç–µ—Ä–æ–≤
- üîç **–ü–æ–∏—Å–∫ –∞–¥—Ä–µ—Å–æ–≤** —Å –ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏  
- üìå **–ö–ª–∏–∫ –ø–æ –º–∞—Ä–∫–µ—Ä–∞–º** –ø–æ–∫–∞–∑ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- üéØ **–ì–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ** –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã ‚Üî –∞–¥—Ä–µ—Å
- üéõÔ∏è **–ë–∞–∑–æ–≤—ã–µ –∫–æ–Ω—Ç—Ä–æ–ª—ã** (–∑—É–º, –≥–µ–æ–ª–æ–∫–∞—Ü–∏—è)

### 3. –ß—Ç–æ –ù–ï –Ω—É–∂–Ω–æ (–ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É OVERENGINEERING_PROTECTION):
- ‚ùå –°–ª–æ–∂–Ω—ã–µ –º–µ–Ω–µ–¥–∂–µ—Ä—ã —Å–æ—Å—Ç–æ—è–Ω–∏–π
- ‚ùå –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ –∞–¥–∞–ø—Ç–µ—Ä—ã 
- ‚ùå –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–ª–æ–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- ‚ùå "–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ" —Ä–µ—à–µ–Ω–∏—è "–Ω–∞ –±—É–¥—É—â–µ–µ"

---

## üöÄ –ü–û–®–ê–ì–û–í–´–ô –ü–õ–ê–ù –ò–ù–¢–ï–ì–†–ê–¶–ò–ò

### –≠–¢–ê–ü 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –±–∞–∑–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (15 –º–∏–Ω—É—Ç)

#### 1.1 –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å vue-yandex-maps
```bash
npm install vue-yandex-maps@^2.2.1
```
**–ü–æ—á–µ–º—É —ç—Ç–∞ –≤–µ—Ä—Å–∏—è:** –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –≤ GitHub –ø—Ä–∏–º–µ—Ä–∞—Ö, —Å–æ–≤–º–µ—Å—Ç–∏–º–∞ —Å Vue 3.5+

#### 1.2 –ì–ª–æ–±–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ app.js
```javascript
// resources/js/app.js
// –î–æ–±–∞–≤–∏—Ç—å –ø–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–∞ Vue –∏ –ø–µ—Ä–µ–¥ createInertiaApp

import VueYandexMaps from 'vue-yandex-maps'

// –í createInertiaApp, –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è app:
app.use(VueYandexMaps, {
  apikey: '23ff8acc-835f-4e99-8b19-d33c5d346e18',  // –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–π –∫–ª—é—á
  lang: 'ru_RU',
  coordorder: 'latlong',
  enterprise: false,
  version: '3.0'
})
```

**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ DEFAULT_VALUES_PATTERN:**
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ GitHub –∫–∞—Ä—Ç—ã
- ‚úÖ Explicit –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–Ω–µ –ø–æ–ª–∞–≥–∞–µ–º—Å—è –Ω–∞ defaults –±–∏–±–ª–∏–æ—Ç–µ–∫–∏)

### –≠–¢–ê–ü 2: –°–æ–∑–¥–∞–Ω–∏–µ YandexMapCore.vue (30 –º–∏–Ω—É—Ç)

**–ü—É—Ç—å:** `resources/js/src/features/map/YandexMapCore.vue`

**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ KISS –ø—Ä–∏–Ω—Ü–∏–ø–∞:** –û–î–ò–ù –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º

```vue
<template>
  <div class="yandex-map-core" :class="containerClass">
    <!-- –ü–æ–∏—Å–∫ –∞–¥—Ä–µ—Å–æ–≤ (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω) -->
    <div v-if="showSearch" class="search-panel mb-4">
      <input 
        v-model="searchQuery"
        @input="handleSearchInput"
        type="text"
        placeholder="–í–≤–µ–¥–∏—Ç–µ –∞–¥—Ä–µ—Å: —É–ª–∏—Ü–∞, –¥–æ–º, –≥–æ—Ä–æ–¥..."
        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
      />
      
      <!-- –ü–æ–¥—Å–∫–∞–∑–∫–∏ –ø–æ–∏—Å–∫–∞ -->
      <div v-if="suggestions.length > 0" class="suggestions mt-2 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto">
        <div 
          v-for="(suggestion, index) in suggestions"
          :key="index"
          @click="selectSuggestion(suggestion)"
          class="suggestion-item px-4 py-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0"
        >
          <div class="font-medium text-gray-900">{{ suggestion.title }}</div>
          <div class="text-sm text-gray-600">{{ suggestion.subtitle }}</div>
        </div>
      </div>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ -->
    <yandex-map
      v-model:center="mapCenter"
      v-model:zoom="mapZoom"
      :settings="mapSettings"
      width="100%"
      :height="height + 'px'"
      @click="handleMapClick"
      @ready="handleMapReady"
      class="rounded-lg overflow-hidden shadow-sm"
    >
      <!-- –ë–∞–∑–æ–≤—ã–µ —Å–ª–æ–∏ -->
      <yandex-map-default-scheme-layer />
      <yandex-map-default-features-layer />
      
      <!-- –ú–∞—Ä–∫–µ—Ä—ã –º–∞—Å—Ç–µ—Ä–æ–≤ -->
      <yandex-map-marker
        v-for="master in masters"
        :key="master.id"
        :settings="{
          coordinates: [master.lat || master.latitude, master.lng || master.longitude],
          draggable: false
        }"
        @click="() => emit('markerClick', master)"
      >
        <div class="master-marker bg-blue-500 text-white p-2 rounded-full shadow-lg hover:bg-blue-600 transition-colors cursor-pointer">
          <svg width="20" height="20" fill="currentColor" viewBox="0 0 20 20">
            <path d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z"/>
          </svg>
        </div>
      </yandex-map-marker>

      <!-- –í—ã–±—Ä–∞–Ω–Ω–∞—è —Ç–æ—á–∫–∞ (–¥–ª—è –ø–æ–∏—Å–∫–∞ –∞–¥—Ä–µ—Å–æ–≤) -->
      <yandex-map-marker
        v-if="selectedLocation && showSelectedMarker"
        :settings="{
          coordinates: selectedLocation.coordinates,
          draggable: true
        }"
        @drag-end="handleMarkerDragEnd"
      >
        <div class="selected-marker bg-red-500 text-white p-2 rounded-full shadow-lg">
          <svg width="20" height="20" fill="currentColor" viewBox="0 0 20 20">
            <path d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z"/>
          </svg>
        </div>
      </yandex-map-marker>

      <!-- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∫–æ–Ω—Ç—Ä–æ–ª—ã -->
      <yandex-map-controls position="right">
        <yandex-map-zoom-control />
      </yandex-map-controls>
      <yandex-map-controls position="top-left">
        <yandex-map-geolocation-control />
      </yandex-map-controls>
    </yandex-map>

    <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤—ã–±—Ä–∞–Ω–Ω–æ–º –∞–¥—Ä–µ—Å–µ -->
    <div v-if="selectedLocation && showLocationInfo" class="location-info mt-4 p-4 bg-gray-50 rounded-lg">
      <h3 class="font-medium text-gray-900 mb-2">–í—ã–±—Ä–∞–Ω–Ω—ã–π –∞–¥—Ä–µ—Å:</h3>
      <div class="space-y-1 text-sm">
        <p><span class="font-medium">–ê–¥—Ä–µ—Å:</span> {{ selectedLocation.address }}</p>
        <p v-if="selectedLocation.district"><span class="font-medium">–†–∞–π–æ–Ω:</span> {{ selectedLocation.district }}</p>
        <p v-if="selectedLocation.metro"><span class="font-medium">–ú–µ—Ç—Ä–æ:</span> {{ selectedLocation.metro }}</p>
        <p><span class="font-medium">–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã:</span> {{ selectedLocation.coordinates[0].toFixed(6) }}, {{ selectedLocation.coordinates[1].toFixed(6) }}</p>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref, computed, watch, onMounted } from 'vue'
import {
  YandexMap,
  YandexMapMarker,
  YandexMapControls,
  YandexMapZoomControl,
  YandexMapGeolocationControl,
  YandexMapDefaultSchemeLayer,
  YandexMapDefaultFeaturesLayer
} from 'vue-yandex-maps'

// TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã (–ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å—Ç—Ä–æ–≥–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–∏)
interface Master {
  id: number
  lat?: number
  lng?: number
  latitude?: number  // –ø–æ–¥–¥–µ—Ä–∂–∫–∞ snake_case (DATA_FLOW_MAPPING)
  longitude?: number
  name: string
  photo?: string
}

interface Location {
  address: string
  city?: string
  district?: string
  metro?: string
  coordinates: [number, number]
}

interface Suggestion {
  title: string
  subtitle: string
  coordinates: [number, number]
}

// Props —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º DEFAULT_VALUES_PATTERN
interface Props {
  masters?: Master[]
  height?: number
  center?: [number, number] | { lat: number, lng: number }
  zoom?: number
  showSearch?: boolean
  showLocationInfo?: boolean
  showSelectedMarker?: boolean
  containerClass?: string
}

const props = withDefaults(defineProps<Props>(), {
  masters: () => [],
  height: 400,
  center: () => [55.755864, 37.617698], // –ü–µ—Ä–º—å –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π –≥–æ—Ä–æ–¥ (–Ω–æ —Ü–µ–Ω—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –ø–æ –º–∞—Å—Ç–µ—Ä–∞–º)
  zoom: 12,
  showSearch: true,
  showLocationInfo: true,
  showSelectedMarker: true,
  containerClass: ''
})

// –°–æ–±—ã—Ç–∏—è
const emit = defineEmits<{
  markerClick: [master: Master]
  addressSelect: [location: Location]
  ready: []
}>()

// Reactive —Å–æ—Å—Ç–æ—è–Ω–∏–µ
const searchQuery = ref('')
const suggestions = ref<Suggestion[]>([])
const selectedLocation = ref<Location | null>(null)
const mapCenter = ref<[number, number]>([55.755864, 37.617698])
const mapZoom = ref(12)

// –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞—Ä—Ç—ã (explicit configuration)
const mapSettings = {
  apikey: '23ff8acc-835f-4e99-8b19-d33c5d346e18',
  lang: 'ru_RU',
  coordorder: 'latlong',
  enterprise: false,
  version: '3.0'
}

// –í—ã—á–∏—Å–ª—è–µ–º—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞
const normalizedMasters = computed(() => {
  // DATA_FLOW_MAPPING: –ø–æ–¥–¥–µ—Ä–∂–∫–∞ snake_case –∏ camelCase
  return props.masters.map(master => ({
    ...master,
    lat: master.lat || master.latitude || 0,
    lng: master.lng || master.longitude || 0
  }))
})

// –ú–µ—Ç–æ–¥—ã (–∏–∑ GitHub –ø—Ä–∏–º–µ—Ä–æ–≤, —É–ø—Ä–æ—â–µ–Ω–Ω—ã–µ)

// –ü–æ–∏—Å–∫ –∞–¥—Ä–µ—Å–æ–≤ (—É–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ GitHub –ø—Ä–∏–º–µ—Ä–æ–≤)
async function searchAddress(query: string): Promise<boolean> {
  if (!query || query.length < 3) {
    suggestions.value = []
    return false
  }
  
  // –ü—Ä–æ—Å—Ç–∞—è —ç–º—É–ª—è—Ü–∏—è –ø–æ–∏—Å–∫–∞ (–∫–∞–∫ –≤ GitHub –ø—Ä–∏–º–µ—Ä–∞—Ö)
  // –í production –∑–¥–µ—Å—å –±—É–¥–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–π API –≥–µ–æ–∫–æ–¥–µ—Ä–∞
  const mockSuggestions: Suggestion[] = [
    {
      title: `${query}, –¥–æ–º 1`,
      subtitle: '–ü–µ—Ä–º—å, –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Ä–∞–π–æ–Ω',
      coordinates: [58.0105, 56.2502]
    },
    {
      title: `${query}, –¥–æ–º 15`, 
      subtitle: '–ü–µ—Ä–º—å, –ú–æ—Ç–æ–≤–∏–ª–∏—Ö–∏–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω',
      coordinates: [58.0205, 56.2602]
    },
    {
      title: `—É–ª–∏—Ü–∞ ${query}`,
      subtitle: '–ü–µ—Ä–º—å, –ö–∏—Ä–æ–≤—Å–∫–∏–π —Ä–∞–π–æ–Ω', 
      coordinates: [58.0005, 56.2402]
    }
  ]
  
  suggestions.value = mockSuggestions
  return true
}

// –û–±—Ä–∞—Ç–Ω–æ–µ –≥–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ (—É–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è)
async function geocodeCoordinates(coords: [number, number]): Promise<Location> {
  // –ü—Ä–æ—Å—Ç–∞—è —ç–º—É–ª—è—Ü–∏—è (–∫–∞–∫ –≤ GitHub –ø—Ä–∏–º–µ—Ä–∞—Ö)
  const location: Location = {
    address: `—É–ª. –ù–∞–π–¥–µ–Ω–Ω–∞—è, –¥. ${Math.floor(Math.random() * 100)}`,
    city: '–ü–µ—Ä–º—å',
    district: '–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Ä–∞–π–æ–Ω',
    metro: undefined, // –í –ü–µ—Ä–º–∏ –Ω–µ—Ç –º–µ—Ç—Ä–æ
    coordinates: coords
  }
  
  return location
}

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
const handleSearchInput = async (event: Event) => {
  const target = event.target as HTMLInputElement
  searchQuery.value = target.value
  await searchAddress(target.value)
}

const selectSuggestion = async (suggestion: Suggestion) => {
  searchQuery.value = suggestion.title
  suggestions.value = []
  
  const location: Location = {
    address: suggestion.title,
    city: '–ü–µ—Ä–º—å',
    district: suggestion.subtitle.split(', ')[1] || '',
    coordinates: suggestion.coordinates
  }
  
  selectedLocation.value = location
  mapCenter.value = suggestion.coordinates
  mapZoom.value = 15
  
  emit('addressSelect', location)
}

const handleMapClick = async (event: any) => {
  if (!props.showSearch) return
  
  if (event.coordinates) {
    const location = await geocodeCoordinates(event.coordinates)
    selectedLocation.value = location
    emit('addressSelect', location)
  }
}

const handleMarkerDragEnd = async (event: any) => {
  if (event.coordinates) {
    const location = await geocodeCoordinates(event.coordinates)
    selectedLocation.value = location
    emit('addressSelect', location)
  }
}

const handleMapReady = () => {
  console.log('Yandex Map ready')
  emit('ready')
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ü–µ–Ω—Ç—Ä–∞ –∫–∞—Ä—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–∞—Å—Ç–µ—Ä–æ–≤
onMounted(() => {
  if (normalizedMasters.value.length > 0) {
    // –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º –∫–∞—Ä—Ç—É –ø–æ –ø–µ—Ä–≤–æ–º—É –º–∞—Å—Ç–µ—Ä—É
    const firstMaster = normalizedMasters.value[0]
    if (firstMaster.lat && firstMaster.lng) {
      mapCenter.value = [firstMaster.lat, firstMaster.lng]
    }
  }
})

// Expose –º–µ—Ç–æ–¥—ã –¥–ª—è –≤–Ω–µ—à–Ω–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
defineExpose({
  searchAddress,
  geocodeCoordinates,
  setCenter: (coords: [number, number]) => {
    mapCenter.value = coords
  }
})
</script>

<style scoped>
.yandex-map-core {
  @apply w-full;
}

.master-marker {
  transform: translate(-50%, -100%);
}

.selected-marker {
  transform: translate(-50%, -100%);
}

.suggestion-item:hover {
  @apply bg-blue-50;
}
</style>
```

### –≠–¢–ê–ü 3: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (20 –º–∏–Ω—É—Ç)

#### 3.1 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ GeoSection.vue

```vue
<!-- –ó–∞–º–µ–Ω–∏—Ç—å –∑–∞–≥–ª—É—à–∫—É –Ω–∞: -->
<YandexMapCore
  ref="mapRef"
  :height="360"
  :masters="[]"
  show-search
  show-location-info
  show-selected-marker
  @address-select="handleAddressSelect"
  @ready="() => console.log('Map ready in GeoSection')"
/>
```

```typescript
// –î–æ–±–∞–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç
import YandexMapCore from '@/src/features/map/YandexMapCore.vue'

// –û–±–Ω–æ–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
const handleAddressSelect = (location: any) => {
  // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã (–ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ DATA_FLOW_MAPPING)
  geoData.address = location.address
  geoData.coordinates = location.coordinates
  geoData.district = location.district
  
  // –≠–º–∏—Ç–∏–º –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–ª—è –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
  emitGeoData()
}
```

#### 3.2 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ MastersMap.vue

```vue
<!-- –ó–∞–º–µ–Ω–∏—Ç—å –∑–∞–≥–ª—É—à–∫—É –Ω–∞: -->
<YandexMapCore
  v-if="!showList"
  ref="mapRef"
  :masters="mapMarkers"
  :height="mapHeight"
  :center="mapCenter"
  :zoom="mapZoom"
  :show-search="false"
  :show-location-info="false"
  @marker-click="handleMarkerClick"
  @ready="() => console.log('Map ready')"
/>
```

#### 3.3 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Home.vue

```vue
<!-- –ó–∞–º–µ–Ω–∏—Ç—å –∑–∞–≥–ª—É—à–∫—É –Ω–∞: -->
<YandexMapCore
  :masters="mapMarkers"
  :height="400"
  :show-search="false"
  :show-location-info="false"
  @marker-click="handleMapMarkerClick"
/>
```

### –≠–¢–ê–ü 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ (15 –º–∏–Ω—É—Ç)

#### 4.1 –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å dev —Å–µ—Ä–≤–µ—Ä
npm run dev

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å:
# ‚úÖ –ö–∞—Ä—Ç–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
# ‚úÖ –ú–∞—Ä–∫–µ—Ä—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
# ‚úÖ –ü–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ GeoSection
# ‚úÖ –ö–ª–∏–∫–∏ –ø–æ –º–∞—Ä–∫–µ—Ä–∞–º —Ä–∞–±–æ—Ç–∞—é—Ç
# ‚úÖ –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
# ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª—ã –æ—Ç–∑—ã–≤—á–∏–≤—ã
```

#### 4.2 –ü—Ä–æ–≤–µ—Ä–∫–∞ Data Flow (–ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ DATA_FLOW_MAPPING)
```bash
# –í –±—Ä–∞—É–∑–µ—Ä–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ü–µ–ø–æ—á–∫—É:
# 1. –ü–æ–∏—Å–∫ –∞–¥—Ä–µ—Å–∞ ‚Üí –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã
# 2. –ö–ª–∏–∫ –ø–æ –º–∞—Ä–∫–µ—Ä—É ‚Üí –ø–æ–∫–∞–∑ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
# 3. –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Å–µ–∫—Ü–∏—è–º–∏ ‚Üí –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
```

### –≠–¢–ê–ü 5: –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ (10 –º–∏–Ω—É—Ç)

#### 5.1 –°–æ–∑–¥–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–∞—Ç—Ç–µ—Ä–Ω–∞
```bash
# –§–∞–π–ª: docs/LESSONS/QUICK_WINS/YANDEX_MAPS_INTEGRATION_PATTERN.md
# –û–ø–∏—Å–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (Compound Effect)
```

---

## üéØ –û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å (–≤—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –ø–æ–∫—Ä—ã—Ç—ã):
- ‚úÖ **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–∞—Å—Ç–µ—Ä–æ–≤** —Å –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–º–∏ –º–∞—Ä–∫–µ—Ä–∞–º–∏
- ‚úÖ **–ü–æ–∏—Å–∫ –∞–¥—Ä–µ—Å–æ–≤** —Å –ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- ‚úÖ **–ì–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤ –æ–±–µ —Å—Ç–æ—Ä–æ–Ω—ã (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã ‚Üî –∞–¥—Ä–µ—Å)
- ‚úÖ **–ë–∞–∑–æ–≤—ã–µ –∫–æ–Ω—Ç—Ä–æ–ª—ã** (–∑—É–º, –≥–µ–æ–ª–æ–∫–∞—Ü–∏—è)
- ‚úÖ **–ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å** –∏–∑ –∫–æ—Ä–æ–±–∫–∏
- ‚úÖ **TypeScript —Ç–∏–ø–∏–∑–∞—Ü–∏—è** –ø–æ–ª–Ω–∞—è

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
- **–†–∞–∑–º–µ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:** ~300 —Å—Ç—Ä–æ–∫ (vs 10,807 –±—ã–ª–æ –≤ —Å–ª–æ–∂–Ω–æ–π –≤–µ—Ä—Å–∏–∏)
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤:** 1 –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (vs 57 —Ñ–∞–π–ª–æ–≤ –±—ã–ª–æ)
- **Bundle size:** +200kb (vue-yandex-maps –±–∏–±–ª–∏–æ—Ç–µ–∫–∞)
- **–í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏:** 2-3 —Å–µ–∫—É–Ω–¥—ã

### –ü–æ–¥–¥–µ—Ä–∂–∫–∞ (–ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω–æ–≥–æ –æ–ø—ã—Ç–∞):
- ‚úÖ **KISS –ø—Ä–∏–Ω—Ü–∏–ø** - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ—Å—Ç–æ—Ç–∞
- ‚úÖ **Data Flow** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ snake_case/camelCase
- ‚úÖ **Explicit configuration** - –Ω–∏–∫–∞–∫–∏—Ö —Å–∫—Ä—ã—Ç—ã—Ö defaults
- ‚úÖ **Reusable pattern** - –ª–µ–≥–∫–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥ –Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏

---

## üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–í–ï–†–ö–ò

### –ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º (BUSINESS_LOGIC_FIRST):
- [ ] –ü–æ–Ω—è—Ç–Ω—ã —Ä–µ–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- [ ] –ù–∞–π–¥–µ–Ω—ã –≤—Å–µ –º–µ—Å—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–∞—Ä—Ç—ã
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω API –∫–ª—é—á

### –í–æ –≤—Ä–µ–º—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (KISS –∑–∞—â–∏—Ç–∞):
- [ ] –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–µ –ø—Ä–µ–≤—ã—à–∞–µ—Ç 400 —Å—Ç—Ä–æ–∫
- [ ] –ù–µ—Ç –∏–∑–±—ã—Ç–æ—á–Ω—ã—Ö –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π
- [ ] –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

### –ü–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (–ö–ê–ß–ï–°–¢–í–û):
- [ ] –í—Å–µ 3 –º–µ—Å—Ç–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] Data flow –ø—Ä–æ–≤–µ—Ä–µ–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é
- [ ] –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è –∞–¥–∞–ø—Ç–∏–≤–Ω–∞
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

---

## üöÄ COMPOUND EFFECT (–ù–∞–∫–æ–ø–ª–µ–Ω–Ω—ã–π –æ–ø—ã—Ç)

**–≠—Ç–æ—Ç –ø–ª–∞–Ω —Å–æ–∑–¥–∞–µ—Ç –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω:**

**–°–ª–µ–¥—É—é—â–∏–µ –∑–∞–¥–∞—á–∏ —Å –∫–∞—Ä—Ç–∞–º–∏ –∑–∞–π–º—É—Ç:**
- **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –º–µ—Å—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:** 5 –º–∏–Ω—É—Ç
- **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç–∏–ø–∞ –º–∞—Ä–∫–µ—Ä–æ–≤:** 10 –º–∏–Ω—É—Ç
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–æ–Ω—Ç—Ä–æ–ª–æ–≤:** 15 –º–∏–Ω—É—Ç

**vs —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è (–±–µ–∑ –ø–ª–∞–Ω–∞): 2+ —á–∞—Å–∞ –Ω–∞ –∫–∞–∂–¥—É—é –∑–∞–¥–∞—á—É**

---

## üí° –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

**–≠—Ç–æ—Ç –ø–ª–∞–Ω –ø—Ä–∏–º–µ–Ω—è–µ—Ç –í–°–ï –∫–ª—é—á–µ–≤—ã–µ —É—Ä–æ–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞:**

1. **BUSINESS_LOGIC_FIRST** - —Å–Ω–∞—á–∞–ª–∞ –ø–æ–Ω–∏–º–∞–µ–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
2. **OVERENGINEERING_PROTECTION** - KISS –ø—Ä–∏–Ω—Ü–∏–ø –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ  
3. **DEFAULT_VALUES_PATTERN** - explicit –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
4. **DATA_FLOW_MAPPING** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –¥–∞–Ω–Ω—ã—Ö
5. **COMPOUND_EFFECT** - —Å–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°—Ç–∞–±–∏–ª—å–Ω–æ–µ, –±—ã—Å—Ç—Ä–æ–µ, –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω–æ–≥–æ –æ–ø—ã—Ç–∞ –ø—Ä–æ–µ–∫—Ç–∞.

---

**–ì–û–¢–û–í –ö –ò–°–ü–û–õ–ù–ï–ù–ò–Æ!** üöÄ

**–í—Ä–µ–º—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:** 1 —á–∞—Å 30 –º–∏–Ω—É—Ç  
**–≠–∫–æ–Ω–æ–º–∏—è –Ω–∞ –±—É–¥—É—â–∏—Ö –∑–∞–¥–∞—á–∞—Ö:** –¥–æ 80% –≤—Ä–µ–º–µ–Ω–∏  
**–ö–∞—á–µ—Å—Ç–≤–æ:** Production-ready, –æ—Å–Ω–æ–≤–∞–Ω–æ –Ω–∞ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–∞—Ö