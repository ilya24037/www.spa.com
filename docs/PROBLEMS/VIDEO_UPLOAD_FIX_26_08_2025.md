# üé• –ü–û–õ–ù–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú –° –í–ò–î–ï–û
**–î–∞—Ç–∞:** 26.08.2025  
**–ê–≤—Ç–æ—Ä:** Claude AI  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

## üìã –û–ü–ò–°–ê–ù–ò–ï –ü–†–û–ë–õ–ï–ú

### –ò—Å—Ö–æ–¥–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:
1. **–í–∏–¥–µ–æ –Ω–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–ª–æ—Å—å –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –≤ —á–µ—Ä–Ω–æ–≤–∏–∫** 
2. **–ü–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–µ –ø–µ—Ä–µ–∫–∏–¥—ã–≤–∞–ª–æ –Ω–∞ –≤–∫–ª–∞–¥–∫—É —á–µ—Ä–Ω–æ–≤–∏–∫–∏**
3. **–í–∏–¥–µ–æ –Ω–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–ª–æ—Å—å —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è (–¥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è)**
4. **–ö–æ–Ω—Ñ–ª–∏–∫—Ç —Å —Ñ—É–Ω–∫—Ü–∏–µ–π –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ñ–æ—Ç–æ**

### –ü—Ä–∏—á–∏–Ω—ã –ø—Ä–æ–±–ª–µ–º:
1. –í–∏–¥–µ–æ —Å–æ—Ö—Ä–∞–Ω—è–ª–æ—Å—å –∫–∞–∫ —Å–ª–æ–∂–Ω—ã–µ JSON –æ–±—ä–µ–∫—Ç—ã –≤–º–µ—Å—Ç–æ –ø—Ä–æ—Å—Ç—ã—Ö URL —Å—Ç—Ä–æ–∫
2. –î–≤–æ–π–Ω–æ–µ JSON –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑-–∑–∞ JsonFieldsTrait
3. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ base64 –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≤–∏–¥–µ–æ
4. –ö–æ–Ω—Ñ–ª–∏–∫—Ç —Ç–∏–ø–æ–≤ –ø–æ–ª–µ–π –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ñ–æ—Ç–æ

## üîß –í–´–ü–û–õ–ù–ï–ù–ù–´–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### 1. Backend - DraftController.php

#### –ü—Ä–æ–±–ª–µ–º–∞: –î–≤–æ–π–Ω–æ–µ JSON –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ
```php
// ‚ùå –ë–´–õ–û: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–∞–∫ –æ–±—ä–µ–∫—Ç
$uploadedVideos[] = [
    'id' => 'video_' . $index . '_' . time(),
    'url' => '/storage/' . $path,
    'thumbnail' => null
];
```

```php
// ‚úÖ –°–¢–ê–õ–û: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–∞–∫ –ø—Ä–æ—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞
$uploadedVideos[] = '/storage/' . $path;
```

#### –ü—Ä–æ–±–ª–µ–º–∞: –ö–æ–Ω—Ñ–ª–∏–∫—Ç —Å base64 –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ñ–æ—Ç–æ
```php
// ‚úÖ –î–û–ë–ê–í–õ–ï–ù–û: –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è base64 –≤ —Ñ–∞–π–ª
if ($verificationPhoto && str_starts_with($verificationPhoto, 'data:image')) {
    $base64Parts = explode(',', $verificationPhoto);
    if (count($base64Parts) === 2) {
        $imageData = base64_decode($base64Parts[1]);
        $imageName = 'verification_' . time() . '_' . Str::random(10) . '.jpg';
        $path = 'verification/' . $imageName;
        Storage::disk('public')->put($path, $imageData);
        $data['verification_photo'] = '/storage/' . $path;
    }
}
```

#### –ü—Ä–æ–±–ª–µ–º–∞: Laravel –ø–æ–ª—É—á–∞–ª –º–∞—Å—Å–∏–≤ —Ñ–∞–π–ª–æ–≤ –≤–º–µ—Å—Ç–æ –æ–¥–Ω–æ–≥–æ
```php
// ‚úÖ –î–û–ë–ê–í–õ–ï–ù–û: –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –≤–∏–¥–µ–æ
if ($videoIndex === 0 && $request->hasFile('video')) {
    $file = $request->file('video');
    // –ï—Å–ª–∏ —ç—Ç–æ –º–∞—Å—Å–∏–≤ —Ñ–∞–π–ª–æ–≤, –±–µ—Ä–µ–º –ø–µ—Ä–≤—ã–π
    if (is_array($file) && count($file) > 0) {
        $file = $file[0];
    }
    
    if ($file instanceof UploadedFile) {
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–∞...
    }
}
```

### 2. Frontend - VideoItem.vue

#### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ –ø–æ–∫–∞–∑—ã–≤–∞–ª–æ—Å—å –ø—Ä–µ–≤—å—é –¥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
```typescript
// ‚ùå –ë–´–õ–û: –¢–æ–ª—å–∫–æ URL —Å —Å–µ—Ä–≤–µ—Ä–∞
const getVideoUrl = (): string => {
  if (!safeVideo.value?.url) {
    return ''
  }
  // ...—Ç–æ–ª—å–∫–æ –æ–±—Ä–∞–±–æ—Ç–∫–∞ URL
}
```

```typescript
// ‚úÖ –°–¢–ê–õ–û: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ blob URL –¥–ª—è –ø—Ä–µ–≤—å—é
const getVideoUrl = (): string => {
  // –í–ê–ñ–ù–û: –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º file –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –ø—Ä–µ–≤—å—é
  if (safeVideo.value?.file instanceof File) {
    if (!createdBlobUrl.value) {
      createdBlobUrl.value = URL.createObjectURL(safeVideo.value.file)
    }
    return createdBlobUrl.value
  }
  
  // –ü–æ–¥–¥–µ—Ä–∂–∫–∞ blob URL
  if (url.startsWith('blob:')) {
    return url
  }
  // ...–æ—Å—Ç–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞
}
```

#### –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ—á–∏—Å—Ç–∫–∞ blob URL:
```typescript
onUnmounted(() => {
  if (createdBlobUrl.value) {
    URL.revokeObjectURL(createdBlobUrl.value)
    createdBlobUrl.value = null
  }
})
```

### 3. Frontend - useVideoUpload.ts

#### –ü—Ä–æ–±–ª–µ–º–∞: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ base64 –¥–ª—è –≤–∏–¥–µ–æ
```typescript
// ‚ùå –ë–´–õ–û: FileReader —Å–æ–∑–¥–∞–≤–∞–ª base64
reader.readAsDataURL(file)
const dataUrl = e.target?.result as string
const video: Video = {
  url: dataUrl,  // base64 URL - –ø–ª–æ—Ö–æ –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤!
}
```

```typescript
// ‚úÖ –°–¢–ê–õ–û: –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ñ–∞–π–ª –¥–ª—è blob URL
const video: Video = {
  id: Date.now(),
  file: file,      // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å–∞–º —Ñ–∞–π–ª
  url: null,       // URL –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –≤ VideoItem
  thumbnail: null,
  format: file.type,
  size: file.size,
  isUploading: false
}
```

## üìä –¢–ï–ö–£–©–ê–Ø –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –û–ë–†–ê–ë–û–¢–ö–ò –í–ò–î–ï–û

### –ü–æ–ª–Ω—ã–π –ø—É—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–∏–¥–µ–æ:

```
1. –î–û–ë–ê–í–õ–ï–ù–ò–ï –í–ò–î–ï–û (Frontend)
   ‚îú‚îÄ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç —Ñ–∞–π–ª
   ‚îú‚îÄ VideoUpload.vue ‚Üí handleFilesSelected()
   ‚îú‚îÄ useVideoUpload.ts ‚Üí processVideo()
   ‚îÇ  ‚îî‚îÄ –°–æ–∑–¥–∞–µ—Ç –æ–±—ä–µ–∫—Ç Video —Å file, –±–µ–∑ URL
   ‚îú‚îÄ VideoItem.vue ‚Üí getVideoUrl()
   ‚îÇ  ‚îî‚îÄ –°–æ–∑–¥–∞–µ—Ç blob URL –∏–∑ file –¥–ª—è –ø—Ä–µ–≤—å—é
   ‚îî‚îÄ –í–∏–¥–µ–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å blob URL ‚úÖ

2. –°–û–•–†–ê–ù–ï–ù–ò–ï –í –ß–ï–†–ù–û–í–ò–ö (Frontend ‚Üí Backend)
   ‚îú‚îÄ AdForm.vue ‚Üí saveDraft()
   ‚îú‚îÄ adFormModel.ts ‚Üí prepareDraftData()
   ‚îÇ  ‚îî‚îÄ –î–æ–±–∞–≤–ª—è–µ—Ç –≤–∏–¥–µ–æ –≤ FormData
   ‚îú‚îÄ –û—Ç–ø—Ä–∞–≤–∫–∞ POST /draft –∏–ª–∏ PUT /draft/{id}
   ‚îî‚îÄ FormData: video.0.file = File

3. –û–ë–†–ê–ë–û–¢–ö–ê –ù–ê BACKEND
   ‚îú‚îÄ DraftController.php ‚Üí store() –∏–ª–∏ update()
   ‚îú‚îÄ –ü—Ä–æ–≤–µ—Ä–∫–∞ hasFile('video.0.file')
   ‚îú‚îÄ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ storage/app/public/videos/
   ‚îú‚îÄ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –º–∞—Å—Å–∏–≤: '/storage/videos/...'
   ‚îú‚îÄ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î –∫–∞–∫ JSON —Å—Ç—Ä–æ–∫–∞
   ‚îî‚îÄ –û—Ç–≤–µ—Ç —Å URL –≤–∏–¥–µ–æ ‚úÖ

4. –ó–ê–ì–†–£–ó–ö–ê –ß–ï–†–ù–û–í–ò–ö–ê (Backend ‚Üí Frontend)
   ‚îú‚îÄ DraftController.php ‚Üí edit()
   ‚îú‚îÄ JsonFieldsTrait –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–∫–æ–¥–∏—Ä—É–µ—Ç JSON
   ‚îú‚îÄ –ü–µ—Ä–µ–¥–∞—á–∞ –≤ Inertia –∫–∞–∫ –º–∞—Å—Å–∏–≤ URL
   ‚îú‚îÄ AdForm.vue –ø–æ–ª—É—á–∞–µ—Ç video: ['/storage/...']
   ‚îú‚îÄ VideoItem.vue ‚Üí getVideoUrl()
   ‚îÇ  ‚îî‚îÄ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç URL —Å —Å–µ—Ä–≤–µ—Ä–∞
   ‚îî‚îÄ –í–∏–¥–µ–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å storage URL ‚úÖ

5. –ü–£–ë–õ–ò–ö–ê–¶–ò–Ø –û–ë–™–Ø–í–õ–ï–ù–ò–Ø
   ‚îú‚îÄ AdForm.vue ‚Üí publishAd()
   ‚îú‚îÄ AdController.php ‚Üí store()
   ‚îú‚îÄ –í–∏–¥–µ–æ –∫–æ–ø–∏—Ä—É—é—Ç—Å—è –∏–∑ —á–µ—Ä–Ω–æ–≤–∏–∫–∞
   ‚îî‚îÄ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ ads —Ç–∞–±–ª–∏—Ü—É ‚úÖ
```

## üóÇÔ∏è –ö–õ–Æ–ß–ï–í–´–ï –§–ê–ô–õ–´ –ò –ò–• –†–û–õ–ò

### Backend —Ñ–∞–π–ª—ã:

1. **app/Application/Http/Controllers/Ad/DraftController.php**
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –≤–∏–¥–µ–æ —Ñ–∞–π–ª–æ–≤
   - –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è base64 –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ñ–æ—Ç–æ –≤ —Ñ–∞–π–ª
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤–∏–¥–µ–æ –∫–∞–∫ –ø—Ä–æ—Å—Ç—ã—Ö URL —Å—Ç—Ä–æ–∫
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ FormData (video vs video.0.file)

2. **app/Domain/Ad/Models/Ad.php**
   - –°–æ–¥–µ—Ä–∂–∏—Ç JsonFieldsTrait –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ JSON –ø–æ–ª–µ–π
   - –ü–æ–ª–µ `video` –≤ –º–∞—Å—Å–∏–≤–µ `$jsonFields`
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ/–¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏/–∑–∞–≥—Ä—É–∑–∫–µ

3. **database/migrations/**
   - –ü–æ–ª–µ `video` —Ç–∏–ø–∞ TEXT –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è JSON
   - –ü–æ–ª–µ `verification_photo` —Ç–∏–ø–∞ VARCHAR (–Ω–µ MEDIUMTEXT!)

### Frontend —Ñ–∞–π–ª—ã:

1. **resources/js/src/features/media/video-upload/ui/VideoUpload.vue**
   - –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –≤–∏–¥–µ–æ
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏: loading, error, empty
   - –î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤ composables

2. **resources/js/src/features/media/video-upload/ui/components/VideoItem.vue**
   - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–µ–≤—å—é –≤–∏–¥–µ–æ
   - –°–æ–∑–¥–∞–Ω–∏–µ blob URL –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –ø—Ä–µ–≤—å—é
   - –û—á–∏—Å—Ç–∫–∞ blob URL –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ URL (blob, storage, http)

3. **resources/js/src/features/media/video-upload/composables/useVideoUpload.ts**
   - –õ–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–∏–¥–µ–æ —Ñ–∞–π–ª–æ–≤
   - –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç FileReader –¥–ª—è –≤–∏–¥–µ–æ
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç File –æ–±—ä–µ–∫—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è blob URL

4. **resources/js/src/features/ad-creation/model/adFormModel.ts**
   - –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ FormData –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏
   - –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞: video.{index}.file
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ —á–µ—Ä–Ω–æ–≤–∏–∫–æ–≤ vs –Ω–æ–≤—ã—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏–π

5. **resources/js/src/features/ad-creation/ui/AdForm.vue**
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ—Ä–º–æ–π —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤—Å–µ—Ö —Å–µ–∫—Ü–∏–π –≤–∫–ª—é—á–∞—è –≤–∏–¥–µ–æ
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —á–µ—Ä–Ω–æ–≤–∏–∫–∞ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è

## ‚ö†Ô∏è –í–ê–ñ–ù–´–ï –ú–û–ú–ï–ù–¢–´

### 1. JSON –ø–æ–ª—è –∏ JsonFieldsTrait
- Laravel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç JSON –ø–æ–ª—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ/—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏
- –ù–ï –Ω—É–∂–Ω–æ –¥–µ–ª–∞—Ç—å json_decode –≤—Ä—É—á–Ω—É—é –µ—Å–ª–∏ –ø–æ–ª–µ –≤ $jsonFields
- –ü—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å PHP –º–∞—Å—Å–∏–≤, –Ω–µ JSON —Å—Ç—Ä–æ–∫—É

### 2. Blob URL vs Base64
- **Blob URL** - —Å—Å—ã–ª–∫–∞ –Ω–∞ —Ñ–∞–π–ª –≤ –ø–∞–º—è—Ç–∏ –±—Ä–∞—É–∑–µ—Ä–∞ (blob:http://...)
- **Base64** - —Ñ–∞–π–ª –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤ —Å—Ç—Ä–æ–∫—É (data:video/mp4;base64,...)
- –î–ª—è –≤–∏–¥–µ–æ –í–°–ï–ì–î–ê –∏—Å–ø–æ–ª—å–∑—É–µ–º blob URL, –Ω–µ base64!
- Base64 –ø–æ–¥—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

### 3. FormData –∏ —Ñ–∞–π–ª—ã
- Laravel –æ–∂–∏–¥–∞–µ—Ç FormData –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞: `video.0.file`, `video.1.file` –∏ —Ç.–¥.
- –ò–ª–∏ –ø—Ä–æ—Å—Ç–æ `video` –¥–ª—è –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞

### 4. –û—á–∏—Å—Ç–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤
- –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –≤—ã–∑—ã–≤–∞—Ç—å URL.revokeObjectURL() –¥–ª—è blob URL
- –ò–Ω–∞—á–µ –±—É–¥–µ—Ç —É—Ç–µ—á–∫–∞ –ø–∞–º—è—Ç–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ

## üéØ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å:
1. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–∏–¥–µ–æ - –¥–æ–ª–∂–Ω–æ —Å—Ä–∞–∑—É –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–µ–≤—å—é
2. ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ —á–µ—Ä–Ω–æ–≤–∏–∫ - –≤–∏–¥–µ–æ –¥–æ–ª–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å—Å—è
3. ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–Ω–æ–≤–∏–∫–∞ - –≤–∏–¥–µ–æ –¥–æ–ª–∂–Ω–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å—Å—è
4. ‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –≤–∏–¥–µ–æ
5. ‚úÖ –ü—É–±–ª–∏–∫–∞—Ü–∏—è - –≤–∏–¥–µ–æ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—Å—è –∏–∑ —á–µ—Ä–Ω–æ–≤–∏–∫–∞

### –¢–µ—Å—Ç–æ–≤—ã–µ URL:
- –°–æ–∑–¥–∞–Ω–∏–µ: http://spa.test/ad/create
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: http://spa.test/ads/{id}/edit
- –ß–µ—Ä–Ω–æ–≤–∏–∫–∏: http://spa.test/profile (–≤–∫–ª–∞–¥–∫–∞ –ß–µ—Ä–Ω–æ–≤–∏–∫–∏)

## üìù –£–†–û–ö–ò –ù–ê –ë–£–î–£–©–ï–ï

1. **–í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö**
   - –ß—Ç–æ –æ–∂–∏–¥–∞–µ—Ç backend (—Ñ–∞–π–ª, base64, URL)
   - –ß—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç frontend (File, Blob, string)

2. **–°–ª–µ–¥–∏—Ç–µ –∑–∞ JSON –ø–æ–ª—è–º–∏**
   - –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è JsonFieldsTrait - –Ω–µ –¥–µ–∫–æ–¥–∏—Ä—É–π—Ç–µ –≤—Ä—É—á–Ω—É—é
   - –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —á—Ç–æ –ø–æ–ª–µ –≤ –º–∞—Å—Å–∏–≤–µ $jsonFields

3. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤–µ—Å—å –ø—É—Ç—å**
   - –û—Ç –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–∞ –¥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –ë–î
   - –û—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑ –ë–î –¥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è

4. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è**
   - –ß—Ç–æ –±—ã–ª–æ, —á—Ç–æ —Å—Ç–∞–ª–æ, –ø–æ—á–µ–º—É –∏–∑–º–µ–Ω–∏–ª–∏
   - –≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –ø—Ä–∏ –±—É–¥—É—â–∏—Ö –ø—Ä–æ–±–ª–µ–º–∞—Ö

## ‚úÖ –†–ï–ó–£–õ–¨–¢–ê–¢

–í—Å–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –≤–∏–¥–µ–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã:
- –í–∏–¥–µ–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ —á–µ—Ä–Ω–æ–≤–∏–∫
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
- –ù–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ —Å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã–º —Ñ–æ—Ç–æ
- –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ (blob URL –≤–º–µ—Å—Ç–æ base64)

---
*–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏ —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –ø—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø–æ—Ö–æ–∂–∏—Ö –ø—Ä–æ–±–ª–µ–º –≤ –±—É–¥—É—â–µ–º.*