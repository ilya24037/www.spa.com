# üìù –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—é –≤ –ø—Ä–æ–µ–∫—Ç–µ SPA Platform

## üìä –û–±–∑–æ—Ä

–í –ø—Ä–æ–µ–∫—Ç–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä–∞—è –≤–∫–ª—é—á–∞–µ—Ç:

1. **Pre-commit hooks** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ debug –∫–æ–¥–∞ –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º
2. **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π logger** - –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è frontend
3. **Production-ready** - console.error/warn –æ—Å—Ç–∞–≤–ª–µ–Ω—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫

## üõ°Ô∏è Pre-commit Hook

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

Hook –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏:
```bash
npm install
```

–ò–ª–∏ –≤—Ä—É—á–Ω—É—é:
```bash
npm run prepare
```

### –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è

**PHP —Ñ–∞–π–ª—ã:**
- `dd()`
- `dump()`
- `var_dump()`
- `print_r()`
- `var_export()`
- `die()`
- `exit()`

**JS/Vue/TS —Ñ–∞–π–ª—ã:**
- `console.log()`
- `debugger`

### –ü—Ä–æ–ø—É—Å–∫ –ø—Ä–æ–≤–µ—Ä–∫–∏

–ï—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–¥–µ–ª–∞—Ç—å –∫–æ–º–º–∏—Ç —Å debug –∫–æ–¥–æ–º (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):
```bash
git commit --no-verify -m "–í–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ"
```

## üì¶ Logger –¥–ª—è Frontend

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```typescript
import { logger } from '@/shared/lib/logger'

// Debug —É—Ä–æ–≤–µ–Ω—å (—Ç–æ–ª—å–∫–æ –≤ dev —Ä–µ–∂–∏–º–µ)
logger.debug('–î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏')

// Info —É—Ä–æ–≤–µ–Ω—å
logger.info('–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–∞–±–æ—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è')

// Warning —É—Ä–æ–≤–µ–Ω—å
logger.warn('–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –ø—Ä–æ–±–ª–µ–º–µ')

// Error —É—Ä–æ–≤–µ–Ω—å
logger.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏', error)

// Fatal —É—Ä–æ–≤–µ–Ω—å (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏)
logger.fatal('–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞', error)
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–æ Vue –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

```vue
<script setup lang="ts">
import { useLogger } from '@/shared/composables/useLogger'

const logger = useLogger('MyComponent')

const handleSubmit = async () => {
  try {
    logger.info('–ù–∞—á–∞–ª–æ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã')
    const result = await submitForm()
    logger.info('–§–æ—Ä–º–∞ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞', { formId: result.id })
  } catch (error) {
    logger.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ñ–æ—Ä–º—ã', error, { 
      userId: currentUser.value?.id 
    })
  }
}
</script>
```

### –ö–æ–Ω—Ç–µ–∫—Å—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

Logger –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–ª—è –ª—É—á—à–µ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è –æ—à–∏–±–æ–∫:

```typescript
logger.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö', error, {
  module: 'UserProfile',
  action: 'loadUserData',
  userId: 123,
  metadata: {
    endpoint: '/api/users/123',
    attemptNumber: 3
  }
})
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Logger

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

```typescript
{
  enabled: true,                    // –í production –≤–∫–ª—é—á–µ–Ω–æ
  level: 'warn',                    // –í production —Ç–æ–ª—å–∫–æ warn –∏ –≤—ã—à–µ
  prefix: '[SPA]',                  // –ü—Ä–µ—Ñ–∏–∫—Å –¥–ª—è –≤—Å–µ—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
  sendToServer: true,               // –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä –≤ production
  serverEndpoint: '/api/logs',      // Endpoint –¥–ª—è –ª–æ–≥–æ–≤
  includeTimestamp: true,           // –î–æ–±–∞–≤–ª—è—Ç—å timestamp
  includeStackTrace: true           // –í–∫–ª—é—á–∞—Ç—å stack trace –¥–ª—è –æ—à–∏–±–æ–∫
}
```

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```typescript
import { logger } from '@/shared/lib/logger'

// –ò–∑–º–µ–Ω–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
logger.updateConfig({ level: 'debug' })

// –û—Ç–∫–ª—é—á–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä
logger.updateConfig({ sendToServer: false })
```

## üìã –ü–æ–ª–∏—Ç–∏–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

### ‚úÖ –ß—Ç–æ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å

1. **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏** - –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `logger.error()` –∏–ª–∏ `logger.fatal()`
2. **–í–∞–∂–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è** - –Ω–∞—á–∞–ª–æ/–æ–∫–æ–Ω—á–∞–Ω–∏–µ –≤–∞–∂–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —á–µ—Ä–µ–∑ `logger.info()`
3. **–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è** - –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —á–µ—Ä–µ–∑ `logger.warn()`
4. **–û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è** - —Ç–æ–ª—å–∫–æ –≤ dev —Ä–µ–∂–∏–º–µ —á–µ—Ä–µ–∑ `logger.debug()`

### ‚ùå –ß—Ç–æ –ù–ï –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ** - –ø–∞—Ä–æ–ª–∏, —Ç–æ–∫–µ–Ω—ã, –ª–∏—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
2. **–í—Ä–µ–º–µ–Ω–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ debugger –≤ dev —Ä–µ–∂–∏–º–µ
3. **–ß–∞—Å—Ç—ã–µ —Å–æ–±—ã—Ç–∏—è** - –Ω–µ –ª–æ–≥–∏—Ä—É–π—Ç–µ –∫–∞–∂–¥—ã–π –∫–ª–∏–∫ –∏–ª–∏ —Å–∫—Ä–æ–ª–ª

### üìä –£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

| –£—Ä–æ–≤–µ–Ω—å | –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å | Production | Development |
|---------|-------------------|------------|-------------|
| `debug` | –î–µ—Ç–∞–ª—å–Ω–∞—è –æ—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è | ‚ùå | ‚úÖ |
| `info` | –í–∞–∂–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ | ‚ùå | ‚úÖ |
| `warn` | –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã | ‚úÖ | ‚úÖ |
| `error` | –û—à–∏–±–∫–∏, –Ω–µ –ø—Ä–µ—Ä—ã–≤–∞—é—â–∏–µ —Ä–∞–±–æ—Ç—É | ‚úÖ | ‚úÖ |
| `fatal` | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ | ‚úÖ | ‚úÖ |

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è —Å console

### –ë—ã–ª–æ
```javascript
console.log('User logged in', { userId: user.id })
console.error('Failed to load user data', error)
console.warn('API response slow', { duration: 5000 })
```

### –°—Ç–∞–ª–æ
```javascript
logger.info('User logged in', { userId: user.id })
logger.error('Failed to load user data', error)
logger.warn('API response slow', { metadata: { duration: 5000 } })
```

## üöÄ Best Practices

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å** - –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `error` –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
2. **–î–æ–±–∞–≤–ª—è–π—Ç–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç** - –≤—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞–π—Ç–µ –º–æ–¥—É–ª—å –∏ –¥–µ–π—Å—Ç–≤–∏–µ
3. **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä—É–π—Ç–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–±—ä–µ–∫—Ç metadata –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
4. **–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –æ—à–∏–±–∫–∏** - –æ–±–æ—Ä–∞—á–∏–≤–∞–π—Ç–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –∫–æ–¥ –≤ try/catch
5. **–ù–µ –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª—è–π—Ç–µ** - –ª–æ–≥–∏—Ä—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –≤–∞–∂–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é

## üì° –°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å

Logger –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—à–∏–±–∫–∏ —É—Ä–æ–≤–Ω—è `error` –∏ `fatal` –Ω–∞ —Å–µ—Ä–≤–µ—Ä –≤ production —Ä–µ–∂–∏–º–µ.

### –§–æ—Ä–º–∞—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö

```json
{
  "level": "error",
  "message": "Failed to load user data",
  "context": {
    "module": "UserProfile",
    "userId": 123
  },
  "error": {
    "message": "Network error",
    "stack": "Error: Network error\n    at ...",
    "name": "NetworkError"
  },
  "timestamp": "2025-08-05T10:30:00.000Z",
  "userAgent": "Mozilla/5.0 ...",
  "url": "https://spa.com/profile/123"
}
```

## üîç –û—Ç–ª–∞–¥–∫–∞

### –í–∫–ª—é—á–µ–Ω–∏–µ debug —Ä–µ–∂–∏–º–∞ –≤ production

```javascript
// –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
localStorage.setItem('debug_mode', 'true')
location.reload()
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –ª–æ–≥–æ–≤

```javascript
// –í—Ä–µ–º–µ–Ω–Ω–æ –≤–∫–ª—é—á–∏—Ç—å –≤—Å–µ —É—Ä–æ–≤–Ω–∏
logger.updateConfig({ level: 'debug', enabled: true })
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ logger](/resources/js/src/shared/lib/logger/logger.ts)
- [Composable –¥–ª—è Vue](/resources/js/src/shared/composables/useLogger.ts)
- [Pre-commit hook —Å–∫—Ä–∏–ø—Ç](/scripts/check-debug-code.js)