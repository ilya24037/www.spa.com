<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç Yandex Maps API (–ø—Ä—è–º–æ–π)</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: Arial, sans-serif;
        }
        #map {
            width: 100%;
            height: 400px;
            border: 2px solid #ccc;
            background: #f0f0f0;
        }
        .info {
            margin: 20px 0;
            padding: 10px;
            background: #e8f4f8;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <h1>–¢–µ—Å—Ç Yandex Maps API (–ø—Ä—è–º–æ–π)</h1>
    
    <div class="info">
        <p><strong>–¶–µ–ª—å:</strong> –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É Yandex Maps API –±–µ–∑ iframe</p>
        <p><strong>API Key:</strong> <span id="api-key">–ó–∞–≥—Ä—É–∑–∫–∞...</span></p>
        <p><strong>–°—Ç–∞—Ç—É—Å:</strong> <span id="status">–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è...</span></p>
    </div>
    
    <div id="map"></div>
    
    <div class="info">
        <p><strong>–õ–æ–≥–∏:</strong></p>
        <div id="logs" style="background: #f9f9f9; padding: 10px; border-radius: 3px; font-family: monospace; font-size: 12px; max-height: 200px; overflow-y: auto;"></div>
    </div>

    <script>
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
        function log(message) {
            const logs = document.getElementById('logs');
            const time = new Date().toLocaleTimeString();
            logs.innerHTML += `[${time}] ${message}<br>`;
            logs.scrollTop = logs.scrollHeight;
            console.log(message);
        }
        
        // –ü–æ–ª—É—á–∞–µ–º API –∫–ª—é—á –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è
        const apiKey = 'YOUR_YANDEX_MAPS_API_KEY'; // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à –∫–ª—é—á
        document.getElementById('api-key').textContent = apiKey;
        
        let myMap = null;
        
        // –§—É–Ω–∫—Ü–∏—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–∞—Ä—Ç—ã
        function initMap() {
            log('üöÄ –ù–∞—á–∏–Ω–∞–µ–º –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –∫–∞—Ä—Ç—ã...');
            
            try {
                // –°–æ–∑–¥–∞–µ–º –∫–∞—Ä—Ç—É —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
                myMap = new ymaps.Map('map', {
                    center: [55.7558, 37.6176], // –ú–æ—Å–∫–≤–∞
                    zoom: 12
                }, {
                    suppressMapOpenBlock: true,
                    yandexMapDisablePoiInteractivity: true,
                    suppressObsoleteBrowserNotifier: true
                });
                
                log('‚úÖ –ö–∞—Ä—Ç–∞ —Å–æ–∑–¥–∞–Ω–∞ —É—Å–ø–µ—à–Ω–æ');
                
                // –î–æ–±–∞–≤–ª—è–µ–º –º–∞—Ä–∫–µ—Ä
                const marker = new ymaps.Placemark([55.7558, 37.6176], {
                    balloonContent: '–ú–æ—Å–∫–≤–∞, –ö—Ä–∞—Å–Ω–∞—è –ø–ª–æ—â–∞–¥—å, 1'
                });
                
                myMap.geoObjects.add(marker);
                log('‚úÖ –ú–∞—Ä–∫–µ—Ä –¥–æ–±–∞–≤–ª–µ–Ω');
                
                // –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–Ω—Ç—Ä–æ–ª—ã
                myMap.controls.add('zoomControl', {
                    position: {top: 10, left: 10}
                });
                log('‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã');
                
                document.getElementById('status').textContent = '–ö–∞—Ä—Ç–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ';
                document.getElementById('status').style.color = 'green';
                
            } catch (error) {
                log('‚ùå –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Ä—Ç—ã: ' + error.message);
                document.getElementById('status').textContent = '–û—à–∏–±–∫–∞: ' + error.message;
                document.getElementById('status').style.color = 'red';
            }
        }
        
        // –ó–∞–≥—Ä—É–∂–∞–µ–º Yandex Maps API
        function loadYandexMaps() {
            log('üì° –ó–∞–≥—Ä—É–∂–∞–µ–º Yandex Maps API...');
            
            const script = document.createElement('script');
            script.src = `https://api-maps.yandex.ru/2.1/?apikey=${apiKey}&lang=ru_RU`;
            script.onload = function() {
                log('‚úÖ Yandex Maps API –∑–∞–≥—Ä—É–∂–µ–Ω');
                ymaps.ready(initMap);
            };
            script.onerror = function() {
                log('‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ Yandex Maps API');
                document.getElementById('status').textContent = '–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ API';
                document.getElementById('status').style.color = 'red';
            };
            
            document.head.appendChild(script);
        }
        
        // –ó–∞–ø—É—Å–∫–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É
        loadYandexMaps();
    </script>
</body>
</html>
