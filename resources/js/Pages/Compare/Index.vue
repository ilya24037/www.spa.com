<template>
    <Head title="–°—Ä–∞–≤–Ω–µ–Ω–∏–µ" />
    
    <!-- –û–±–µ—Ä—Ç–∫–∞ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –æ—Ç—Å—Ç—É–ø–∞–º–∏ –∫–∞–∫ –Ω–∞ –¥—Ä—É–≥–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö -->
    <div class="py-6 lg:py-8">
        
        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç —Å –≥—ç–ø–æ–º –º–µ–∂–¥—É –±–ª–æ–∫–∞–º–∏ -->
        <div class="flex gap-6">
            
            <!-- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å -->
            <ProfileSidebar 
                :counts="counts"
                :user-stats="userStats"
            />
            
            <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
            <main class="flex-1">
                <ContentCard title="–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–∞—Å—Ç–µ—Ä–æ–≤">
                    <div v-if="compareList.length > 0">
                        <!-- –¢–∞–±–ª–∏—Ü–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è -->
                        <div class="bg-gray-50 rounded-lg overflow-hidden">
                            <table class="w-full">
                                <thead class="bg-gray-100">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">–ü–∞—Ä–∞–º–µ—Ç—Ä</th>
                                        <th v-for="master in compareList" :key="master.id" class="px-6 py-3 text-left">
                                            <div class="flex items-center">
                                                <img :src="master.photo" :alt="master.name" class="w-12 h-12 rounded-full mr-3">
                                                <div>
                                                    <div class="font-medium">{{ master.name }}</div>
                                                    <div class="text-sm text-gray-500">{{ master.specialization }}</div>
                                                </div>
                                            </div>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white">
                                    <tr class="border-t">
                                        <td class="px-6 py-4 font-medium">–¶–µ–Ω–∞ –∑–∞ —á–∞—Å</td>
                                        <td v-for="master in compareList" :key="master.id" class="px-6 py-4">
                                            {{ formatPrice(master.pricePerHour) }}
                                        </td>
                                    </tr>
                                    <tr class="border-t">
                                        <td class="px-6 py-4 font-medium">–†–µ–π—Ç–∏–Ω–≥</td>
                                        <td v-for="master in compareList" :key="master.id" class="px-6 py-4">
                                            {{ master.rating }} ‚≠ê
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <div v-else class="text-center py-12">
                        <svg class="mx-auto h-12 w-12 text-gray-400 mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
                        </svg>
                        <p class="text-gray-500 text-lg mb-4">–î–æ–±–∞–≤—å—Ç–µ –º–∞—Å—Ç–µ—Ä–æ–≤ –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è</p>
                        <Link 
                            href="/" 
                            class="inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"
                        >
                            –ù–∞–π—Ç–∏ –º–∞—Å—Ç–µ—Ä–æ–≤
                        </Link>
                    </div>
                </ContentCard>
            </main>
        </div>
    </div>
</template>

<script setup>
import { Head, Link } from '@inertiajs/vue3'
// üéØ FSD –ò–º–ø–æ—Ä—Ç—ã
import ProfileSidebar from '@/src/shared/ui/organisms/ProfileSidebar/ProfileSidebar.vue'
import ContentCard from '@/src/shared/ui/organisms/ContentCard/ContentCard.vue'

defineProps({
    compareList: {
        type: Array,
        default: () => []
    },
    counts: {
        type: Object,
        default: () => ({})
    },
    userStats: {
        type: Object,
        default: () => ({})
    }
})

const formatPrice = (price) => {
    return new Intl.NumberFormat('ru-RU').format(price) + ' ‚ÇΩ'
}
</script>