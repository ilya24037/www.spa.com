<!-- resources/js/Pages/AddItem.vue - FSD Refactored -->
<template>
  <Head title="–ù–æ–≤–æ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ ‚Äî –û–±—ä—è–≤–ª–µ–Ω–∏—è –Ω–∞ —Å–∞–π—Ç–µ Massagist" />
  
  <div class="min-h-screen bg-gray-50">
    <div class="max-w-4xl mx-auto py-8 px-4 sm:px-6 lg:px-8">
      
      <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è –Ω–∞–∑–∞–¥ -->
      <BackButton 
        href="/" 
        text="–ù–∞–∑–∞–¥"
        class="mb-6"
      />

      <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
      <div class="mb-8">
        <h1 class="text-2xl font-normal text-gray-900 mb-2">–ù–æ–≤–æ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ</h1>
        
        <!-- –•–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏ -->
        <Breadcrumbs
          :items="[
            { title: '–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ —É—Å–ª—É–≥' },
            { title: '–ö—Ä–∞—Å–æ—Ç–∞' },
            { title: '–≠—Ä–æ—Ç–∏—á–µ—Å–∫–∏–π –º–∞—Å—Å–∞–∂' }
          ]"
          separator="‚Ä∫"
          class="text-sm"
        />
      </div>

      <!-- FSD Entity: –§–æ—Ä–º–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏—è -->
      <div class="bg-white rounded-lg shadow-sm">
        <AdForm 
          category="erotic"
          :categories="categories"
          :initial-data="initialData"
          @success="handleSuccess"
          @draft-saved="handleDraftSaved"
        />
      </div>
      
    </div>
  </div>
</template>

<script setup lang="ts">
import { Head, router } from '@inertiajs/vue3'

// üéØ FSD –ò–º–ø–æ—Ä—Ç—ã
import Breadcrumbs from '@/src/shared/ui/molecules/Breadcrumbs/Breadcrumbs.vue'
import BackButton from '@/src/shared/ui/atoms/BackButton/BackButton.vue'
import AdForm from '@/src/entities/ad/ui/AdForm/AdForm.vue'

// –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ (—Ç–æ–ª—å–∫–æ —ç—Ä–æ—Ç–∏—á–µ—Å–∫–∏–π –º–∞—Å—Å–∞–∂)
const categories = [
  { id: 'erotic', name: '–≠—Ä–æ—Ç–∏—á–µ—Å–∫–∏–π –º–∞—Å—Å–∞–∂' }
]

// –ù–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ñ–æ—Ä–º—ã
const initialData = {
  category: 'erotic',
  specialty: 'erotic_massage'
}

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
const handleSuccess = (response) => {
  
  // –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
  if (response.ad && response.ad.id) {
    router.visit(`/ads/${response.ad.id}`)
  } else {
    router.visit('/my-ads')
  }
}

const handleDraftSaved = (draftData) => {
  // –ú–æ–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
}
</script> 