<template>
  <FormField
    label="–ü—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± —Å–≤—è–∑–∏"
    hint="–ö–∞–∫ –∫–ª–∏–µ–Ω—Ç–∞–º –ª—É—á—à–µ —Å –≤–∞–º–∏ —Å–≤—è–∑—ã–≤–∞—Ç—å—Å—è"
    :error="error"
  >
    <!-- –ò—Å–ø–æ–ª—å–∑—É–µ–º –≥–æ—Ç–æ–≤—ã–µ BaseRadio –≤–º–µ—Å—Ç–æ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –∫–∞—Ä—Ç–æ—á–µ–∫ -->
    <div class="space-y-3">
      <BaseRadio
        v-for="method in contactMethods"
        :key="method.value"
        v-model="localValue"
        :value="method.value"
        :label="method.title"
        :description="method.description"
        :icon="method.icon"
      />
    </div>
  </FormField>
</template>

<script setup>
import { ref, watch } from 'vue'
import BaseRadio from '@/Components/UI/BaseRadio.vue'
import FormField from '@/Components/UI/Forms/FormField.vue'

const props = defineProps({
  modelValue: { type: String, default: '' },
  error: { type: String, default: '' }
})

const emit = defineEmits(['update:modelValue'])

const localValue = ref(props.modelValue)

watch(() => props.modelValue, (newValue) => {
  localValue.value = newValue || ''
})

watch(localValue, (newValue) => {
  emit('update:modelValue', newValue)
})

// –°–ø–æ—Å–æ–±—ã —Å–≤—è–∑–∏
const contactMethods = [
  {
    value: 'call',
    title: '–ó–≤–æ–Ω–æ–∫',
    description: '–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞—é –≥–æ–ª–æ—Å–æ–≤–æ–µ –æ–±—â–µ–Ω–∏–µ',
    icon: 'üìû'
  },
  {
    value: 'sms',
    title: 'SMS',
    description: '–£–¥–æ–±–Ω–æ –ø–æ–ª—É—á–∞—Ç—å —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è',
    icon: 'üí¨'
  },
  {
    value: 'whatsapp',
    title: 'WhatsApp',
    description: '–û–±—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ WhatsApp',
    icon: 'üì±'
  },
  {
    value: 'telegram',
    title: 'Telegram',
    description: '–ü–µ—Ä–µ–ø–∏—Å–∫–∞ –≤ Telegram',
    icon: 'üì≤'
  },
  {
    value: 'any',
    title: '–õ—é–±–æ–π —Å–ø–æ—Å–æ–±',
    description: '–ü–æ–¥–æ–π–¥–µ—Ç –ª—é–±–æ–π —É–¥–æ–±–Ω—ã–π —Å–ø–æ—Å–æ–±',
    icon: 'üåê'
  }
]
</script>