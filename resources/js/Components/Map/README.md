# üó∫Ô∏è UniversalMap - –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∫–∞—Ä—Ç—ã

## üìã –û–ø–∏—Å–∞–Ω–∏–µ
–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∫–∞—Ä—Ç—ã —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π 4 —Ä–µ–∂–∏–º–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

## üéØ –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã

### 1. `preview` - –ü—Ä–µ–≤—å—é –∫–∞—Ä—Ç–∞
- **–ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è**: –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞, –∫–∞—Ç–∞–ª–æ–≥
- **–†–∞–∑–º–µ—Ä**: 400px (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- **–§—É–Ω–∫—Ü–∏–∏**: –ü–æ–∫–∞–∑ –º–∞—Ä–∫–µ—Ä–æ–≤ –º–∞—Å—Ç–µ—Ä–æ–≤, –∫–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –Ω–∞ —Å–ø–∏—Å–æ–∫
- **–ö–æ–Ω—Ç—Ä–æ–ª—ã**: –ù–µ—Ç

```vue
<UniversalMap 
  mode="preview"
  :markers="masters"
  title="12 –º–∞—Å—Ç–µ—Ä–æ–≤"
  subtitle="–ü–µ—Ä–º—å"
  :action-button="{ text: '–ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–∫–æ–º', action: 'toggle-list' }"
  @action-click="handleActionClick"
  @marker-click="handleMasterClick"
/>
```

### 2. `full` - –ü–æ–ª–Ω–∞—è –∫–∞—Ä—Ç–∞
- **–ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è**: –û—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–∞—Ä—Ç—ã, –ø–æ–∏—Å–∫
- **–†–∞–∑–º–µ—Ä**: 500px (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- **–§—É–Ω–∫—Ü–∏–∏**: –í—Å–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∫–∞—Ä—Ç—ã
- **–ö–æ–Ω—Ç—Ä–æ–ª—ã**: –ó—É–º, –≥–µ–æ–ª–æ–∫–∞—Ü–∏—è

```vue
<UniversalMap 
  mode="full"
  :markers="masters"
  :show-controls="true"
  :show-geolocation="true"
  @zoom-change="handleZoom"
  @center-change="handleCenter"
/>
```

### 3. `picker` - –í—ã–±–æ—Ä –º–µ—Å—Ç–∞
- **–ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è**: –§–æ—Ä–º—ã –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏–π
- **–†–∞–∑–º–µ—Ä**: 200px (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- **–§—É–Ω–∫—Ü–∏–∏**: –í—ã–±–æ—Ä –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –∫–ª–∏–∫–æ–º
- **–ö–æ–Ω—Ç—Ä–æ–ª—ã**: –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è

```vue
<UniversalMap 
  mode="picker"
  placeholder-text="–ö–ª–∏–∫–Ω–∏—Ç–µ –¥–ª—è –≤—ã–±–æ—Ä–∞ –º–µ—Å—Ç–∞"
  @map-click="handleLocationSelect"
/>
```

### 4. `mini` - –ú–∏–Ω–∏ –∫–∞—Ä—Ç–∞
- **–ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è**: –ö–∞—Ä—Ç–æ—á–∫–∏ –º–∞—Å—Ç–µ—Ä–æ–≤, –ø—Ä–µ–≤—å—é
- **–†–∞–∑–º–µ—Ä**: 120px (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- **–§—É–Ω–∫—Ü–∏–∏**: –ü–æ–∫–∞–∑ –ª–æ–∫–∞—Ü–∏–∏ —Ç–æ—á–∫–æ–π
- **–ö–æ–Ω—Ç—Ä–æ–ª—ã**: –ù–µ—Ç

```vue
<UniversalMap 
  mode="mini"
  :markers="[master]"
  :height="100"
/>
```

## üîß Props

### –û—Å–Ω–æ–≤–Ω—ã–µ
| Prop | Type | Default | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|------|---------|----------|
| `mode` | String | `'preview'` | –†–µ–∂–∏–º –∫–∞—Ä—Ç—ã: `preview`, `full`, `picker`, `mini` |
| `markers` | Array | `[]` | –ú–∞—Å—Å–∏–≤ –º–∞—Ä–∫–µ—Ä–æ–≤ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è |
| `height` | Number | `null` | –í—ã—Å–æ—Ç–∞ –∫–∞—Ä—Ç—ã (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–æ —Ä–µ–∂–∏–º—É) |
| `center` | Object | `{ lat: 58.0105, lng: 56.2502 }` | –¶–µ–Ω—Ç—Ä –∫–∞—Ä—Ç—ã (–ü–µ—Ä–º—å) |

### –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
| Prop | Type | Default | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|------|---------|----------|
| `title` | String | `''` | –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∫–∞—Ä—Ç—ã (–¥–ª—è preview) |
| `subtitle` | String | `''` | –ü–æ–¥–∑–∞–≥–æ–ª–æ–≤–æ–∫ –∫–∞—Ä—Ç—ã |
| `showControls` | Boolean | `true` | –ü–æ–∫–∞–∑–∞—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª—ã –∑—É–º–∞ |
| `showGeolocation` | Boolean | `true` | –ü–æ–∫–∞–∑–∞—Ç—å –∫–Ω–æ–ø–∫—É –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ |
| `maxMarkers` | Number | `10` | –ú–∞–∫—Å–∏–º—É–º –º–∞—Ä–∫–µ—Ä–æ–≤ |

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ
| Prop | Type | Default | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|------|---------|----------|
| `actionButton` | Object | `null` | –ö–Ω–æ–ø–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è `{ text, action }` |
| `placeholderText` | String | `'–í—ã–±–µ—Ä–∏—Ç–µ –º–µ—Å—Ç–æ –Ω–∞ –∫–∞—Ä—Ç–µ'` | –¢–µ–∫—Å—Ç –¥–ª—è picker |
| `loading` | Boolean | `false` | –°–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ |

## üì§ Events

| Event | Payload | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|---------|----------|
| `marker-click` | `marker` | –ö–ª–∏–∫ –ø–æ –º–∞—Ä–∫–µ—Ä—É |
| `marker-hover` | `{ marker, isHovered }` | –ù–∞–≤–µ–¥–µ–Ω–∏–µ –Ω–∞ –º–∞—Ä–∫–µ—Ä |
| `map-click` | `{ coordinates, position, event }` | –ö–ª–∏–∫ –ø–æ –∫–∞—Ä—Ç–µ (picker) |
| `action-click` | `action` | –ö–ª–∏–∫ –ø–æ –∫–Ω–æ–ø–∫–µ –¥–µ–π—Å—Ç–≤–∏—è |
| `zoom-change` | `zoomLevel` | –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∑—É–º–∞ |
| `center-change` | `{ lat, lng }` | –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–µ–Ω—Ç—Ä–∞ |

## üìä –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö –º–∞—Ä–∫–µ—Ä–æ–≤

```javascript
const markers = [
  {
    id: 1,
    name: '–ú–∞—Å—Ç–µ—Ä –ò–≤–∞–Ω',
    price: 2000,        // –∏–ª–∏ min_price
    latitude: 58.0105,
    longitude: 56.2502,
    tooltip: {          // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
      title: '–ú–∞—Å—Ç–µ—Ä –ò–≤–∞–Ω',
      subtitle: '–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –º–∞—Å—Å–∞–∂'
    }
  }
]
```

## üé® –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç —Å—Ç–∏–ª–∏ –ø–æ–¥ —Ä–µ–∂–∏–º:

- **preview**: –ì–æ–ª—É–±—ã–µ –º–∞—Ä–∫–µ—Ä—ã —Å —Ü–µ–Ω–æ–π
- **picker**: –ó–µ–ª–µ–Ω—ã–µ –º–∞—Ä–∫–µ—Ä—ã, –ø—É–Ω–∫—Ç–∏—Ä–Ω–∞—è —Ä–∞–º–∫–∞
- **full**: –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏, –±–µ–ª—ã–µ –∫–æ–Ω—Ç—Ä–æ–ª—ã
- **mini**: –ú–∞–ª–µ–Ω—å–∫–∏–µ —Ç–æ—á–∫–∏, –º–∏–Ω–∏–º—É–º —ç–ª–µ–º–µ–Ω—Ç–æ–≤

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è —Å–æ —Å—Ç–∞—Ä—ã—Ö –∫–∞—Ä—Ç

### SimpleMap ‚Üí UniversalMap
```vue
<!-- –ë—ã–ª–æ -->
<SimpleMap :cards="masters" />

<!-- –°—Ç–∞–ª–æ -->
<UniversalMap 
  mode="preview"
  :markers="masters"
  :action-button="{ text: '–ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–∫–æ–º', action: 'toggle-list' }"
/>
```

### Map.vue ‚Üí UniversalMap
```vue
<!-- –ë—ã–ª–æ -->
<Map :cards="masters" />

<!-- –°—Ç–∞–ª–æ -->
<UniversalMap 
  mode="full"
  :markers="masters"
/>
```

## üöÄ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∫–∞—Ä—Ç–∞–º–∏

–í –±—É–¥—É—â–µ–º –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ –∑–∞–º–µ–Ω–∏—Ç—å –∑–∞–≥–ª—É—à–∫—É –Ω–∞:
- –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç—ã
- Google Maps  
- OpenStreetMap

–¢–æ—á–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏: `onMounted()` —Ö—É–∫ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ. 