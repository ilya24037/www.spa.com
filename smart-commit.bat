@echo off
chcp 65001 >nul
color 0A
title –£–º–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ v3.1

echo.
echo ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
echo ‚ïë     ü§ñ –£–ú–ù–´–ô –ü–û–ú–û–©–ù–ò–ö v3.1           ‚ïë  
echo ‚ïë     –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è       ‚ïë
echo ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
echo.

cd /d D:\www.spa.com

:menu
echo üöÄ –ß—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Å–¥–µ–ª–∞—Ç—å?
echo.
echo [1] üìù –ë—ã—Å—Ç—Ä—ã–π –æ—Ç—á–µ—Ç –¥–ª—è –ò–ò + –æ—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª
echo [2] üìä –ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–µ–∫—Ç–∞ 
echo [3] üî¨ –î–µ—Ç–∞–ª—å–Ω—ã–π –¥–∞–º–ø (–≤—Å–µ –º–µ—Ç—Ä–∏–∫–∏)
echo [4] üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ GitHub Desktop (—Ä—É—á–Ω–æ–π)
echo [5] ‚ö° –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–ª–µ–∂–µ–Ω–∏–µ
echo [6] üìÇ –ü—Ä–æ—Å—Ç–æ –æ—Ç–∫—Ä—ã—Ç—å AI_CONTEXT.md
echo [7] üìã –ü–æ–∫–∞–∑–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤ –∫–æ–Ω—Å–æ–ª–∏
echo [8] üî• –ê–í–¢–û–ö–û–ú–ú–ò–¢ + –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ GitHub
echo [9] üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —à–∞–±–ª–æ–Ω –∫–æ–º–º–∏—Ç–æ–≤
echo [0] ‚ùå –í—ã—Ö–æ–¥
echo.

set /p choice="–í—ã–±–µ—Ä–∏—Ç–µ (0-9): "

if "%choice%"=="1" goto quick_and_open
if "%choice%"=="2" goto full_analysis
if "%choice%"=="3" goto complete_dump
if "%choice%"=="4" goto github_save
if "%choice%"=="5" goto auto_watch
if "%choice%"=="6" goto open_context
if "%choice%"=="7" goto show_content
if "%choice%"=="8" goto auto_commit
if "%choice%"=="9" goto setup_template
if "%choice%"=="0" exit
goto menu

:quick_and_open
cls
echo üìù –°–æ–∑–¥–∞—é –±—ã—Å—Ç—Ä—ã–π –æ—Ç—á–µ—Ç...
echo.
php artisan ai:context --quick 2>nul
if exist AI_CONTEXT.md (
    echo ‚úÖ –ì–æ—Ç–æ–≤–æ! –û—Ç–∫—Ä—ã–≤–∞—é —Ñ–∞–π–ª...
    start notepad AI_CONTEXT.md
    echo.
    echo üí° –°–ö–û–ü–ò–†–£–ô–¢–ï –í–ï–°–¨ –¢–ï–ö–°–¢ (Ctrl+A, Ctrl+C) –ò –í–°–¢–ê–í–¨–¢–ï –í –ß–ê–¢ –° –ò–ò
) else (
    echo ‚ùå –û—à–∏–±–∫–∞: —Ñ–∞–π–ª AI_CONTEXT.md –Ω–µ —Å–æ–∑–¥–∞–Ω
)
pause
goto menu

:full_analysis
cls  
echo üìä –ó–∞–ø—É—Å–∫–∞—é –ø–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑...
echo.
php artisan ai:context 2>nul
if exist AI_CONTEXT.md (
    echo ‚úÖ –ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –≥–æ—Ç–æ–≤! –û—Ç–∫—Ä—ã–≤–∞—é —Ñ–∞–π–ª...
    start notepad AI_CONTEXT.md
) else (
    echo ‚ùå –û—à–∏–±–∫–∞: —Ñ–∞–π–ª –Ω–µ —Å–æ–∑–¥–∞–Ω
)
pause
goto menu

:complete_dump
cls
echo üî¨ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –¥–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑...
echo.
echo üìä –≠—Ç–æ –∑–∞–π–º–µ—Ç –Ω–µ–º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏...
php artisan ai:context --full 2>nul
if exist AI_CONTEXT.md (
    echo ‚úÖ –î–µ—Ç–∞–ª—å–Ω—ã–π –¥–∞–º–ø –≥–æ—Ç–æ–≤! –û—Ç–∫—Ä—ã–≤–∞—é —Ñ–∞–π–ª...
    start notepad AI_CONTEXT.md
    echo.
    echo üí° –í —Ñ–∞–π–ª–µ –ø–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:
    echo    - –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞
    echo    - –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏  
    echo    - –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
    echo    - –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
) else (
    echo ‚ùå –û—à–∏–±–∫–∞: —Ñ–∞–π–ª –Ω–µ —Å–æ–∑–¥–∞–Ω
)
pause
goto menu

:github_save
cls
echo üíæ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –∫–æ–º–º–∏—Ç–∞:
echo.
echo üìã –ü–û–®–ê–ì–û–í–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø:
echo    1. –û—Ç–∫—Ä–æ–π—Ç–µ GitHub Desktop
echo    2. –£–≤–∏–¥–∏—Ç–µ —Å–ø–∏—Å–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ —Å–ª–µ–≤–∞
echo    3. –í –ø–æ–ª–µ "Summary" –Ω–∞–ø–∏—à–∏—Ç–µ —á—Ç–æ —Å–¥–µ–ª–∞–ª–∏
echo    4. –ù–∞–∂–º–∏—Ç–µ —Å–∏–Ω—é—é –∫–Ω–æ–ø–∫—É "Commit to main"
echo    5. –ù–∞–∂–º–∏—Ç–µ "Push origin" (–æ—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ GitHub)
echo.
echo üí° –ò–õ–ò –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—É–Ω–∫—Ç [8] –¥–ª—è –∞–≤—Ç–æ–∫–æ–º–º–∏—Ç–∞!
pause
goto menu

:auto_watch
cls
echo ‚ö° –ó–∞–ø—É—Å–∫–∞—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–ª–µ–∂–µ–Ω–∏–µ...
echo.
echo üí° –°–∏—Å—Ç–µ–º–∞ –±—É–¥–µ—Ç –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å AI_CONTEXT.md
echo    –í—ã –≤—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç–µ –∏–º–µ—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç –¥–ª—è –ò–ò!
echo.
echo ‚ö†Ô∏è  –î–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–∫—Ä–æ–π—Ç–µ —ç—Ç–æ –æ–∫–Ω–æ –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ Ctrl+C
echo.
if exist auto-context.bat (
    start auto-context.bat
    echo ‚úÖ –ê–≤—Ç–æ—Å–ª–µ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –æ–∫–Ω–µ!
) else (
    echo ‚ùå –§–∞–π–ª auto-context.bat –Ω–µ –Ω–∞–π–¥–µ–Ω
    echo üí° –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª auto-context.bat
)
pause
goto menu

:open_context
cls
echo üìÇ –û—Ç–∫—Ä—ã–≤–∞—é AI_CONTEXT.md...
if exist AI_CONTEXT.md (
    start notepad AI_CONTEXT.md
    echo ‚úÖ –§–∞–π–ª –æ—Ç–∫—Ä—ã—Ç –≤ –±–ª–æ–∫–Ω–æ—Ç–µ!
    echo.
    echo üí° –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–µ—Å—å —Ç–µ–∫—Å—Ç –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –≤ —á–∞—Ç —Å –ò–ò
) else (
    echo ‚ùå –§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω. –°–æ–∑–¥–∞–π—Ç–µ –æ—Ç—á–µ—Ç (–ø—É–Ω–∫—Ç 1)
)
pause
goto menu

:show_content
cls
echo üìã –°–æ–¥–µ—Ä–∂–∏–º–æ–µ AI_CONTEXT.md:
echo.
echo ================================================
if exist AI_CONTEXT.md (
    type AI_CONTEXT.md
) else (
    echo ‚ùå –§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω. –°–æ–∑–¥–∞–π—Ç–µ –æ—Ç—á–µ—Ç (–ø—É–Ω–∫—Ç 1)
)
echo ================================================
echo.
pause
goto menu

:auto_commit
cls
echo üî• –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò–ô –ö–û–ú–ú–ò–¢ + GitHub...
echo.

:: –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–≤–µ–∂–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
echo üìù –û–±–Ω–æ–≤–ª—è—é –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –ò–ò...
php artisan ai:context --auto --quick >nul 2>&1

:: –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏ —Å–æ–∑–¥–∞–µ–º —É–º–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
echo üîç –ê–Ω–∞–ª–∏–∑–∏—Ä—É—é –∏–∑–º–µ–Ω–µ–Ω–∏—è...

git status --porcelain > temp_status.txt 2>nul
if exist temp_status.txt (
    set commit_msg=feat: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

    :: –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–∏–ø—ã –∏–∑–º–µ–Ω–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
    findstr /i "Models" temp_status.txt >nul && set commit_msg=feat: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π –¥–∞–Ω–Ω—ã—Ö
    findstr /i "Controller" temp_status.txt >nul && set commit_msg=feat: —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ API –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤  
    findstr /i "Component" temp_status.txt >nul && set commit_msg=ui: —Å–æ–∑–¥–∞–Ω–∏–µ Vue –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
    findstr /i "migration" temp_status.txt >nul && set commit_msg=db: –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ë–î
    findstr /i "AI_CONTEXT" temp_status.txt >nul && set commit_msg=docs: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ò–ò –ø–æ–º–æ—â–Ω–∏–∫–∞
    findstr /i "\.bat" temp_status.txt >nul && set commit_msg=chore: —É–ª—É—á—à–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

    del temp_status.txt >nul 2>&1

    echo üí¨ –°–æ–æ–±—â–µ–Ω–∏–µ: %commit_msg%
    echo.

    :: –í—ã–ø–æ–ª–Ω—è–µ–º –∫–æ–º–º–∏—Ç
    echo üì¶ –°–æ–∑–¥–∞—é –∫–æ–º–º–∏—Ç...
    git add .
    git commit -m "%commit_msg%"

    if %ERRORLEVEL% EQU 0 (
        echo ‚úÖ –ö–æ–º–º–∏—Ç —Å–æ–∑–¥–∞–Ω!
        echo.
        echo üöÄ –û—Ç–ø—Ä–∞–≤–ª—è—é –≤ GitHub...
        git push origin main
        
        if %ERRORLEVEL% EQU 0 (
            echo ‚úÖ –ì–û–¢–û–í–û! –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ GitHub!
            echo.
            echo üéâ –ú–æ–∂–µ—Ç–µ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ä–∞–±–æ—Ç—É!
        ) else (
            echo ‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ GitHub
            echo üí° –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
        )
    ) else (
        echo ‚ùå –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–º–º–∏—Ç–∞
        echo üí° –í–æ–∑–º–æ–∂–Ω–æ –Ω–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –¥–ª—è –∫–æ–º–º–∏—Ç–∞
    )
) else (
    echo ‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ —Å—Ç–∞—Ç—É—Å–∞ git
    echo üí° –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –ø—Ä–æ–µ–∫—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –∫–∞–∫ git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
)

echo.
pause
goto menu

:setup_template
cls
echo üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —à–∞–±–ª–æ–Ω–∞ –∫–æ–º–º–∏—Ç–æ–≤ –¥–ª—è GitHub Desktop...
echo.

:: –°–æ–∑–¥–∞–µ–º —à–∞–±–ª–æ–Ω
echo feat: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ > .gitmessage
echo. >> .gitmessage
echo - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–º–º–∏—Ç >> .gitmessage
echo - –ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –ò–ò –æ–±–Ω–æ–≤–ª–µ–Ω >> .gitmessage
echo - –ì–æ—Ç–æ–≤–æ –∫ –∞–Ω–∞–ª–∏–∑—É –ø–æ–º–æ—â–Ω–∏–∫–æ–º >> .gitmessage
echo. >> .gitmessage
echo # –¢–∏–ø—ã –∫–æ–º–º–∏—Ç–æ–≤: >> .gitmessage
echo # feat: –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å >> .gitmessage
echo # fix: –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–∞ >> .gitmessage
echo # docs: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ >> .gitmessage
echo # ui: –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ >> .gitmessage
echo # db: –∏–∑–º–µ–Ω–µ–Ω–∏—è –ë–î >> .gitmessage
echo # refactor: —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ >> .gitmessage
echo # test: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ >> .gitmessage
echo # chore: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π >> .gitmessage

:: –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º Git
git config commit.template .gitmessage 2>nul

echo ‚úÖ –®–∞–±–ª–æ–Ω –Ω–∞—Å—Ç—Ä–æ–µ–Ω!
echo.
echo üí° –¢–µ–ø–µ—Ä—å GitHub Desktop –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
echo    –∑–∞–ø–æ–ª–Ω—è—Ç—å –ø–æ–ª–µ Summary —ç—Ç–∏–º —à–∞–±–ª–æ–Ω–æ–º!
echo.
echo üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ GitHub Desktop —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
echo.
pause
goto menu