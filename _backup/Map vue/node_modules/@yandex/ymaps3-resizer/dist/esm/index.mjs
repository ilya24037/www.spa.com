var t={d:(o,e)=>{for(var i in e)t.o(e,i)&&!t.o(o,i)&&Object.defineProperty(o,i,{enumerable:!0,get:e[i]})},o:(t,o)=>Object.prototype.hasOwnProperty.call(t,o)},o={};t.d(o,{e:()=>a});const e=t=>t+"px",i={props:{direction:{validator:t=>["both","vertical","horizontal"].includes(t)},minWidth:Number,maxWidth:Number,minHeight:Number,maxHeight:Number,showOnlyOnHover:{type:Boolean,default:!1}}},s={horizontal:"ew-resize",vertical:"ns-resize",both:"nwse-resize"};class r extends ymaps3.YMapComplexEntity{constructor(){super(...arguments),this._onMouseEnter=()=>{this._props.onMouseEnter()},this._onMouseLeave=()=>{this._props.onMouseLeave()},this._onMouseDown=t=>{this._props.onMouseDown(t)}}_onAttach(){this._controlElement=this._createControl(),this._controlElement.addEventListener("mousedown",this._onMouseDown),this._controlElement.addEventListener("mouseenter",this._onMouseEnter),this._controlElement.addEventListener("mouseleave",this._onMouseLeave),this._updateControlOpacity(),this._updateArrowsOpacity(),this.root.container.appendChild(this._controlElement)}_onUpdate(t){if(void 0!==t.direction)throw new Error("Can't change the direction for the control. You must create a new element.");void 0!==t.show&&this._updateControlOpacity(),void 0!==t.showArrow&&this._updateArrowsOpacity()}_onDetach(){this._controlElement.removeEventListener("mousedown",this._onMouseDown),this._controlElement.removeEventListener("mouseenter",this._onMouseEnter),this._controlElement.removeEventListener("mouseleave",this._onMouseLeave),this.root.container.removeChild(this._controlElement)}_updateControlOpacity(){this._controlElement.style.opacity=this._props.show?"1":"0"}_updateArrowsOpacity(){this._arrowElements.forEach((t=>{t.style.opacity=this._props.showArrow?"1":"0"}))}_createControl(){const t=document.createElement("div");switch(t.style.cursor=s[this._props.direction],t.classList.add("ymaps3x0-resize-control",this._props.direction),this._props.direction){case"horizontal":const o=this._createArrow(this._props.direction,"right"),e=this._createArrow(this._props.direction,"left");return this._arrowElements=[o,e],t.appendChild(o),t.appendChild(e),t;case"vertical":const i=this._createArrow(this._props.direction,"bottom"),s=this._createArrow(this._props.direction,"top");return this._arrowElements=[i,s],t.appendChild(i),t.appendChild(s),t;case"both":const r=this._createArrow(this._props.direction,"nw"),n=this._createArrow(this._props.direction,"se");return this._arrowElements=[r,n],t.appendChild(r),t.appendChild(n),t}}_createArrow(...t){const o=document.createElement("div");return o.classList.add("ymaps3x0-resize-arrow",...t),o}}var n;const h=Object.freeze({direction:"both",showOnlyOnHover:!1});class a extends ymaps3.YMapComplexEntity{constructor(t){super(t),this._isResizing=!1,this._activeDirection=null,this._resize=t=>{const o=((t,o)=>({width:t.clientX-o.left,height:t.clientY-o.top}))(t,this._containerParent.getBoundingClientRect());"vertical"===this._activeDirection?(this._bottomControl.update({showArrow:!0}),this._containerParent.style.height=e(o.height)):"horizontal"===this._activeDirection?(this._rightControl.update({showArrow:!0}),this._containerParent.style.width=e(o.width)):"both"===this._activeDirection&&(this._bottomRightControl.update({showArrow:!0}),this._containerParent.style.width=e(o.width),this._containerParent.style.height=e(o.height))},this._stopResize=()=>{if(this._containerParent.classList.remove("active"),this._controlsList.forEach((t=>t.update({showArrow:!1}))),this._isResizing=!1,this._activeDirection=null,this._props.showOnlyOnHover){const t=!1;this._controlsList.forEach((o=>o.update({show:t})))}window.removeEventListener("mousemove",this._resize),window.removeEventListener("mouseup",this._stopResize)}}get _containerParent(){return this.root.container.parentElement}get _controlsList(){return[this._bottomControl,this._rightControl,this._bottomRightControl]}_onAttach(){const{showOnlyOnHover:t,direction:o}=this._props;this._setContainerRestrictions(),this._containerParent.classList.add("ymaps3x0-resize",o);const[e,i,s]=["vertical","horizontal","both"].map((o=>new r({direction:o,onMouseDown:t=>this._onControlMouseDown(o,t),onMouseEnter:()=>this._onControlMouseEnter(),onMouseLeave:()=>this._onControlMouseLeave(),show:!t,showArrow:!1})));this._bottomControl=e,this._rightControl=i,this._bottomRightControl=s,["both","vertical"].includes(o)&&this.addChild(this._bottomControl),["both","horizontal"].includes(o)&&this.addChild(this._rightControl),"both"===o&&this.addChild(this._bottomRightControl)}_setContainerRestrictions(){this._containerParent.style.minWidth=e(this._props.minWidth),this._containerParent.style.maxWidth=e(this._props.maxWidth),this._containerParent.style.minHeight=e(this._props.minHeight),this._containerParent.style.maxHeight=e(this._props.maxHeight)}_onUpdate(t,o){this._setContainerRestrictions(),void 0!==t.direction&&(this._containerParent.classList.replace(o.direction,t.direction),"vertical"===t.direction&&(this.addChild(this._bottomControl),this.removeChild(this._rightControl),this.removeChild(this._bottomRightControl)),"horizontal"===t.direction&&(this.addChild(this._rightControl),this.removeChild(this._bottomControl),this.removeChild(this._bottomRightControl)),"both"===t.direction&&(this.addChild(this._bottomControl),this.addChild(this._rightControl),this.addChild(this._bottomRightControl))),void 0!==t.showOnlyOnHover&&this._controlsList.forEach((o=>o.update({show:!t.showOnlyOnHover})))}_onDetach(){this._controlsList.forEach((t=>this.removeChild(t)))}_onControlMouseEnter(){if(this._props.showOnlyOnHover){const t=!0;this._controlsList.forEach((o=>o.update({show:t})))}}_onControlMouseLeave(){if(this._props.showOnlyOnHover&&!this._isResizing){const t=!1;this._controlsList.forEach((o=>o.update({show:t})))}}_onControlMouseDown(t,o){this._containerParent.classList.add("active"),this._isResizing=!0,this._activeDirection=t,o.preventDefault(),window.addEventListener("mousemove",this._resize),window.addEventListener("mouseup",this._stopResize)}}n=ymaps3.optionsKeyVuefy,a.defaultProps=h,a[n]=i;var c=o.e;export{c as YMapResizer};