# üéÆ MapBehaviors - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–≤–µ–¥–µ–Ω–∏—è–º–∏ –∫–∞—Ä—Ç—ã Yandex Maps

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–ú–æ–¥—É–ª—å `MapBehaviors` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏ –∫–∞—Ä—Ç—ã –Ø–Ω–¥–µ–∫—Å. –ü–æ–∑–≤–æ–ª—è–µ—Ç –≤–∫–ª—é—á–∞—Ç—å/–æ—Ç–∫–ª—é—á–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ –ø–æ–≤–µ–¥–µ–Ω–∏—è, –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —Ä–µ–∂–∏–º—ã.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üñ±Ô∏è **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ–º** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ drag —Å –∏–Ω–µ—Ä—Ü–∏–µ–π
- üîç **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ** - –¥–≤–æ–π–Ω–æ–π –∫–ª–∏–∫, –∫–æ–ª–µ—Å–æ –º—ã—à–∏, –º—É–ª—å—Ç–∏—Ç–∞—á
- üëÜ **–ú—É–ª—å—Ç–∏—Ç–∞—á –∂–µ—Å—Ç—ã** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–µ–Ω—Å–æ—Ä–Ω—ã—Ö —ç–∫—Ä–∞–Ω–æ–≤
- üîé **–õ—É–ø–∞** - —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –ø—Ä–∞–≤–æ–π/–ª–µ–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –º—ã—à–∏
- üìè **–ò–∑–º–µ—Ä–µ–Ω–∏—è** - –ª–∏–Ω–µ–π–∫–∞ –¥–ª—è –∏–∑–º–µ—Ä–µ–Ω–∏—è —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–π
- üõ£Ô∏è **–ú–∞—Ä—à—Ä—É—Ç—ã** - —Ä–µ–¥–∞–∫—Ç–æ—Ä –º–∞—Ä—à—Ä—É—Ç–æ–≤
- üö´ **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è** - –æ–±–ª–∞—Å—Ç–∏ –∫–∞—Ä—Ç—ã –∏ –¥–∏–∞–ø–∞–∑–æ–Ω—ã –∑—É–º–∞
- üîí **–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞** - –ø–æ–ª–Ω–æ–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- üì± **–ú–æ–±–∏–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è
- üí° **TypeScript** - –ø–æ–ª–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è
- üéÆ **Vue 3** - –≥–æ—Ç–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å Composition API

## üì¶ –°–æ—Å—Ç–∞–≤ –º–æ–¥—É–ª—è

```
behaviors/
‚îú‚îÄ‚îÄ MapBehaviors.js       # –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å (724 —Å—Ç—Ä–æ–∫–∏)
‚îú‚îÄ‚îÄ MapBehaviors.d.ts     # TypeScript –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
‚îú‚îÄ‚îÄ MapBehaviors.vue      # Vue 3 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (506 —Å—Ç—Ä–æ–∫)
‚îî‚îÄ‚îÄ README.md             # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### Vanilla JavaScript

```javascript
import YMapsCore from '../core/YMapsCore.js'
import MapBehaviors from './MapBehaviors.js'

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞—Ä—Ç—ã
const mapsCore = new YMapsCore({ apiKey: 'your-key' })
const map = await mapsCore.createMap('map-container', {
  center: [55.753994, 37.622093],
  zoom: 10
})

// –°–æ–∑–¥–∞–Ω–∏–µ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –ø–æ–≤–µ–¥–µ–Ω–∏–π
const behaviors = new MapBehaviors(map, {
  drag: true,
  dblClickZoom: true,
  scrollZoom: true,
  multiTouch: true,
  dragOptions: {
    inertia: true,
    cursor: 'grab'
  }
})

// –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–≤–µ–¥–µ–Ω–∏—è–º–∏
behaviors.disableScrollZoom() // –û—Ç–∫–ª—é—á–∏—Ç—å –∑—É–º –∫–æ–ª–µ—Å–æ–º
behaviors.enableRuler() // –í–∫–ª—é—á–∏—Ç—å –ª–∏–Ω–µ–π–∫—É
behaviors.lock() // –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∫–∞—Ä—Ç—É
behaviors.unlock() // –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å
```

### Vue 3

```vue
<template>
  <div class="map-container">
    <div id="map" style="height: 500px"></div>
    
    <YMapsBehaviors
      :map="mapInstance"
      :drag="settings.drag"
      :scroll-zoom="settings.scrollZoom"
      :dbl-click-zoom="settings.dblClickZoom"
      :locked="isLocked"
      @drag-start="onDragStart"
      @drag-end="onDragEnd"
      @zoom-change="onZoomChange"
    />
    
    <div class="controls">
      <label>
        <input v-model="settings.drag" type="checkbox" />
        –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ
      </label>
      <label>
        <input v-model="settings.scrollZoom" type="checkbox" />
        –ó—É–º –∫–æ–ª–µ—Å–æ–º
      </label>
      <label>
        <input v-model="settings.dblClickZoom" type="checkbox" />
        –ó—É–º –¥–≤–æ–π–Ω—ã–º –∫–ª–∏–∫–æ–º
      </label>
      <button @click="toggleLock">
        {{ isLocked ? '–†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å' : '–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å' }}
      </button>
    </div>
  </div>
</template>

<script setup>
import { ref, reactive, onMounted } from 'vue'
import YMapsCore from '@/ymaps-components/core/YMapsCore'
import YMapsBehaviors from '@/ymaps-components/behaviors/MapBehaviors.vue'

const mapInstance = ref(null)
const isLocked = ref(false)

const settings = reactive({
  drag: true,
  scrollZoom: true,
  dblClickZoom: true
})

onMounted(async () => {
  const mapsCore = new YMapsCore({ apiKey: 'your-key' })
  mapInstance.value = await mapsCore.createMap('map', {
    center: [55.753994, 37.622093],
    zoom: 10
  })
})

const toggleLock = () => {
  isLocked.value = !isLocked.value
}

const onDragStart = (event) => {
  console.log('–ù–∞—á–∞–ª–æ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è')
}

const onDragEnd = (event) => {
  console.log('–ö–æ–Ω–µ—Ü –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è')
}

const onZoomChange = (event) => {
  console.log('–ò–∑–º–µ–Ω–µ–Ω–∏–µ –º–∞—Å—à—Ç–∞–±–∞')
}
</script>
```

## üìñ API Reference

### –ö–ª–∞—Å—Å MapBehaviors

#### –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä

```javascript
new MapBehaviors(map, options)
```

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|----------|
| `map` | Object | –≠–∫–∑–µ–º–ø–ª—è—Ä –∫–∞—Ä—Ç—ã Yandex Maps |
| `options` | Object | –û–ø—Ü–∏–∏ –ø–æ–≤–µ–¥–µ–Ω–∏–π |

#### –ú–µ—Ç–æ–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–≤–µ–¥–µ–Ω–∏—è–º–∏

##### enable(behavior)
–í–∫–ª—é—á–∞–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∏–ª–∏ –º–∞—Å—Å–∏–≤ –ø–æ–≤–µ–¥–µ–Ω–∏–π.

```javascript
behaviors.enable('drag')
behaviors.enable(['drag', 'scrollZoom', 'dblClickZoom'])
```

##### disable(behavior)
–û—Ç–∫–ª—é—á–∞–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∏–ª–∏ –º–∞—Å—Å–∏–≤ –ø–æ–≤–µ–¥–µ–Ω–∏–π.

```javascript
behaviors.disable('scrollZoom')
```

##### isEnabled(behavior)
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –≤–∫–ª—é—á–µ–Ω–æ –ª–∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ.

```javascript
if (behaviors.isEnabled('drag')) {
  console.log('–ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ –≤–∫–ª—é—á–µ–Ω–æ')
}
```

#### –ú–µ—Ç–æ–¥—ã –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø–æ–≤–µ–¥–µ–Ω–∏–π

```javascript
// –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ
behaviors.enableDrag()
behaviors.disableDrag()

// –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–≤–æ–π–Ω—ã–º –∫–ª–∏–∫–æ–º
behaviors.enableDblClickZoom()
behaviors.disableDblClickZoom()

// –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–ª–µ—Å–æ–º
behaviors.enableScrollZoom()
behaviors.disableScrollZoom()

// –ú—É–ª—å—Ç–∏—Ç–∞—á
behaviors.enableMultiTouch()
behaviors.disableMultiTouch()

// –õ–∏–Ω–µ–π–∫–∞
behaviors.enableRuler()
behaviors.disableRuler()
```

#### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏

##### setRestrictMapArea(bounds)
–û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –æ–±–ª–∞—Å—Ç—å –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è –∫–∞—Ä—Ç—ã.

```javascript
behaviors.setRestrictMapArea([
  [55.70, 37.50], // —é–≥–æ-–∑–∞–ø–∞–¥–Ω—ã–π —É–≥–æ–ª
  [55.80, 37.70]  // —Å–µ–≤–µ—Ä–æ-–≤–æ—Å—Ç–æ—á–Ω—ã–π —É–≥–æ–ª
])
```

##### setZoomRange(minZoom, maxZoom)
–û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –¥–∏–∞–ø–∞–∑–æ–Ω –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è.

```javascript
behaviors.setZoomRange(5, 15) // –æ—Ç 5 –¥–æ 15 —É—Ä–æ–≤–Ω—è
```

#### –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∫–∞—Ä—Ç—ã

```javascript
behaviors.lock()    // –ü–æ–ª–Ω–æ—Å—Ç—å—é –±–ª–æ–∫–∏—Ä—É–µ—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
behaviors.unlock()  // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
behaviors.isLocked() // –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
```

### Vue –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

#### Props

| Prop | –¢–∏–ø | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|--------------|----------|
| `map` | Object | **required** | –≠–∫–∑–µ–º–ø–ª—è—Ä –∫–∞—Ä—Ç—ã |
| `drag` | Boolean | true | –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ |
| `dblClickZoom` | Boolean | true | –ó—É–º –¥–≤–æ–π–Ω—ã–º –∫–ª–∏–∫–æ–º |
| `multiTouch` | Boolean | true | –ú—É–ª—å—Ç–∏—Ç–∞—á –∂–µ—Å—Ç—ã |
| `scrollZoom` | Boolean | true | –ó—É–º –∫–æ–ª–µ—Å–æ–º –º—ã—à–∏ |
| `rightMouseMagnifier` | Boolean | true | –õ—É–ø–∞ –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π |
| `leftMouseMagnifier` | Boolean | false | –õ—É–ø–∞ –ª–µ–≤–æ–π –∫–Ω–æ–ø–∫–æ–π |
| `ruler` | Boolean | false | –õ–∏–Ω–µ–π–∫–∞ |
| `routeEditor` | Boolean | false | –†–µ–¥–∞–∫—Ç–æ—Ä –º–∞—Ä—à—Ä—É—Ç–æ–≤ |
| `dragOptions` | Object | {...} | –û–ø—Ü–∏–∏ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è |
| `zoomOptions` | Object | {...} | –û–ø—Ü–∏–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è |
| `restrictMapArea` | Array | null | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –æ–±–ª–∞—Å—Ç–∏ |
| `restrictZoomRange` | Array | null | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∑—É–º–∞ |
| `locked` | Boolean | false | –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∫–∞—Ä—Ç—ã |
| `mobileOptimization` | Boolean | true | –ú–æ–±–∏–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è |

#### –°–æ–±—ã—Ç–∏—è

| –°–æ–±—ã—Ç–∏–µ | Payload | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|---------|----------|
| `ready` | MapBehaviors | –ú–µ–Ω–µ–¥–∂–µ—Ä –≥–æ—Ç–æ–≤ |
| `behaviorEnabled` | BehaviorType | –ü–æ–≤–µ–¥–µ–Ω–∏–µ –≤–∫–ª—é—á–µ–Ω–æ |
| `behaviorDisabled` | BehaviorType | –ü–æ–≤–µ–¥–µ–Ω–∏–µ –æ—Ç–∫–ª—é—á–µ–Ω–æ |
| `dragStart` | Event | –ù–∞—á–∞–ª–æ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è |
| `drag` | Event | –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ |
| `dragEnd` | Event | –ö–æ–Ω–µ—Ü –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è |
| `zoomStart` | Event | –ù–∞—á–∞–ª–æ –∑—É–º–∞ |
| `zoomChange` | Event | –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∑—É–º–∞ |
| `zoomEnd` | Event | –ö–æ–Ω–µ—Ü –∑—É–º–∞ |
| `locked` | - | –ö–∞—Ä—Ç–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ |
| `unlocked` | - | –ö–∞—Ä—Ç–∞ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ |
| `stateChange` | State | –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è |

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è —Å –∏–Ω–µ—Ä—Ü–∏–µ–π

```javascript
const behaviors = new MapBehaviors(map, {
  drag: true,
  dragOptions: {
    inertia: true,
    inertiaDuration: 500,
    cursor: 'grab',
    cursorDragging: 'grabbing'
  }
})
```

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –æ–±–ª–∞—Å—Ç–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞

```javascript
// –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –∫–∞—Ä—Ç–æ–π –ú–æ—Å–∫–≤—ã
behaviors.setRestrictMapArea([
  [55.142, 36.803],  // –Æ–≥–æ-–∑–∞–ø–∞–¥
  [56.021, 37.968]   // –°–µ–≤–µ—Ä–æ-–≤–æ—Å—Ç–æ–∫
])

// –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –∑—É–º –≥–æ—Ä–æ–¥—Å–∫–∏–º —É—Ä–æ–≤–Ω–µ–º
behaviors.setZoomRange(10, 16)
```

### –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è

```javascript
const isMobile = /iPhone|iPad|Android/i.test(navigator.userAgent)

const behaviors = new MapBehaviors(map, {
  drag: true,
  multiTouch: true,
  // –û—Ç–∫–ª—é—á–∞–µ–º —Ç—è–∂–µ–ª—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö
  rightMouseButtonMagnifier: !isMobile,
  ruler: !isMobile,
  routeEditor: !isMobile,
  dragOptions: {
    inertiaDuration: isMobile ? 300 : 500
  }
})
```

### –†–µ–∂–∏–º –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ (read-only)

```javascript
class ReadOnlyMap {
  constructor(map) {
    this.behaviors = new MapBehaviors(map, {
      drag: false,
      dblClickZoom: false,
      scrollZoom: false,
      multiTouch: false,
      rightMouseButtonMagnifier: false
    })
  }
  
  enableNavigation() {
    this.behaviors.enable(['drag', 'scrollZoom'])
  }
  
  disableNavigation() {
    this.behaviors.disable(['drag', 'scrollZoom'])
  }
}
```

### Vue: –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–≤–µ–¥–µ–Ω–∏—è–º–∏

```vue
<template>
  <div class="behaviors-panel">
    <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞—Ä—Ç—ã</h3>
    
    <div class="behavior-group">
      <h4>–ù–∞–≤–∏–≥–∞—Ü–∏—è</h4>
      <label v-for="behavior in navigationBehaviors" :key="behavior.name">
        <input
          v-model="behavior.enabled"
          type="checkbox"
          @change="updateBehavior(behavior)"
        />
        {{ behavior.label }}
      </label>
    </div>
    
    <div class="behavior-group">
      <h4>–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</h4>
      <label v-for="tool in tools" :key="tool.name">
        <input
          v-model="tool.enabled"
          type="checkbox"
          @change="updateBehavior(tool)"
        />
        {{ tool.label }}
      </label>
    </div>
    
    <div class="behavior-group">
      <h4>–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è</h4>
      <label>
        –ú–∏–Ω. –∑—É–º:
        <input
          v-model.number="zoomRange[0]"
          type="range"
          min="0"
          max="23"
          @change="updateZoomRange"
        />
        {{ zoomRange[0] }}
      </label>
      <label>
        –ú–∞–∫—Å. –∑—É–º:
        <input
          v-model.number="zoomRange[1]"
          type="range"
          min="0"
          max="23"
          @change="updateZoomRange"
        />
        {{ zoomRange[1] }}
      </label>
    </div>
    
    <div class="actions">
      <button @click="resetAll">–°–±—Ä–æ—Å–∏—Ç—å</button>
      <button @click="lockMap">
        {{ locked ? '–†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å' : '–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å' }}
      </button>
    </div>
  </div>
</template>

<script setup>
import { ref, reactive } from 'vue'

const props = defineProps({
  behaviors: Object // MapBehaviors instance
})

const navigationBehaviors = reactive([
  { name: 'drag', label: '–ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ', enabled: true },
  { name: 'scrollZoom', label: '–ó—É–º –∫–æ–ª–µ—Å–æ–º', enabled: true },
  { name: 'dblClickZoom', label: '–ó—É–º –¥–≤–æ–π–Ω—ã–º –∫–ª–∏–∫–æ–º', enabled: true },
  { name: 'multiTouch', label: '–ú—É–ª—å—Ç–∏—Ç–∞—á', enabled: true }
])

const tools = reactive([
  { name: 'ruler', label: '–õ–∏–Ω–µ–π–∫–∞', enabled: false },
  { name: 'routeEditor', label: '–†–µ–¥–∞–∫—Ç–æ—Ä –º–∞—Ä—à—Ä—É—Ç–æ–≤', enabled: false },
  { name: 'rightMouseButtonMagnifier', label: '–õ—É–ø–∞', enabled: false }
])

const zoomRange = ref([0, 23])
const locked = ref(false)

const updateBehavior = (behavior) => {
  if (!props.behaviors) return
  
  if (behavior.enabled) {
    props.behaviors.enable(behavior.name)
  } else {
    props.behaviors.disable(behavior.name)
  }
}

const updateZoomRange = () => {
  if (!props.behaviors) return
  props.behaviors.setZoomRange(zoomRange.value[0], zoomRange.value[1])
}

const resetAll = () => {
  if (!props.behaviors) return
  props.behaviors.reset()
  
  // –û–±–Ω–æ–≤–ª—è–µ–º UI
  navigationBehaviors.forEach(b => {
    b.enabled = props.behaviors.isEnabled(b.name)
  })
  tools.forEach(t => {
    t.enabled = props.behaviors.isEnabled(t.name)
  })
}

const lockMap = () => {
  if (!props.behaviors) return
  
  if (locked.value) {
    props.behaviors.unlock()
    locked.value = false
  } else {
    props.behaviors.lock()
    locked.value = true
  }
}
</script>
```

### –ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø–æ–≤–µ–¥–µ–Ω–∏—è

```javascript
// –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è "—Ä–∏—Å–æ–≤–∞–Ω–∏–µ"
behaviors.createCustomBehavior('drawing', {
  onEnable: (map, manager) => {
    // –û—Ç–∫–ª—é—á–∞–µ–º –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ –ø—Ä–∏ —Ä–∏—Å–æ–≤–∞–Ω–∏–∏
    manager.disableDrag()
    
    // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞
    map.events.add('click', this.handleDrawClick)
    
    // –ú–µ–Ω—è–µ–º –∫—É—Ä—Å–æ—Ä
    map.container.getElement().style.cursor = 'crosshair'
  },
  
  onDisable: (map, manager) => {
    // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ
    manager.enableDrag()
    
    // –£–¥–∞–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
    map.events.remove('click', this.handleDrawClick)
    
    // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫—É—Ä—Å–æ—Ä
    map.container.getElement().style.cursor = ''
  },
  
  handleDrawClick: (e) => {
    const coords = e.get('coords')
    // –õ–æ–≥–∏–∫–∞ —Ä–∏—Å–æ–≤–∞–Ω–∏—è
    console.log('–†–∏—Å—É–µ–º –≤ —Ç–æ—á–∫–µ:', coords)
  }
})

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
behaviors.enableCustomBehavior('drawing')
// ...
behaviors.disableCustomBehavior('drawing')
```

## ‚öôÔ∏è –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –ú–æ–±–∏–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

```javascript
const behaviors = new MapBehaviors(map, {
  // –ë–∞–∑–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
  drag: true,
  multiTouch: true,
  
  // –û—Ç–∫–ª—é—á–∞–µ–º —Ç—è–∂–µ–ª—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
  rightMouseButtonMagnifier: false,
  ruler: false,
  routeEditor: false,
  
  // –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ–º –∞–Ω–∏–º–∞—Ü–∏–∏
  dragOptions: {
    inertiaDuration: 300 // –ë—ã—Å—Ç—Ä–µ–µ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö
  },
  zoomOptions: {
    duration: 200 // –ë—ã—Å—Ç—Ä–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –∑—É–º–∞
  }
})
```

### Throttling —Å–æ–±—ã—Ç–∏–π

```vue
<YMapsBehaviors
  :event-throttle="100"
  @drag="onDrag"
  @zoom-change="onZoomChange"
/>
```

## üé® –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–≤–µ–¥–µ–Ω–∏–π

| –ü–æ–≤–µ–¥–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|-----------|----------|--------------|
| `drag` | –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ –∫–∞—Ä—Ç—ã | ‚úÖ |
| `dblClickZoom` | –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–≤–æ–π–Ω—ã–º –∫–ª–∏–∫–æ–º | ‚úÖ |
| `scrollZoom` | –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–ª–µ—Å–æ–º –º—ã—à–∏ | ‚úÖ |
| `multiTouch` | –ú—É–ª—å—Ç–∏—Ç–∞—á –∂–µ—Å—Ç—ã | ‚úÖ |
| `rightMouseButtonMagnifier` | –õ—É–ø–∞ –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π | ‚úÖ |
| `leftMouseButtonMagnifier` | –õ—É–ø–∞ –ª–µ–≤–æ–π –∫–Ω–æ–ø–∫–æ–π | ‚ùå |
| `ruler` | –ò–∑–º–µ—Ä–µ–Ω–∏–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–π | ‚ùå |
| `routeEditor` | –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤ | ‚ùå |

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü–æ–≤–µ–¥–µ–Ω–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç

```javascript
// –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å
if (!behaviors.isReady()) {
  console.log('–ú–µ–Ω–µ–¥–∂–µ—Ä –µ—â–µ –Ω–µ –≥–æ—Ç–æ–≤')
  return
}

// –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤–∫–ª—é—á–µ–Ω–æ
console.log('–í–∫–ª—é—á–µ–Ω–Ω—ã–µ:', behaviors.getEnabled())

// –°–±—Ä–æ—Å—å—Ç–µ –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
behaviors.reset()
```

### –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã –ø–æ–≤–µ–¥–µ–Ω–∏–π

```javascript
// –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –ø–æ–≤–µ–¥–µ–Ω–∏—è –º–æ–≥—É—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞—Ç—å
// –ù–∞–ø—Ä–∏–º–µ—Ä, ruler –∏ drag

// –°–æ–∑–¥–∞–π—Ç–µ —Ä–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã
class MapModes {
  constructor(behaviors) {
    this.behaviors = behaviors
  }
  
  navigationMode() {
    this.behaviors.enable(['drag', 'scrollZoom'])
    this.behaviors.disable(['ruler', 'routeEditor'])
  }
  
  measureMode() {
    this.behaviors.enable('ruler')
    this.behaviors.disable('drag')
  }
  
  editMode() {
    this.behaviors.enable('routeEditor')
    this.behaviors.disable(['ruler', 'drag'])
  }
}
```

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏

- [YMapsCore](../core/README.md) - –Ø–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã
- [Placemark](../modules/Placemark/README.md) - –ú–µ—Ç–∫–∏ –Ω–∞ –∫–∞—Ä—Ç–µ
- [Clusterer](../modules/Clusterer/README.md) - –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–ú–æ–¥—É–ª—å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –ø—Ä–æ–µ–∫—Ç–∞—Ö —Å Yandex Maps API.

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å–æ–≤ –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ –∫–æ–º–∞–Ω–¥–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ SPA Platform.