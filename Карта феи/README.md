# üó∫Ô∏è –ö–∞—Ä—Ç–∞ FEIPITER - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Yandex Maps

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
–ö–∞—Ä—Ç–∞ —Ñ–µ–∏/
‚îú‚îÄ‚îÄ js/                    # JavaScript —Ñ–∞–π–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ yandex-maps.js    # –ü–æ–ª–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ Yandex Maps API v2.1.79 (3MB)
‚îÇ   ‚îú‚îÄ‚îÄ yandex-maps-part1.js  # –ß–∞—Å—Ç—å 1 (250KB)
‚îÇ   ‚îú‚îÄ‚îÄ yandex-maps-part2.js  # –ß–∞—Å—Ç—å 2 (250KB)
‚îÇ   ‚îî‚îÄ‚îÄ yandex-maps-part3.js  # –ß–∞—Å—Ç—å 3 (250KB)
‚îú‚îÄ‚îÄ css/                   # –°—Ç–∏–ª–∏ –∫–∞—Ä—Ç—ã
‚îú‚îÄ‚îÄ assets/                # –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –∏–∫–æ–Ω–∫–∏
‚îú‚îÄ‚îÄ html/                  # HTML —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏–∑ FEIPITER
‚îÇ   ‚îú‚îÄ‚îÄ index.html        # –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îÇ   ‚îú‚îÄ‚îÄ metadata.json     # –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
‚îÇ   ‚îî‚îÄ‚îÄ screenshot_viewport.png  # –°–∫—Ä–∏–Ω—à–æ—Ç
‚îú‚îÄ‚îÄ docs/                  # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ index.html            # –ü—Ä–∏–º–µ—Ä –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∫–∞—Ä—Ç—ã
‚îî‚îÄ‚îÄ README.md             # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –û–Ω–ª–∞–π–Ω –≤–µ—Ä—Å–∏—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
1. –û—Ç–∫—Ä–æ–π—Ç–µ `index.html` –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –ö–∞—Ä—Ç–∞ –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ API Yandex Maps

### –û—Ñ–ª–∞–π–Ω –≤–µ—Ä—Å–∏—è
1. –í `index.html` —Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Å—Ç—Ä–æ–∫—É:
```html
<script src="js/yandex-maps.js"></script>
```
2. –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –æ–Ω–ª–∞–π–Ω –≤–µ—Ä—Å–∏—é API

## üîë API –∫–ª—é—á

–î–ª—è production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω—É–∂–µ–Ω API –∫–ª—é—á –æ—Ç –Ø–Ω–¥–µ–∫—Å:
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ https://developer.tech.yandex.ru/
2. –ü–æ–ª—É—á–∏—Ç–µ –∫–ª—é—á –¥–ª—è JavaScript API –∏ HTTP –ì–µ–æ–∫–æ–¥–µ—Ä
3. –ó–∞–º–µ–Ω–∏—Ç–µ `YOUR_API_KEY` –≤ index.html

## üì¶ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∫–∞—Ä—Ç—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏ Yandex Maps API:
- **Balloon** - –≤—Å–ø–ª—ã–≤–∞—é—â–∏–µ –æ–∫–Ω–∞ –Ω–∞ –∫–∞—Ä—Ç–µ
- **Placemark** - –º–µ—Ç–∫–∏ –Ω–∞ –∫–∞—Ä—Ç–µ
- **Clusterer** - –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è –º–µ—Ç–æ–∫
- **GeoObject** - –≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –æ–±—ä–µ–∫—Ç—ã
- **Controls** - —ç–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ä—Ç–æ–π
- **Behaviors** - –ø–æ–≤–µ–¥–µ–Ω–∏—è (drag, zoom, click)

### –§—É–Ω–∫—Ü–∏–∏ –∏–∑ –ø—Ä–∏–º–µ—Ä–∞:
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–µ—Ç–æ–∫ –º–∞—Å—Ç–µ—Ä–æ–≤
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —É—Å–ª—É–≥–∞–º –∏ —Ä–∞–π–æ–Ω–∞–º
- –§–∏–ª—å—Ç—Ä –ø–æ —Ü–µ–Ω–µ
- –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è –º–µ—Ç–æ–∫
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –í—Å–ø–ª—ã–≤–∞—é—â–∏–µ –æ–∫–Ω–∞ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π

## üîß –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ SPA Platform

### 1. Vue –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –∫–∞—Ä—Ç—ã

```vue
<template>
  <div class="yandex-map-wrapper">
    <div id="yandex-map" ref="mapContainer"></div>
  </div>
</template>

<script setup lang="ts">
import { ref, onMounted, onUnmounted } from 'vue'

const mapContainer = ref<HTMLElement>()
let map: any = null

onMounted(() => {
  // –ó–∞–≥—Ä—É–∑–∫–∞ Yandex Maps API
  const script = document.createElement('script')
  script.src = 'https://api-maps.yandex.ru/2.1/?apikey=YOUR_KEY&lang=ru_RU'
  script.onload = initMap
  document.head.appendChild(script)
})

function initMap() {
  // @ts-ignore
  ymaps.ready(() => {
    // @ts-ignore
    map = new ymaps.Map(mapContainer.value, {
      center: [55.753994, 37.622093],
      zoom: 12
    })
  })
}

onUnmounted(() => {
  if (map) {
    map.destroy()
  }
})
</script>
```

### 2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ Laravel

```php
// app/Domain/Master/Services/MasterMapService.php
namespace App\Domain\Master\Services;

class MasterMapService
{
    public function getMastersForMap($filters = [])
    {
        return Master::query()
            ->with(['services', 'location'])
            ->when($filters['district'] ?? null, function ($q, $district) {
                $q->where('district', $district);
            })
            ->when($filters['price_from'] ?? null, function ($q, $price) {
                $q->where('price_per_hour', '>=', $price);
            })
            ->get()
            ->map(function ($master) {
                return [
                    'id' => $master->id,
                    'name' => $master->name,
                    'coords' => [$master->latitude, $master->longitude],
                    'services' => $master->services->pluck('name'),
                    'price' => $master->price_per_hour,
                    'rating' => $master->rating,
                    'photo' => $master->photo_url
                ];
            });
    }
}
```

## üìä –î–∞–Ω–Ω—ã–µ –∏–∑ FEIPITER

### –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- –ü–æ–ª–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ Yandex Maps v2.1.79
- –§–∏–ª—å—Ç—Ä—ã –ø–æ –º–µ—Ç—Ä–æ –∏ —Ä–∞–π–æ–Ω–∞–º
- CSS —Å—Ç–∏–ª–∏ –¥–ª—è –∫–∞—Ä—Ç—ã
- –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

### –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (metadata.json):
```json
{
  "url": "https://mc.yandex.com/metrika/metrika_match.html",
  "frameworks_detected": {
    "jquery": true
  }
}
```

## üé® –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è

–ö–∞—Ä—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Å—Ç–∏–ª–∏ –Ø–Ω–¥–µ–∫—Å —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏:
- –ò–∫–æ–Ω–∫–∏ –º–µ—Ç–æ–∫
- –¶–≤–µ—Ç–∞ –∫–ª–∞—Å—Ç–µ—Ä–æ–≤
- –°—Ç–∏–ª–∏ –≤—Å–ø–ª—ã–≤–∞—é—â–∏—Ö –æ–∫–æ–Ω
- –≠–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

## üì± –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è

–ö–∞—Ä—Ç–∞ –∞–¥–∞–ø—Ç–∏–≤–Ω–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö:
- Touch —Å–æ–±—ã—Ç–∏—è –¥–ª—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- API –∫–ª—é—á —Ö—Ä–∞–Ω–∏—Ç–µ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –í–∞–ª–∏–¥–∏—Ä—É–π—Ç–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS –¥–ª—è production

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Yandex Maps API](https://yandex.ru/dev/maps/jsapi/doc/)
- [–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](https://yandex.ru/dev/maps/jsapi/doc/2.1/examples/)
- [–ü–µ—Å–æ—á–Ω–∏—Ü–∞](https://yandex.ru/dev/maps/jsbox/2.1/)

## üí° –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

1. –§–∞–π–ª `yandex-maps.js` —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª–Ω—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É (3MB)
2. –†–∞–∑–¥–µ–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (part1-3) –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –∞–Ω–∞–ª–∏–∑–∞
3. –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –∏–∑ FEIPITER —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ html/
4. –í—Å–µ assets (–∏–∫–æ–Ω–∫–∏, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è) —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã

## ü§ù –ö–æ–Ω—Ç–∞–∫—Ç—ã

–î–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ –∫–æ–º–∞–Ω–¥–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ SPA Platform.