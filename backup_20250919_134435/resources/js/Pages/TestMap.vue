<template>
  <div class="min-h-screen bg-gray-50 p-4">
    <div class="max-w-7xl mx-auto">
      <h1 class="text-2xl font-bold mb-4">–¢–µ—Å—Ç –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç</h1>
      
      <!-- –¢–µ—Å—Ç–æ–≤–∞—è –∫–∞—Ä—Ç–∞ -->
      <YandexMapNative
        :height="500"
        :show-search="true"
        :masters="testMasters"
        @address-select="handleAddressSelect"
        @ready="handleMapReady"
      />
      
      <div v-if="selectedAddress" class="mt-4 p-4 bg-white rounded-lg shadow">
        <h2 class="font-bold mb-2">–í—ã–±—Ä–∞–Ω–Ω—ã–π –∞–¥—Ä–µ—Å:</h2>
        <pre>{{ JSON.stringify(selectedAddress, null, 2) }}</pre>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue'
import YandexMapNative from '@/src/features/map/components/YandexMapNative.vue'

const selectedAddress = ref(null)

const testMasters = ref([
  {
    id: 1,
    name: '–ú–∞—Å—Ç–µ—Ä 1',
    lat: 55.7558,
    lng: 37.6173
  },
  {
    id: 2,
    name: '–ú–∞—Å—Ç–µ—Ä 2',
    lat: 55.7522,
    lng: 37.6156
  }
])

const handleAddressSelect = (location: any) => {
  console.log('üìç –ê–¥—Ä–µ—Å –≤—ã–±—Ä–∞–Ω:', location)
  selectedAddress.value = location
}

const handleMapReady = () => {
  console.log('‚úÖ –ö–∞—Ä—Ç–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ')
}
</script>